function mz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function va(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e_={exports:{}},dh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function pz(){if(rC)return dh;rC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return dh.Fragment=e,dh.jsx=n,dh.jsxs=n,dh}var iC;function gz(){return iC||(iC=1,e_.exports=pz()),e_.exports}var I=gz(),t_={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function yz(){if(aC)return $e;aC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function O(H,re,pe){this.props=H,this.context=re,this.refs=T,this.updater=pe||x}O.prototype.isReactComponent={},O.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=O.prototype;function P(H,re,pe){this.props=H,this.context=re,this.refs=T,this.updater=pe||x}var $=P.prototype=new M;$.constructor=P,E($,O.prototype),$.isPureReactComponent=!0;var B=Array.isArray;function q(){}var R={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function j(H,re,pe){var be=pe.ref;return{$$typeof:t,type:H,key:re,ref:be!==void 0?be:null,props:pe}}function z(H,re){return j(H.type,re,H.props)}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(pe){return re[pe]})}var k=/\/+/g;function ce(H,re){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):re.toString(36)}function we(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(q,q):(H.status="pending",H.then(function(re){H.status==="pending"&&(H.status="fulfilled",H.value=re)},function(re){H.status==="pending"&&(H.status="rejected",H.reason=re)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Q(H,re,pe,be,xe){var je=typeof H;(je==="undefined"||je==="boolean")&&(H=null);var ge=!1;if(H===null)ge=!0;else switch(je){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(H.$$typeof){case t:case e:ge=!0;break;case m:return ge=H._init,Q(ge(H._payload),re,pe,be,xe)}}if(ge)return xe=xe(H),ge=be===""?"."+ce(H,0):be,B(xe)?(pe="",ge!=null&&(pe=ge.replace(k,"$&/")+"/"),Q(xe,re,pe,"",function(Ee){return Ee})):xe!=null&&(V(xe)&&(xe=z(xe,pe+(xe.key==null||H&&H.key===xe.key?"":(""+xe.key).replace(k,"$&/")+"/")+ge)),re.push(xe)),1;ge=0;var De=be===""?".":be+":";if(B(H))for(var G=0;G<H.length;G++)be=H[G],je=De+ce(be,G),ge+=Q(be,re,pe,je,xe);else if(G=_(H),typeof G=="function")for(H=G.call(H),G=0;!(be=H.next()).done;)be=be.value,je=De+ce(be,G++),ge+=Q(be,re,pe,je,xe);else if(je==="object"){if(typeof H.then=="function")return Q(we(H),re,pe,be,xe);throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(H,re,pe){if(H==null)return H;var be=[],xe=0;return Q(H,be,"","",function(je){return re.call(pe,je,xe++)}),be}function fe(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(pe){(H._status===0||H._status===-1)&&(H._status=1,H._result=pe)},function(pe){(H._status===0||H._status===-1)&&(H._status=2,H._result=pe)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var me=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Se={map:W,forEach:function(H,re,pe){W(H,function(){re.apply(this,arguments)},pe)},count:function(H){var re=0;return W(H,function(){re++}),re},toArray:function(H){return W(H,function(re){return re})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return $e.Activity=p,$e.Children=Se,$e.Component=O,$e.Fragment=n,$e.Profiler=i,$e.PureComponent=P,$e.StrictMode=r,$e.Suspense=f,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,$e.__COMPILER_RUNTIME={__proto__:null,c:function(H){return R.H.useMemoCache(H)}},$e.cache=function(H){return function(){return H.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(H,re,pe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var be=E({},H.props),xe=H.key;if(re!=null)for(je in re.key!==void 0&&(xe=""+re.key),re)!N.call(re,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&re.ref===void 0||(be[je]=re[je]);var je=arguments.length-2;if(je===1)be.children=pe;else if(1<je){for(var ge=Array(je),De=0;De<je;De++)ge[De]=arguments[De+2];be.children=ge}return j(H.type,xe,be)},$e.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},$e.createElement=function(H,re,pe){var be,xe={},je=null;if(re!=null)for(be in re.key!==void 0&&(je=""+re.key),re)N.call(re,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(xe[be]=re[be]);var ge=arguments.length-2;if(ge===1)xe.children=pe;else if(1<ge){for(var De=Array(ge),G=0;G<ge;G++)De[G]=arguments[G+2];xe.children=De}if(H&&H.defaultProps)for(be in ge=H.defaultProps,ge)xe[be]===void 0&&(xe[be]=ge[be]);return j(H,je,xe)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(H){return{$$typeof:c,render:H}},$e.isValidElement=V,$e.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:fe}},$e.memo=function(H,re){return{$$typeof:d,type:H,compare:re===void 0?null:re}},$e.startTransition=function(H){var re=R.T,pe={};R.T=pe;try{var be=H(),xe=R.S;xe!==null&&xe(pe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(q,me)}catch(je){me(je)}finally{re!==null&&pe.types!==null&&(re.types=pe.types),R.T=re}},$e.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},$e.use=function(H){return R.H.use(H)},$e.useActionState=function(H,re,pe){return R.H.useActionState(H,re,pe)},$e.useCallback=function(H,re){return R.H.useCallback(H,re)},$e.useContext=function(H){return R.H.useContext(H)},$e.useDebugValue=function(){},$e.useDeferredValue=function(H,re){return R.H.useDeferredValue(H,re)},$e.useEffect=function(H,re){return R.H.useEffect(H,re)},$e.useEffectEvent=function(H){return R.H.useEffectEvent(H)},$e.useId=function(){return R.H.useId()},$e.useImperativeHandle=function(H,re,pe){return R.H.useImperativeHandle(H,re,pe)},$e.useInsertionEffect=function(H,re){return R.H.useInsertionEffect(H,re)},$e.useLayoutEffect=function(H,re){return R.H.useLayoutEffect(H,re)},$e.useMemo=function(H,re){return R.H.useMemo(H,re)},$e.useOptimistic=function(H,re){return R.H.useOptimistic(H,re)},$e.useReducer=function(H,re,pe){return R.H.useReducer(H,re,pe)},$e.useRef=function(H){return R.H.useRef(H)},$e.useState=function(H){return R.H.useState(H)},$e.useSyncExternalStore=function(H,re,pe){return R.H.useSyncExternalStore(H,re,pe)},$e.useTransition=function(){return R.H.useTransition()},$e.version="19.2.0",$e}var sC;function Gc(){return sC||(sC=1,t_.exports=yz()),t_.exports}var A=Gc();const zy=va(A),vz=mz({__proto__:null,default:zy},[A]);var n_={exports:{}},mh={},r_={exports:{}},i_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function bz(){return oC||(oC=1,(function(t){function e(Q,W){var fe=Q.length;Q.push(W);e:for(;0<fe;){var me=fe-1>>>1,Se=Q[me];if(0<i(Se,W))Q[me]=W,Q[fe]=Se,fe=me;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var W=Q[0],fe=Q.pop();if(fe!==W){Q[0]=fe;e:for(var me=0,Se=Q.length,H=Se>>>1;me<H;){var re=2*(me+1)-1,pe=Q[re],be=re+1,xe=Q[be];if(0>i(pe,fe))be<Se&&0>i(xe,pe)?(Q[me]=xe,Q[be]=fe,me=be):(Q[me]=pe,Q[re]=fe,me=re);else if(be<Se&&0>i(xe,fe))Q[me]=xe,Q[be]=fe,me=be;else break e}}return W}function i(Q,W){var fe=Q.sortIndex-W.sortIndex;return fe!==0?fe:Q.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],m=1,p=null,v=3,_=!1,x=!1,E=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function $(Q){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=Q)r(d),W.sortIndex=W.expirationTime,e(f,W);else break;W=n(d)}}function B(Q){if(E=!1,$(Q),!x)if(n(f)!==null)x=!0,q||(q=!0,U());else{var W=n(d);W!==null&&we(B,W.startTime-Q)}}var q=!1,R=-1,N=5,j=-1;function z(){return T?!0:!(t.unstable_now()-j<N)}function V(){if(T=!1,q){var Q=t.unstable_now();j=Q;var W=!0;try{e:{x=!1,E&&(E=!1,M(R),R=-1),_=!0;var fe=v;try{t:{for($(Q),p=n(f);p!==null&&!(p.expirationTime>Q&&z());){var me=p.callback;if(typeof me=="function"){p.callback=null,v=p.priorityLevel;var Se=me(p.expirationTime<=Q);if(Q=t.unstable_now(),typeof Se=="function"){p.callback=Se,$(Q),W=!0;break t}p===n(f)&&r(f),$(Q)}else r(f);p=n(f)}if(p!==null)W=!0;else{var H=n(d);H!==null&&we(B,H.startTime-Q),W=!1}}break e}finally{p=null,v=fe,_=!1}W=void 0}}finally{W?U():q=!1}}}var U;if(typeof P=="function")U=function(){P(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ce=k.port2;k.port1.onmessage=V,U=function(){ce.postMessage(null)}}else U=function(){O(V,0)};function we(Q,W){R=O(function(){Q(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var fe=v;v=W;try{return Q()}finally{v=fe}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Q,W){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=v;v=Q;try{return W()}finally{v=fe}},t.unstable_scheduleCallback=function(Q,W,fe){var me=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?me+fe:me):fe=me,Q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=fe+Se,Q={id:m++,callback:W,priorityLevel:Q,startTime:fe,expirationTime:Se,sortIndex:-1},fe>me?(Q.sortIndex=fe,e(d,Q),n(f)===null&&Q===n(d)&&(E?(M(R),R=-1):E=!0,we(B,fe-me))):(Q.sortIndex=Se,e(f,Q),x||_||(x=!0,q||(q=!0,U()))),Q},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Q){var W=v;return function(){var fe=v;v=W;try{return Q.apply(this,arguments)}finally{v=fe}}}})(i_)),i_}var lC;function _z(){return lC||(lC=1,r_.exports=bz()),r_.exports}var a_={exports:{}},Kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function wz(){if(uC)return Kn;uC=1;var t=Gc();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,m)},Kn.flushSync=function(f){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=m,r.d.f()}},Kn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Kn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Kn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,p=c(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:_}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Kn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Kn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Kn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Kn.requestFormReset=function(f){r.d.r(f)},Kn.unstable_batchedUpdates=function(f,d){return f(d)},Kn.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},Kn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Kn.version="19.2.0",Kn}var cC;function gM(){if(cC)return a_.exports;cC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a_.exports=wz(),a_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function Ez(){if(fC)return mh;fC=1;var t=_z(),e=Gc(),n=gM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function d(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),a;if(b===h)return f(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==h.return)u=y,h=b;else{for(var S=!1,D=y.child;D;){if(D===u){S=!0,u=y,h=b;break}if(D===h){S=!0,h=y,u=b;break}D=D.sibling}if(!S){for(D=b.child;D;){if(D===u){S=!0,u=b,h=y;break}if(D===h){S=!0,h=b,u=y;break}D=D.sibling}if(!S)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),P=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var k=Symbol.for("react.client.reference");function ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===k?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case O:return"Profiler";case T:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList";case j:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case P:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case $:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:ce(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return ce(a(o))}catch{}}return null}var we=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},me=[],Se=-1;function H(a){return{current:a}}function re(a){0>Se||(a.current=me[Se],me[Se]=null,Se--)}function pe(a,o){Se++,me[Se]=a.current,a.current=o}var be=H(null),xe=H(null),je=H(null),ge=H(null);function De(a,o){switch(pe(je,o),pe(xe,a),pe(be,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?SI(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=SI(o),a=II(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}re(be),pe(be,a)}function G(){re(be),re(xe),re(je)}function Ee(a){a.memoizedState!==null&&pe(ge,a);var o=be.current,u=II(o,a.type);o!==u&&(pe(xe,a),pe(be,u))}function Ve(a){xe.current===a&&(re(be),re(xe)),ge.current===a&&(re(ge),uh._currentValue=fe)}var he,Kt;function We(a){if(he===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",Kt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+a+Kt}var pn=!1;function Gt(a,o){if(!a||pn)return"";pn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var te=ae}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ae){te=ae}a.call(ue.prototype)}}else{try{throw Error()}catch(ae){te=ae}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),S=b[0],D=b[1];if(S&&D){var F=S.split(`
`),ee=D.split(`
`);for(y=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ee.length&&!ee[y].includes("DetermineComponentFrameRoot");)y++;if(h===F.length||y===ee.length)for(h=F.length-1,y=ee.length-1;1<=h&&0<=y&&F[h]!==ee[y];)y--;for(;1<=h&&0<=y;h--,y--)if(F[h]!==ee[y]){if(h!==1||y!==1)do if(h--,y--,0>y||F[h]!==ee[y]){var oe=`
`+F[h].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=h&&0<=y);break}}}finally{pn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?We(u):""}function xr(a,o){switch(a.tag){case 26:case 27:case 5:return We(a.type);case 16:return We("Lazy");case 13:return a.child!==o&&o!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Gt(a.type,!1);case 11:return Gt(a.type.render,!1);case 1:return Gt(a.type,!0);case 31:return We("Activity");default:return""}}function ys(a){try{var o="",u=null;do o+=xr(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Jt=Object.prototype.hasOwnProperty,gn=t.unstable_scheduleCallback,vs=t.unstable_cancelCallback,n0=t.unstable_shouldYield,im=t.unstable_requestPaint,nr=t.unstable_now,jo=t.unstable_getCurrentPriorityLevel,hf=t.unstable_ImmediatePriority,df=t.unstable_UserBlockingPriority,bs=t.unstable_NormalPriority,r0=t.unstable_LowPriority,am=t.unstable_IdlePriority,sm=t.log,om=t.unstable_setDisableYieldValue,vi=null,Mn=null;function Hr(a){if(typeof sm=="function"&&om(a),Mn&&typeof Mn.setStrictMode=="function")try{Mn.setStrictMode(vi,a)}catch{}}var Yt=Math.clz32?Math.clz32:um,lm=Math.log,fu=Math.LN2;function um(a){return a>>>=0,a===0?32:31-(lm(a)/fu|0)|0}var Vi=256,Vo=262144,en=4194304;function Li(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function zi(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var y=0,b=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var D=h&134217727;return D!==0?(h=D&~b,h!==0?y=Li(h):(S&=D,S!==0?y=Li(S):u||(u=D&~a,u!==0&&(y=Li(u))))):(D=h&~b,D!==0?y=Li(D):S!==0?y=Li(S):u||(u=h&~a,u!==0&&(y=Li(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function bi(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function i0(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cm(){var a=en;return en<<=1,(en&62914560)===0&&(en=4194304),a}function Bi(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Lo(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function a0(a,o,u,h,y,b){var S=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var D=a.entanglements,F=a.expirationTimes,ee=a.hiddenUpdates;for(u=S&~u;0<u;){var oe=31-Yt(u),ue=1<<oe;D[oe]=0,F[oe]=-1;var te=ee[oe];if(te!==null)for(ee[oe]=null,oe=0;oe<te.length;oe++){var ae=te[oe];ae!==null&&(ae.lane&=-536870913)}u&=~ue}h!==0&&zo(a,h,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(S&~o))}function zo(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Yt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function mf(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Yt(u),y=1<<h;y&o|a[h]&o&&(a[h]|=o),u&=~y}}function pf(a,o){var u=o&-o;return u=(u&42)!==0?1:Bo(u),(u&(a.suspendedLanes|o))!==0?0:u}function Bo(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function fm(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:QI(a.type))}function _i(a,o){var u=W.p;try{return W.p=a,o()}finally{W.p=u}}var wi=Math.random().toString(36).slice(2),tn="__reactFiber$"+wi,Sn="__reactProps$"+wi,Ui="__reactContainer$"+wi,hu="__reactEvents$"+wi,s0="__reactListeners$"+wi,hm="__reactHandles$"+wi,dm="__reactResources$"+wi,$i="__reactMarker$"+wi;function du(a){delete a[tn],delete a[Sn],delete a[hu],delete a[s0],delete a[hm]}function qi(a){var o=a[tn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Ui]||u[tn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=MI(a);a!==null;){if(u=a[tn])return u;a=MI(a)}return o}a=u,u=a.parentNode}return null}function Kr(a){if(a=a[tn]||a[Ui]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Tr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Fi(a){var o=a[dm];return o||(o=a[dm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nn(a){a[$i]=!0}var gf=new Set,yf={};function Hi(a,o){Ki(a,o),Ki(a+"Capture",o)}function Ki(a,o){for(yf[a]=o,a=0;a<o.length;a++)gf.add(o[a])}var vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bf={},_f={};function mm(a){return Jt.call(_f,a)?!0:Jt.call(bf,a)?!1:vf.test(a)?_f[a]=!0:(bf[a]=!0,!1)}function mu(a,o,u){if(mm(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Ar(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function rn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function In(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _s(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function wf(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(S){u=""+S,b.call(this,S)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ht(a){if(!a._valueTracker){var o=_s(a)?"checked":"value";a._valueTracker=wf(a,o,""+a[o])}}function Uo(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=_s(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Gi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $o=/[\n"\\]/g;function fr(a){return a.replace($o,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function pu(a,o,u,h,y,b,S,D){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),o!=null?S==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+In(o)):a.value!==""+In(o)&&(a.value=""+In(o)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),o!=null?Ef(a,S,In(o)):u!=null?Ef(a,S,In(u)):h!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+In(D):a.removeAttribute("name")}function pm(a,o,u,h,y,b,S,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){ht(a);return}u=u!=null?""+In(u):"",o=o!=null?""+In(o):u,D||o===a.value||(a.value=o),a.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=D?a.checked:!!h,a.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S),ht(a)}function Ef(a,o,u){o==="number"&&Gi(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ws(a,o,u,h){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&h&&(a[u].defaultSelected=!0)}else{for(u=""+In(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function gm(a,o,u){if(o!=null&&(o=""+In(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+In(u):""}function Es(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(we(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=In(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),ht(a)}function hr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var ym=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xf(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||ym.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Tf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&u[y]!==h&&xf(a,y,h)}else for(var b in o)o.hasOwnProperty(b)&&xf(a,b,o[b])}function gu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(a){return xs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ei(){}var Af=null;function Gr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ts=null,Yi=null;function qo(a){var o=Kr(a);if(o&&(a=o.stateNode)){var u=a[Sn]||null;e:switch(a=o.stateNode,o.type){case"input":if(pu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+fr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var y=h[Sn]||null;if(!y)throw Error(r(90));pu(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Uo(h)}break e;case"textarea":gm(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ws(a,!!u.multiple,o,!1)}}}var vu=!1;function As(a,o,u){if(vu)return a(o,u);vu=!0;try{var h=a(o);return h}finally{if(vu=!1,(Ts!==null||Yi!==null)&&(fp(),Ts&&(o=Ts,a=Yi,Yi=Ts=null,qo(o),a)))for(o=0;o<a.length;o++)qo(a[o])}}function xi(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Sn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=!1;if(Yr)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Fo=!1}var Wi=null,Sf=null,Ho=null;function If(){if(Ho)return Ho;var a,o=Sf,u=o.length,h,y="value"in Wi?Wi.value:Wi.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var S=u-a;for(h=1;h<=S&&o[u-h]===y[b-h];h++);return Ho=y.slice(a,1<h?1-h:void 0)}function Ko(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ea(){return!0}function Ti(){return!1}function kn(a){function o(u,h,y,b,S){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(u=a[D],this[D]=u?u(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ea:Ti,this.isPropagationStopped=Ti,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),o}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=kn(xa),Ss=p({},xa,{view:0,detail:0}),Cf=kn(Ss),Is,bu,Xi,_u=p({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Xi&&(Xi&&a.type==="mousemove"?(Is=a.screenX-Xi.screenX,bu=a.screenY-Xi.screenY):bu=Is=0,Xi=a),Is)},movementY:function(a){return"movementY"in a?a.movementY:bu}}),Of=kn(_u),Go=p({},_u,{dataTransfer:0}),bm=kn(Go),_m=p({},Ss,{relatedTarget:0}),Yo=kn(_m),Rf=p({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=kn(Rf),wu=p({},xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Em=kn(wu),xm=p({},xa,{data:0}),Zi=kn(xm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Im(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Sm[a])?!!o[a]:!1}function Cs(){return Im}var rr=p({},Ss,{key:function(a){if(a.key){var o=Tm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ko(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Am[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(a){return a.type==="keypress"?Ko(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ko(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Cm=kn(rr),Om=p({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ta=kn(Om),g=p({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),w=kn(g),C=p({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=kn(C),Z=p({},_u,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=kn(Z),ve=p({},xa,{newState:0,oldState:0}),qe=kn(ve),Wt=[9,13,27,32],ut=Yr&&"CompositionEvent"in window,Rt=null;Yr&&"documentMode"in document&&(Rt=document.documentMode);var Wr=Yr&&"TextEvent"in window&&!Rt,Ji=Yr&&(!ut||Rt&&8<Rt&&11>=Rt),Ai=" ",Si=!1;function Wo(a,o){switch(a){case"keyup":return Wt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xu=!1;function LL(a,o){switch(a){case"compositionend":return Eu(o);case"keypress":return o.which!==32?null:(Si=!0,Ai);case"textInput":return a=o.data,a===Ai&&Si?null:a;default:return null}}function zL(a,o){if(xu)return a==="compositionend"||!ut&&Wo(a,o)?(a=If(),Ho=Sf=Wi=null,xu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ji&&o.locale!=="ko"?null:o.data;default:return null}}var BL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!BL[a.type]:o==="textarea"}function LA(a,o,u,h){Ts?Yi?Yi.push(h):Yi=[h]:Ts=h,o=vp(o,"onChange"),0<o.length&&(u=new Qi("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var Pf=null,Nf=null;function UL(a){_I(a,0)}function Rm(a){var o=Tr(a);if(Uo(o))return a}function zA(a,o){if(a==="change")return o}var BA=!1;if(Yr){var o0;if(Yr){var l0="oninput"in document;if(!l0){var UA=document.createElement("div");UA.setAttribute("oninput","return;"),l0=typeof UA.oninput=="function"}o0=l0}else o0=!1;BA=o0&&(!document.documentMode||9<document.documentMode)}function $A(){Pf&&(Pf.detachEvent("onpropertychange",qA),Nf=Pf=null)}function qA(a){if(a.propertyName==="value"&&Rm(Nf)){var o=[];LA(o,Nf,a,Gr(a)),As(UL,o)}}function $L(a,o,u){a==="focusin"?($A(),Pf=o,Nf=u,Pf.attachEvent("onpropertychange",qA)):a==="focusout"&&$A()}function qL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Rm(Nf)}function FL(a,o){if(a==="click")return Rm(o)}function HL(a,o){if(a==="input"||a==="change")return Rm(o)}function KL(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Sr=typeof Object.is=="function"?Object.is:KL;function Df(a,o){if(Sr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!Jt.call(o,y)||!Sr(a[y],o[y]))return!1}return!0}function FA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function HA(a,o){var u=FA(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=FA(u)}}function KA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?KA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function GA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Gi(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Gi(a.document)}return o}function u0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var GL=Yr&&"documentMode"in document&&11>=document.documentMode,Tu=null,c0=null,Mf=null,f0=!1;function YA(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;f0||Tu==null||Tu!==Gi(h)||(h=Tu,"selectionStart"in h&&u0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Mf&&Df(Mf,h)||(Mf=h,h=vp(c0,"onSelect"),0<h.length&&(o=new Qi("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=Tu)))}function Qo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Au={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionrun:Qo("Transition","TransitionRun"),transitionstart:Qo("Transition","TransitionStart"),transitioncancel:Qo("Transition","TransitionCancel"),transitionend:Qo("Transition","TransitionEnd")},h0={},WA={};Yr&&(WA=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function Xo(a){if(h0[a])return h0[a];if(!Au[a])return a;var o=Au[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in WA)return h0[a]=o[u];return a}var QA=Xo("animationend"),XA=Xo("animationiteration"),ZA=Xo("animationstart"),YL=Xo("transitionrun"),WL=Xo("transitionstart"),QL=Xo("transitioncancel"),JA=Xo("transitionend"),eS=new Map,d0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");d0.push("scrollEnd");function Ii(a,o){eS.set(a,o),Hi(o,[a])}var Pm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Qr=[],Su=0,m0=0;function Nm(){for(var a=Su,o=m0=Su=0;o<a;){var u=Qr[o];Qr[o++]=null;var h=Qr[o];Qr[o++]=null;var y=Qr[o];Qr[o++]=null;var b=Qr[o];if(Qr[o++]=null,h!==null&&y!==null){var S=h.pending;S===null?y.next=y:(y.next=S.next,S.next=y),h.pending=y}b!==0&&tS(u,y,b)}}function Dm(a,o,u,h){Qr[Su++]=a,Qr[Su++]=o,Qr[Su++]=u,Qr[Su++]=h,m0|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function p0(a,o,u,h){return Dm(a,o,u,h),Mm(a)}function Zo(a,o){return Dm(a,null,null,o),Mm(a)}function tS(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,h=b.alternate,h!==null&&(h.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-Yt(u),a=b.hiddenUpdates,h=a[y],h===null?a[y]=[o]:h.push(o),o.lane=u|536870912),b):null}function Mm(a){if(50<nh)throw nh=0,Tb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Iu={};function XL(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(a,o,u,h){return new XL(a,o,u,h)}function g0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Aa(a,o){var u=a.alternate;return u===null?(u=Ir(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function nS(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function km(a,o,u,h,y,b){var S=0;if(h=a,typeof a=="function")g0(a)&&(S=1);else if(typeof a=="string")S=nz(a,u,be.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case j:return a=Ir(31,u,o,y),a.elementType=j,a.lanes=b,a;case E:return Jo(u.children,y,b,o);case T:S=8,y|=24;break;case O:return a=Ir(12,u,o,y|2),a.elementType=O,a.lanes=b,a;case B:return a=Ir(13,u,o,y),a.elementType=B,a.lanes=b,a;case q:return a=Ir(19,u,o,y),a.elementType=q,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case P:S=10;break e;case M:S=9;break e;case $:S=11;break e;case R:S=14;break e;case N:S=16,h=null;break e}S=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Ir(S,u,o,y),o.elementType=a,o.type=h,o.lanes=b,o}function Jo(a,o,u,h){return a=Ir(7,a,h,o),a.lanes=u,a}function y0(a,o,u){return a=Ir(6,a,null,o),a.lanes=u,a}function rS(a){var o=Ir(18,null,null,0);return o.stateNode=a,o}function v0(a,o,u){return o=Ir(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var iS=new WeakMap;function Xr(a,o){if(typeof a=="object"&&a!==null){var u=iS.get(a);return u!==void 0?u:(o={value:a,source:o,stack:ys(o)},iS.set(a,o),o)}return{value:a,source:o,stack:ys(o)}}var Cu=[],Ou=0,jm=null,kf=0,Zr=[],Jr=0,Os=null,ea=1,ta="";function Sa(a,o){Cu[Ou++]=kf,Cu[Ou++]=jm,jm=a,kf=o}function aS(a,o,u){Zr[Jr++]=ea,Zr[Jr++]=ta,Zr[Jr++]=Os,Os=a;var h=ea;a=ta;var y=32-Yt(h)-1;h&=~(1<<y),u+=1;var b=32-Yt(o)+y;if(30<b){var S=y-y%5;b=(h&(1<<S)-1).toString(32),h>>=S,y-=S,ea=1<<32-Yt(o)+y|u<<y|h,ta=b+a}else ea=1<<b|u<<y|h,ta=a}function b0(a){a.return!==null&&(Sa(a,1),aS(a,1,0))}function _0(a){for(;a===jm;)jm=Cu[--Ou],Cu[Ou]=null,kf=Cu[--Ou],Cu[Ou]=null;for(;a===Os;)Os=Zr[--Jr],Zr[Jr]=null,ta=Zr[--Jr],Zr[Jr]=null,ea=Zr[--Jr],Zr[Jr]=null}function sS(a,o){Zr[Jr++]=ea,Zr[Jr++]=ta,Zr[Jr++]=Os,ea=o.id,ta=o.overflow,Os=a}var jn=null,It=null,nt=!1,Rs=null,ei=!1,w0=Error(r(519));function Ps(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jf(Xr(o,a)),w0}function oS(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[tn]=a,o[Sn]=h,u){case"dialog":Xe("cancel",o),Xe("close",o);break;case"iframe":case"object":case"embed":Xe("load",o);break;case"video":case"audio":for(u=0;u<ih.length;u++)Xe(ih[u],o);break;case"source":Xe("error",o);break;case"img":case"image":case"link":Xe("error",o),Xe("load",o);break;case"details":Xe("toggle",o);break;case"input":Xe("invalid",o),pm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Xe("invalid",o);break;case"textarea":Xe("invalid",o),Es(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||TI(o.textContent,u)?(h.popover!=null&&(Xe("beforetoggle",o),Xe("toggle",o)),h.onScroll!=null&&Xe("scroll",o),h.onScrollEnd!=null&&Xe("scrollend",o),h.onClick!=null&&(o.onclick=Ei),o=!0):o=!1,o||Ps(a,!0)}function lS(a){for(jn=a.return;jn;)switch(jn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:jn=jn.return}}function Ru(a){if(a!==jn)return!1;if(!nt)return lS(a),nt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||zb(a.type,a.memoizedProps)),u=!u),u&&It&&Ps(a),lS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));It=DI(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));It=DI(a)}else o===27?(o=It,Hs(a.type)?(a=Fb,Fb=null,It=a):It=o):It=jn?ni(a.stateNode.nextSibling):null;return!0}function el(){It=jn=null,nt=!1}function E0(){var a=Rs;return a!==null&&(gr===null?gr=a:gr.push.apply(gr,a),Rs=null),a}function jf(a){Rs===null?Rs=[a]:Rs.push(a)}var x0=H(null),tl=null,Ia=null;function Ns(a,o,u){pe(x0,o._currentValue),o._currentValue=u}function Ca(a){a._currentValue=x0.current,re(x0)}function T0(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function A0(a,o,u,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var S=y.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=y;for(var F=0;F<o.length;F++)if(D.context===o[F]){b.lanes|=u,D=b.alternate,D!==null&&(D.lanes|=u),T0(b.return,u,a),h||(S=null);break e}b=D.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(r(341));S.lanes|=u,b=S.alternate,b!==null&&(b.lanes|=u),T0(S,u,a),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===a){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function Pu(a,o,u,h){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var D=y.type;Sr(y.pendingProps.value,S.value)||(a!==null?a.push(D):a=[D])}}else if(y===ge.current){if(S=y.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(uh):a=[uh])}y=y.return}a!==null&&A0(o,a,u,h),o.flags|=262144}function Vm(a){for(a=a.firstContext;a!==null;){if(!Sr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function nl(a){tl=a,Ia=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vn(a){return uS(tl,a)}function Lm(a,o){return tl===null&&nl(a),uS(a,o)}function uS(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ia===null){if(a===null)throw Error(r(308));Ia=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ia=Ia.next=o;return u}var ZL=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},JL=t.unstable_scheduleCallback,e9=t.unstable_NormalPriority,an={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function S0(){return{controller:new ZL,data:new Map,refCount:0}}function Vf(a){a.refCount--,a.refCount===0&&JL(e9,function(){a.controller.abort()})}var Lf=null,I0=0,Nu=0,Du=null;function t9(a,o){if(Lf===null){var u=Lf=[];I0=0,Nu=Rb(),Du={status:"pending",value:void 0,then:function(h){u.push(h)}}}return I0++,o.then(cS,cS),o}function cS(){if(--I0===0&&Lf!==null){Du!==null&&(Du.status="fulfilled");var a=Lf;Lf=null,Nu=0,Du=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function n9(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var fS=Q.S;Q.S=function(a,o){Y2=nr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&t9(a,o),fS!==null&&fS(a,o)};var rl=H(null);function C0(){var a=rl.current;return a!==null?a:Tt.pooledCache}function zm(a,o){o===null?pe(rl,rl.current):pe(rl,o.pool)}function hS(){var a=C0();return a===null?null:{parent:an._currentValue,pool:a}}var Mu=Error(r(460)),O0=Error(r(474)),Bm=Error(r(542)),Um={then:function(){}};function dS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function mS(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ei,Ei),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,gS(a),a;default:if(typeof o.status=="string")o.then(Ei,Ei);else{if(a=Tt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,gS(a),a}throw al=o,Mu}}function il(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(al=u,Mu):u}}var al=null;function pS(){if(al===null)throw Error(r(459));var a=al;return al=null,a}function gS(a){if(a===Mu||a===Bm)throw Error(r(483))}var ku=null,zf=0;function $m(a){var o=zf;return zf+=1,ku===null&&(ku=[]),mS(ku,a,o)}function Bf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function qm(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function yS(a){function o(Y,K){if(a){var J=Y.deletions;J===null?(Y.deletions=[K],Y.flags|=16):J.push(K)}}function u(Y,K){if(!a)return null;for(;K!==null;)o(Y,K),K=K.sibling;return null}function h(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function y(Y,K){return Y=Aa(Y,K),Y.index=0,Y.sibling=null,Y}function b(Y,K,J){return Y.index=J,a?(J=Y.alternate,J!==null?(J=J.index,J<K?(Y.flags|=67108866,K):J):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function S(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,K,J,le){return K===null||K.tag!==6?(K=y0(J,Y.mode,le),K.return=Y,K):(K=y(K,J),K.return=Y,K)}function F(Y,K,J,le){var Ne=J.type;return Ne===E?oe(Y,K,J.props.children,le,J.key):K!==null&&(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&il(Ne)===K.type)?(K=y(K,J.props),Bf(K,J),K.return=Y,K):(K=km(J.type,J.key,J.props,null,Y.mode,le),Bf(K,J),K.return=Y,K)}function ee(Y,K,J,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=v0(J,Y.mode,le),K.return=Y,K):(K=y(K,J.children||[]),K.return=Y,K)}function oe(Y,K,J,le,Ne){return K===null||K.tag!==7?(K=Jo(J,Y.mode,le,Ne),K.return=Y,K):(K=y(K,J),K.return=Y,K)}function ue(Y,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=y0(""+K,Y.mode,J),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return J=km(K.type,K.key,K.props,null,Y.mode,J),Bf(J,K),J.return=Y,J;case x:return K=v0(K,Y.mode,J),K.return=Y,K;case N:return K=il(K),ue(Y,K,J)}if(we(K)||U(K))return K=Jo(K,Y.mode,J,null),K.return=Y,K;if(typeof K.then=="function")return ue(Y,$m(K),J);if(K.$$typeof===P)return ue(Y,Lm(Y,K),J);qm(Y,K)}return null}function te(Y,K,J,le){var Ne=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ne!==null?null:D(Y,K,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Ne?F(Y,K,J,le):null;case x:return J.key===Ne?ee(Y,K,J,le):null;case N:return J=il(J),te(Y,K,J,le)}if(we(J)||U(J))return Ne!==null?null:oe(Y,K,J,le,null);if(typeof J.then=="function")return te(Y,K,$m(J),le);if(J.$$typeof===P)return te(Y,K,Lm(Y,J),le);qm(Y,J)}return null}function ae(Y,K,J,le,Ne){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(J)||null,D(K,Y,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return Y=Y.get(le.key===null?J:le.key)||null,F(K,Y,le,Ne);case x:return Y=Y.get(le.key===null?J:le.key)||null,ee(K,Y,le,Ne);case N:return le=il(le),ae(Y,K,J,le,Ne)}if(we(le)||U(le))return Y=Y.get(J)||null,oe(K,Y,le,Ne,null);if(typeof le.then=="function")return ae(Y,K,J,$m(le),Ne);if(le.$$typeof===P)return ae(Y,K,J,Lm(K,le),Ne);qm(K,le)}return null}function Ae(Y,K,J,le){for(var Ne=null,it=null,Ce=K,He=K=0,Je=null;Ce!==null&&He<J.length;He++){Ce.index>He?(Je=Ce,Ce=null):Je=Ce.sibling;var at=te(Y,Ce,J[He],le);if(at===null){Ce===null&&(Ce=Je);break}a&&Ce&&at.alternate===null&&o(Y,Ce),K=b(at,K,He),it===null?Ne=at:it.sibling=at,it=at,Ce=Je}if(He===J.length)return u(Y,Ce),nt&&Sa(Y,He),Ne;if(Ce===null){for(;He<J.length;He++)Ce=ue(Y,J[He],le),Ce!==null&&(K=b(Ce,K,He),it===null?Ne=Ce:it.sibling=Ce,it=Ce);return nt&&Sa(Y,He),Ne}for(Ce=h(Ce);He<J.length;He++)Je=ae(Ce,Y,He,J[He],le),Je!==null&&(a&&Je.alternate!==null&&Ce.delete(Je.key===null?He:Je.key),K=b(Je,K,He),it===null?Ne=Je:it.sibling=Je,it=Je);return a&&Ce.forEach(function(Qs){return o(Y,Qs)}),nt&&Sa(Y,He),Ne}function ke(Y,K,J,le){if(J==null)throw Error(r(151));for(var Ne=null,it=null,Ce=K,He=K=0,Je=null,at=J.next();Ce!==null&&!at.done;He++,at=J.next()){Ce.index>He?(Je=Ce,Ce=null):Je=Ce.sibling;var Qs=te(Y,Ce,at.value,le);if(Qs===null){Ce===null&&(Ce=Je);break}a&&Ce&&Qs.alternate===null&&o(Y,Ce),K=b(Qs,K,He),it===null?Ne=Qs:it.sibling=Qs,it=Qs,Ce=Je}if(at.done)return u(Y,Ce),nt&&Sa(Y,He),Ne;if(Ce===null){for(;!at.done;He++,at=J.next())at=ue(Y,at.value,le),at!==null&&(K=b(at,K,He),it===null?Ne=at:it.sibling=at,it=at);return nt&&Sa(Y,He),Ne}for(Ce=h(Ce);!at.done;He++,at=J.next())at=ae(Ce,Y,He,at.value,le),at!==null&&(a&&at.alternate!==null&&Ce.delete(at.key===null?He:at.key),K=b(at,K,He),it===null?Ne=at:it.sibling=at,it=at);return a&&Ce.forEach(function(dz){return o(Y,dz)}),nt&&Sa(Y,He),Ne}function wt(Y,K,J,le){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Ne=J.key;K!==null;){if(K.key===Ne){if(Ne=J.type,Ne===E){if(K.tag===7){u(Y,K.sibling),le=y(K,J.props.children),le.return=Y,Y=le;break e}}else if(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&il(Ne)===K.type){u(Y,K.sibling),le=y(K,J.props),Bf(le,J),le.return=Y,Y=le;break e}u(Y,K);break}else o(Y,K);K=K.sibling}J.type===E?(le=Jo(J.props.children,Y.mode,le,J.key),le.return=Y,Y=le):(le=km(J.type,J.key,J.props,null,Y.mode,le),Bf(le,J),le.return=Y,Y=le)}return S(Y);case x:e:{for(Ne=J.key;K!==null;){if(K.key===Ne)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(Y,K.sibling),le=y(K,J.children||[]),le.return=Y,Y=le;break e}else{u(Y,K);break}else o(Y,K);K=K.sibling}le=v0(J,Y.mode,le),le.return=Y,Y=le}return S(Y);case N:return J=il(J),wt(Y,K,J,le)}if(we(J))return Ae(Y,K,J,le);if(U(J)){if(Ne=U(J),typeof Ne!="function")throw Error(r(150));return J=Ne.call(J),ke(Y,K,J,le)}if(typeof J.then=="function")return wt(Y,K,$m(J),le);if(J.$$typeof===P)return wt(Y,K,Lm(Y,J),le);qm(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(u(Y,K.sibling),le=y(K,J),le.return=Y,Y=le):(u(Y,K),le=y0(J,Y.mode,le),le.return=Y,Y=le),S(Y)):u(Y,K)}return function(Y,K,J,le){try{zf=0;var Ne=wt(Y,K,J,le);return ku=null,Ne}catch(Ce){if(Ce===Mu||Ce===Bm)throw Ce;var it=Ir(29,Ce,null,Y.mode);return it.lanes=le,it.return=Y,it}finally{}}}var sl=yS(!0),vS=yS(!1),Ds=!1;function R0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function P0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ms(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ks(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(ct&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Mm(a),tS(a,null,u),o}return Dm(a,h,o,u),Mm(a)}function Uf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,mf(a,u)}}function N0(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=S:b=b.next=S,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var D0=!1;function $f(){if(D0){var a=Du;if(a!==null)throw a}}function qf(a,o,u,h){D0=!1;var y=a.updateQueue;Ds=!1;var b=y.firstBaseUpdate,S=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var F=D,ee=F.next;F.next=null,S===null?b=ee:S.next=ee,S=F;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==S&&(D===null?oe.firstBaseUpdate=ee:D.next=ee,oe.lastBaseUpdate=F))}if(b!==null){var ue=y.baseState;S=0,oe=ee=F=null,D=b;do{var te=D.lane&-536870913,ae=te!==D.lane;if(ae?(Ze&te)===te:(h&te)===te){te!==0&&te===Nu&&(D0=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ae=a,ke=D;te=o;var wt=u;switch(ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){ue=Ae.call(wt,ue,te);break e}ue=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,te=typeof Ae=="function"?Ae.call(wt,ue,te):Ae,te==null)break e;ue=p({},ue,te);break e;case 2:Ds=!0}}te=D.callback,te!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=y.callbacks,ae===null?y.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(ee=oe=ae,F=ue):oe=oe.next=ae,S|=te;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);oe===null&&(F=ue),y.baseState=F,y.firstBaseUpdate=ee,y.lastBaseUpdate=oe,b===null&&(y.shared.lanes=0),Bs|=S,a.lanes=S,a.memoizedState=ue}}function bS(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function _S(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)bS(u[a],o)}var ju=H(null),Fm=H(0);function wS(a,o){a=Va,pe(Fm,a),pe(ju,o),Va=a|o.baseLanes}function M0(){pe(Fm,Va),pe(ju,ju.current)}function k0(){Va=Fm.current,re(ju),re(Fm)}var Cr=H(null),ti=null;function js(a){var o=a.alternate;pe(Qt,Qt.current&1),pe(Cr,a),ti===null&&(o===null||ju.current!==null||o.memoizedState!==null)&&(ti=a)}function j0(a){pe(Qt,Qt.current),pe(Cr,a),ti===null&&(ti=a)}function ES(a){a.tag===22?(pe(Qt,Qt.current),pe(Cr,a),ti===null&&(ti=a)):Vs()}function Vs(){pe(Qt,Qt.current),pe(Cr,Cr.current)}function Or(a){re(Cr),ti===a&&(ti=null),re(Qt)}var Qt=H(0);function Hm(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$b(u)||qb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Oa=0,Fe=null,bt=null,sn=null,Km=!1,Vu=!1,ol=!1,Gm=0,Ff=0,Lu=null,r9=0;function Ut(){throw Error(r(321))}function V0(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Sr(a[u],o[u]))return!1;return!0}function L0(a,o,u,h,y,b){return Oa=b,Fe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Q.H=a===null||a.memoizedState===null?a2:J0,ol=!1,b=u(h,y),ol=!1,Vu&&(b=TS(o,u,h,y)),xS(a),b}function xS(a){Q.H=Gf;var o=bt!==null&&bt.next!==null;if(Oa=0,sn=bt=Fe=null,Km=!1,Ff=0,Lu=null,o)throw Error(r(300));a===null||on||(a=a.dependencies,a!==null&&Vm(a)&&(on=!0))}function TS(a,o,u,h){Fe=a;var y=0;do{if(Vu&&(Lu=null),Ff=0,Vu=!1,25<=y)throw Error(r(301));if(y+=1,sn=bt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Q.H=s2,b=o(u,h)}while(Vu);return b}function i9(){var a=Q.H,o=a.useState()[0];return o=typeof o.then=="function"?Hf(o):o,a=a.useState()[0],(bt!==null?bt.memoizedState:null)!==a&&(Fe.flags|=1024),o}function z0(){var a=Gm!==0;return Gm=0,a}function B0(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function U0(a){if(Km){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Km=!1}Oa=0,sn=bt=Fe=null,Vu=!1,Ff=Gm=0,Lu=null}function ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Fe.memoizedState=sn=a:sn=sn.next=a,sn}function Xt(){if(bt===null){var a=Fe.alternate;a=a!==null?a.memoizedState:null}else a=bt.next;var o=sn===null?Fe.memoizedState:sn.next;if(o!==null)sn=o,bt=a;else{if(a===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));bt=a,a={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},sn===null?Fe.memoizedState=sn=a:sn=sn.next=a}return sn}function Ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hf(a){var o=Ff;return Ff+=1,Lu===null&&(Lu=[]),a=mS(Lu,a,o),o=Fe,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,Q.H=o===null||o.memoizedState===null?a2:J0),a}function Wm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Hf(a);if(a.$$typeof===P)return Vn(a)}throw Error(r(438,String(a)))}function $0(a){var o=null,u=Fe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Fe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Ym(),Fe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=z;return o.index++,u}function Ra(a,o){return typeof o=="function"?o(a):o}function Qm(a){var o=Xt();return q0(o,bt,a)}function q0(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var y=a.baseQueue,b=h.pending;if(b!==null){if(y!==null){var S=y.next;y.next=b.next,b.next=S}o.baseQueue=y=b,h.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var D=S=null,F=null,ee=o,oe=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Ze&ue)===ue:(Oa&ue)===ue){var te=ee.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===Nu&&(oe=!0);else if((Oa&te)===te){ee=ee.next,te===Nu&&(oe=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(D=F=ue,S=b):F=F.next=ue,Fe.lanes|=te,Bs|=te;ue=ee.action,ol&&u(b,ue),b=ee.hasEagerState?ee.eagerState:u(b,ue)}else te={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(D=F=te,S=b):F=F.next=te,Fe.lanes|=ue,Bs|=ue;ee=ee.next}while(ee!==null&&ee!==o);if(F===null?S=b:F.next=D,!Sr(b,a.memoizedState)&&(on=!0,oe&&(u=Du,u!==null)))throw u;a.memoizedState=b,a.baseState=S,a.baseQueue=F,h.lastRenderedState=b}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function F0(a){var o=Xt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var S=y=y.next;do b=a(b,S.action),S=S.next;while(S!==y);Sr(b,o.memoizedState)||(on=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,h]}function AS(a,o,u){var h=Fe,y=Xt(),b=nt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var S=!Sr((bt||y).memoizedState,u);if(S&&(y.memoizedState=u,on=!0),y=y.queue,G0(CS.bind(null,h,y,a),[a]),y.getSnapshot!==o||S||sn!==null&&sn.memoizedState.tag&1){if(h.flags|=2048,zu(9,{destroy:void 0},IS.bind(null,h,y,u,o),null),Tt===null)throw Error(r(349));b||(Oa&127)!==0||SS(h,o,u)}return u}function SS(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Fe.updateQueue,o===null?(o=Ym(),Fe.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function IS(a,o,u,h){o.value=u,o.getSnapshot=h,OS(o)&&RS(a)}function CS(a,o,u){return u(function(){OS(o)&&RS(a)})}function OS(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Sr(a,u)}catch{return!0}}function RS(a){var o=Zo(a,2);o!==null&&yr(o,a,2)}function H0(a){var o=ir();if(typeof a=="function"){var u=a;if(a=u(),ol){Hr(!0);try{u()}finally{Hr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:a},o}function PS(a,o,u,h){return a.baseState=u,q0(a,bt,typeof h=="function"?h:Ra)}function a9(a,o,u,h,y){if(Jm(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};Q.T!==null?u(!0):b.isTransition=!1,h(b),u=o.pending,u===null?(b.next=o.pending=b,NS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function NS(a,o){var u=o.action,h=o.payload,y=a.state;if(o.isTransition){var b=Q.T,S={};Q.T=S;try{var D=u(y,h),F=Q.S;F!==null&&F(S,D),DS(a,o,D)}catch(ee){K0(a,o,ee)}finally{b!==null&&S.types!==null&&(b.types=S.types),Q.T=b}}else try{b=u(y,h),DS(a,o,b)}catch(ee){K0(a,o,ee)}}function DS(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){MS(a,o,h)},function(h){return K0(a,o,h)}):MS(a,o,u)}function MS(a,o,u){o.status="fulfilled",o.value=u,kS(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,NS(a,u)))}function K0(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,kS(o),o=o.next;while(o!==h)}a.action=null}function kS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function jS(a,o){return o}function VS(a,o){if(nt){var u=Tt.formState;if(u!==null){e:{var h=Fe;if(nt){if(It){t:{for(var y=It,b=ei;y.nodeType!==8;){if(!b){y=null;break t}if(y=ni(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){It=ni(y.nextSibling),h=y.data==="F!";break e}}Ps(h)}h=!1}h&&(o=u[0])}}return u=ir(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jS,lastRenderedState:o},u.queue=h,u=n2.bind(null,Fe,h),h.dispatch=u,h=H0(!1),b=Z0.bind(null,Fe,!1,h.queue),h=ir(),y={state:o,dispatch:null,action:a,pending:null},h.queue=y,u=a9.bind(null,Fe,y,b,u),y.dispatch=u,h.memoizedState=a,[o,u,!1]}function LS(a){var o=Xt();return zS(o,bt,a)}function zS(a,o,u){if(o=q0(a,o,jS)[0],a=Qm(Ra)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Hf(o)}catch(S){throw S===Mu?Bm:S}else h=o;o=Xt();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(Fe.flags|=2048,zu(9,{destroy:void 0},s9.bind(null,y,u),null)),[h,b,a]}function s9(a,o){a.action=o}function BS(a){var o=Xt(),u=bt;if(u!==null)return zS(o,u,a);Xt(),o=o.memoizedState,u=Xt();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function zu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=Fe.updateQueue,o===null&&(o=Ym(),Fe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function US(){return Xt().memoizedState}function Xm(a,o,u,h){var y=ir();Fe.flags|=a,y.memoizedState=zu(1|o,{destroy:void 0},u,h===void 0?null:h)}function Zm(a,o,u,h){var y=Xt();h=h===void 0?null:h;var b=y.memoizedState.inst;bt!==null&&h!==null&&V0(h,bt.memoizedState.deps)?y.memoizedState=zu(o,b,u,h):(Fe.flags|=a,y.memoizedState=zu(1|o,b,u,h))}function $S(a,o){Xm(8390656,8,a,o)}function G0(a,o){Zm(2048,8,a,o)}function o9(a){Fe.flags|=4;var o=Fe.updateQueue;if(o===null)o=Ym(),Fe.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function qS(a){var o=Xt().memoizedState;return o9({ref:o,nextImpl:a}),function(){if((ct&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function FS(a,o){return Zm(4,2,a,o)}function HS(a,o){return Zm(4,4,a,o)}function KS(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function GS(a,o,u){u=u!=null?u.concat([a]):null,Zm(4,4,KS.bind(null,o,a),u)}function Y0(){}function YS(a,o){var u=Xt();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&V0(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function WS(a,o){var u=Xt();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&V0(o,h[1]))return h[0];if(h=a(),ol){Hr(!0);try{a()}finally{Hr(!1)}}return u.memoizedState=[h,o],h}function W0(a,o,u){return u===void 0||(Oa&1073741824)!==0&&(Ze&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=Q2(),Fe.lanes|=a,Bs|=a,u)}function QS(a,o,u,h){return Sr(u,o)?u:ju.current!==null?(a=W0(a,u,h),Sr(a,o)||(on=!0),a):(Oa&42)===0||(Oa&1073741824)!==0&&(Ze&261930)===0?(on=!0,a.memoizedState=u):(a=Q2(),Fe.lanes|=a,Bs|=a,o)}function XS(a,o,u,h,y){var b=W.p;W.p=b!==0&&8>b?b:8;var S=Q.T,D={};Q.T=D,Z0(a,!1,o,u);try{var F=y(),ee=Q.S;if(ee!==null&&ee(D,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var oe=n9(F,h);Kf(a,o,oe,Nr(a))}else Kf(a,o,h,Nr(a))}catch(ue){Kf(a,o,{then:function(){},status:"rejected",reason:ue},Nr())}finally{W.p=b,S!==null&&D.types!==null&&(S.types=D.types),Q.T=S}}function l9(){}function Q0(a,o,u,h){if(a.tag!==5)throw Error(r(476));var y=ZS(a).queue;XS(a,y,o,fe,u===null?l9:function(){return JS(a),u(h)})}function ZS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:fe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function JS(a){var o=ZS(a);o.next===null&&(o=a.alternate.memoizedState),Kf(a,o.next.queue,{},Nr())}function X0(){return Vn(uh)}function e2(){return Xt().memoizedState}function t2(){return Xt().memoizedState}function u9(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Nr();a=Ms(u);var h=ks(o,a,u);h!==null&&(yr(h,o,u),Uf(h,o,u)),o={cache:S0()},a.payload=o;return}o=o.return}}function c9(a,o,u){var h=Nr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Jm(a)?r2(o,u):(u=p0(a,o,u,h),u!==null&&(yr(u,a,h),i2(u,o,h)))}function n2(a,o,u){var h=Nr();Kf(a,o,u,h)}function Kf(a,o,u,h){var y={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jm(a))r2(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var S=o.lastRenderedState,D=b(S,u);if(y.hasEagerState=!0,y.eagerState=D,Sr(D,S))return Dm(a,o,y,0),Tt===null&&Nm(),!1}catch{}finally{}if(u=p0(a,o,y,h),u!==null)return yr(u,a,h),i2(u,o,h),!0}return!1}function Z0(a,o,u,h){if(h={lane:2,revertLane:Rb(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Jm(a)){if(o)throw Error(r(479))}else o=p0(a,u,h,2),o!==null&&yr(o,a,2)}function Jm(a){var o=a.alternate;return a===Fe||o!==null&&o===Fe}function r2(a,o){Vu=Km=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function i2(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,mf(a,u)}}var Gf={readContext:Vn,use:Wm,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Gf.useEffectEvent=Ut;var a2={readContext:Vn,use:Wm,useCallback:function(a,o){return ir().memoizedState=[a,o===void 0?null:o],a},useContext:Vn,useEffect:$S,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Xm(4194308,4,KS.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Xm(4194308,4,a,o)},useInsertionEffect:function(a,o){Xm(4,2,a,o)},useMemo:function(a,o){var u=ir();o=o===void 0?null:o;var h=a();if(ol){Hr(!0);try{a()}finally{Hr(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=ir();if(u!==void 0){var y=u(o);if(ol){Hr(!0);try{u(o)}finally{Hr(!1)}}}else y=o;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=c9.bind(null,Fe,a),[h.memoizedState,a]},useRef:function(a){var o=ir();return a={current:a},o.memoizedState=a},useState:function(a){a=H0(a);var o=a.queue,u=n2.bind(null,Fe,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Y0,useDeferredValue:function(a,o){var u=ir();return W0(u,a,o)},useTransition:function(){var a=H0(!1);return a=XS.bind(null,Fe,a.queue,!0,!1),ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=Fe,y=ir();if(nt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Tt===null)throw Error(r(349));(Ze&127)!==0||SS(h,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,$S(CS.bind(null,h,b,a),[a]),h.flags|=2048,zu(9,{destroy:void 0},IS.bind(null,h,b,u,o),null),u},useId:function(){var a=ir(),o=Tt.identifierPrefix;if(nt){var u=ta,h=ea;u=(h&~(1<<32-Yt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Gm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=r9++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:X0,useFormState:VS,useActionState:VS,useOptimistic:function(a){var o=ir();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Z0.bind(null,Fe,!0,u),u.dispatch=o,[a,o]},useMemoCache:$0,useCacheRefresh:function(){return ir().memoizedState=u9.bind(null,Fe)},useEffectEvent:function(a){var o=ir(),u={impl:a};return o.memoizedState=u,function(){if((ct&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},J0={readContext:Vn,use:Wm,useCallback:YS,useContext:Vn,useEffect:G0,useImperativeHandle:GS,useInsertionEffect:FS,useLayoutEffect:HS,useMemo:WS,useReducer:Qm,useRef:US,useState:function(){return Qm(Ra)},useDebugValue:Y0,useDeferredValue:function(a,o){var u=Xt();return QS(u,bt.memoizedState,a,o)},useTransition:function(){var a=Qm(Ra)[0],o=Xt().memoizedState;return[typeof a=="boolean"?a:Hf(a),o]},useSyncExternalStore:AS,useId:e2,useHostTransitionStatus:X0,useFormState:LS,useActionState:LS,useOptimistic:function(a,o){var u=Xt();return PS(u,bt,a,o)},useMemoCache:$0,useCacheRefresh:t2};J0.useEffectEvent=qS;var s2={readContext:Vn,use:Wm,useCallback:YS,useContext:Vn,useEffect:G0,useImperativeHandle:GS,useInsertionEffect:FS,useLayoutEffect:HS,useMemo:WS,useReducer:F0,useRef:US,useState:function(){return F0(Ra)},useDebugValue:Y0,useDeferredValue:function(a,o){var u=Xt();return bt===null?W0(u,a,o):QS(u,bt.memoizedState,a,o)},useTransition:function(){var a=F0(Ra)[0],o=Xt().memoizedState;return[typeof a=="boolean"?a:Hf(a),o]},useSyncExternalStore:AS,useId:e2,useHostTransitionStatus:X0,useFormState:BS,useActionState:BS,useOptimistic:function(a,o){var u=Xt();return bt!==null?PS(u,bt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:$0,useCacheRefresh:t2};s2.useEffectEvent=qS;function eb(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var tb={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=Nr(),y=Ms(h);y.payload=o,u!=null&&(y.callback=u),o=ks(a,y,h),o!==null&&(yr(o,a,h),Uf(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=Nr(),y=Ms(h);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=ks(a,y,h),o!==null&&(yr(o,a,h),Uf(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Nr(),h=Ms(u);h.tag=2,o!=null&&(h.callback=o),o=ks(a,h,u),o!==null&&(yr(o,a,u),Uf(o,a,u))}};function o2(a,o,u,h,y,b,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,b,S):o.prototype&&o.prototype.isPureReactComponent?!Df(u,h)||!Df(y,b):!0}function l2(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&tb.enqueueReplaceState(o,o.state,null)}function ll(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function u2(a){Pm(a)}function c2(a){console.error(a)}function f2(a){Pm(a)}function ep(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function h2(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function nb(a,o,u){return u=Ms(u),u.tag=3,u.payload={element:null},u.callback=function(){ep(a,o)},u}function d2(a){return a=Ms(a),a.tag=3,a}function m2(a,o,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;a.payload=function(){return y(b)},a.callback=function(){h2(o,u,h)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){h2(o,u,h),typeof y!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function f9(a,o,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&Pu(o,u,y,!0),u=Cr.current,u!==null){switch(u.tag){case 31:case 13:return ti===null?hp():u.alternate===null&&$t===0&&($t=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===Um?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Ib(a,h,y)),!1;case 22:return u.flags|=65536,h===Um?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Ib(a,h,y)),!1}throw Error(r(435,u.tag))}return Ib(a,h,y),hp(),!1}if(nt)return o=Cr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==w0&&(a=Error(r(422),{cause:h}),jf(Xr(a,u)))):(h!==w0&&(o=Error(r(423),{cause:h}),jf(Xr(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=Xr(h,u),y=nb(a.stateNode,h,y),N0(a,y),$t!==4&&($t=2)),!1;var b=Error(r(520),{cause:h});if(b=Xr(b,u),th===null?th=[b]:th.push(b),$t!==4&&($t=2),o===null)return!0;h=Xr(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=nb(u.stateNode,h,a),N0(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Us===null||!Us.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=d2(y),m2(y,a,u,h),N0(u,y),!1}u=u.return}while(u!==null);return!1}var rb=Error(r(461)),on=!1;function Ln(a,o,u,h){o.child=a===null?vS(o,null,u,h):sl(o,a.child,u,h)}function p2(a,o,u,h,y){u=u.render;var b=o.ref;if("ref"in h){var S={};for(var D in h)D!=="ref"&&(S[D]=h[D])}else S=h;return nl(o),h=L0(a,o,u,S,b,y),D=z0(),a!==null&&!on?(B0(a,o,y),Pa(a,o,y)):(nt&&D&&b0(o),o.flags|=1,Ln(a,o,h,y),o.child)}function g2(a,o,u,h,y){if(a===null){var b=u.type;return typeof b=="function"&&!g0(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,y2(a,o,b,h,y)):(a=km(u.type,null,h,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!fb(a,y)){var S=b.memoizedProps;if(u=u.compare,u=u!==null?u:Df,u(S,h)&&a.ref===o.ref)return Pa(a,o,y)}return o.flags|=1,a=Aa(b,h),a.ref=o.ref,a.return=o,o.child=a}function y2(a,o,u,h,y){if(a!==null){var b=a.memoizedProps;if(Df(b,h)&&a.ref===o.ref)if(on=!1,o.pendingProps=h=b,fb(a,y))(a.flags&131072)!==0&&(on=!0);else return o.lanes=a.lanes,Pa(a,o,y)}return ib(a,o,u,h,y)}function v2(a,o,u,h){var y=h.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(h=o.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,o.child=null;return b2(a,o,b,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&zm(o,b!==null?b.cachePool:null),b!==null?wS(o,b):M0(),ES(o);else return h=o.lanes=536870912,b2(a,o,b!==null?b.baseLanes|u:u,u,h)}else b!==null?(zm(o,b.cachePool),wS(o,b),Vs(),o.memoizedState=null):(a!==null&&zm(o,null),M0(),Vs());return Ln(a,o,y,u),o.child}function Yf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function b2(a,o,u,h,y){var b=C0();return b=b===null?null:{parent:an._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&zm(o,null),M0(),ES(o),a!==null&&Pu(a,o,h,!0),o.childLanes=y,null}function tp(a,o){return o=rp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function _2(a,o,u){return sl(o,a.child,null,u),a=tp(o,o.pendingProps),a.flags|=2,Or(o),o.memoizedState=null,a}function h9(a,o,u){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(nt){if(h.mode==="hidden")return a=tp(o,h),o.lanes=536870912,Yf(null,a);if(j0(o),(a=It)?(a=NI(a,ei),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Os!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},u=rS(a),u.return=o,o.child=u,jn=o,It=null)):a=null,a===null)throw Ps(o);return o.lanes=536870912,null}return tp(o,h)}var b=a.memoizedState;if(b!==null){var S=b.dehydrated;if(j0(o),y)if(o.flags&256)o.flags&=-257,o=_2(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(on||Pu(a,o,u,!1),y=(u&a.childLanes)!==0,on||y){if(h=Tt,h!==null&&(S=pf(h,u),S!==0&&S!==b.retryLane))throw b.retryLane=S,Zo(a,S),yr(h,a,S),rb;hp(),o=_2(a,o,u)}else a=b.treeContext,It=ni(S.nextSibling),jn=o,nt=!0,Rs=null,ei=!1,a!==null&&sS(o,a),o=tp(o,h),o.flags|=4096;return o}return a=Aa(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function np(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function ib(a,o,u,h,y){return nl(o),u=L0(a,o,u,h,void 0,y),h=z0(),a!==null&&!on?(B0(a,o,y),Pa(a,o,y)):(nt&&h&&b0(o),o.flags|=1,Ln(a,o,u,y),o.child)}function w2(a,o,u,h,y,b){return nl(o),o.updateQueue=null,u=TS(o,h,u,y),xS(a),h=z0(),a!==null&&!on?(B0(a,o,b),Pa(a,o,b)):(nt&&h&&b0(o),o.flags|=1,Ln(a,o,u,b),o.child)}function E2(a,o,u,h,y){if(nl(o),o.stateNode===null){var b=Iu,S=u.contextType;typeof S=="object"&&S!==null&&(b=Vn(S)),b=new u(h,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tb,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=h,b.state=o.memoizedState,b.refs={},R0(o),S=u.contextType,b.context=typeof S=="object"&&S!==null?Vn(S):Iu,b.state=o.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(eb(o,u,S,h),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&tb.enqueueReplaceState(b,b.state,null),qf(o,h,b,y),$f(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){b=o.stateNode;var D=o.memoizedProps,F=ll(u,D);b.props=F;var ee=b.context,oe=u.contextType;S=Iu,typeof oe=="object"&&oe!==null&&(S=Vn(oe));var ue=u.getDerivedStateFromProps;oe=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||ee!==S)&&l2(o,b,h,S),Ds=!1;var te=o.memoizedState;b.state=te,qf(o,h,b,y),$f(),ee=o.memoizedState,D||te!==ee||Ds?(typeof ue=="function"&&(eb(o,u,ue,h),ee=o.memoizedState),(F=Ds||o2(o,u,F,h,te,ee,S))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ee),b.props=h,b.state=ee,b.context=S,h=F):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,P0(a,o),S=o.memoizedProps,oe=ll(u,S),b.props=oe,ue=o.pendingProps,te=b.context,ee=u.contextType,F=Iu,typeof ee=="object"&&ee!==null&&(F=Vn(ee)),D=u.getDerivedStateFromProps,(ee=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==ue||te!==F)&&l2(o,b,h,F),Ds=!1,te=o.memoizedState,b.state=te,qf(o,h,b,y),$f();var ae=o.memoizedState;S!==ue||te!==ae||Ds||a!==null&&a.dependencies!==null&&Vm(a.dependencies)?(typeof D=="function"&&(eb(o,u,D,h),ae=o.memoizedState),(oe=Ds||o2(o,u,oe,h,te,ae,F)||a!==null&&a.dependencies!==null&&Vm(a.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,ae,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,ae,F)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ae),b.props=h,b.state=ae,b.context=F,h=oe):(typeof b.componentDidUpdate!="function"||S===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),h=!1)}return b=h,np(a,o),h=(o.flags&128)!==0,b||h?(b=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&h?(o.child=sl(o,a.child,null,y),o.child=sl(o,null,u,y)):Ln(a,o,u,y),o.memoizedState=b.state,a=o.child):a=Pa(a,o,y),a}function x2(a,o,u,h){return el(),o.flags|=256,Ln(a,o,u,h),o.child}var ab={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sb(a){return{baseLanes:a,cachePool:hS()}}function ob(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Pr),a}function T2(a,o,u){var h=o.pendingProps,y=!1,b=(o.flags&128)!==0,S;if((S=b)||(S=a!==null&&a.memoizedState===null?!1:(Qt.current&2)!==0),S&&(y=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,a===null){if(nt){if(y?js(o):Vs(),(a=It)?(a=NI(a,ei),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Os!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},u=rS(a),u.return=o,o.child=u,jn=o,It=null)):a=null,a===null)throw Ps(o);return qb(a)?o.lanes=32:o.lanes=536870912,null}var D=h.children;return h=h.fallback,y?(Vs(),y=o.mode,D=rp({mode:"hidden",children:D},y),h=Jo(h,y,u,null),D.return=o,h.return=o,D.sibling=h,o.child=D,h=o.child,h.memoizedState=sb(u),h.childLanes=ob(a,S,u),o.memoizedState=ab,Yf(null,h)):(js(o),lb(o,D))}var F=a.memoizedState;if(F!==null&&(D=F.dehydrated,D!==null)){if(b)o.flags&256?(js(o),o.flags&=-257,o=ub(a,o,u)):o.memoizedState!==null?(Vs(),o.child=a.child,o.flags|=128,o=null):(Vs(),D=h.fallback,y=o.mode,h=rp({mode:"visible",children:h.children},y),D=Jo(D,y,u,null),D.flags|=2,h.return=o,D.return=o,h.sibling=D,o.child=h,sl(o,a.child,null,u),h=o.child,h.memoizedState=sb(u),h.childLanes=ob(a,S,u),o.memoizedState=ab,o=Yf(null,h));else if(js(o),qb(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var ee=S.dgst;S=ee,h=Error(r(419)),h.stack="",h.digest=S,jf({value:h,source:null,stack:null}),o=ub(a,o,u)}else if(on||Pu(a,o,u,!1),S=(u&a.childLanes)!==0,on||S){if(S=Tt,S!==null&&(h=pf(S,u),h!==0&&h!==F.retryLane))throw F.retryLane=h,Zo(a,h),yr(S,a,h),rb;$b(D)||hp(),o=ub(a,o,u)}else $b(D)?(o.flags|=192,o.child=a.child,o=null):(a=F.treeContext,It=ni(D.nextSibling),jn=o,nt=!0,Rs=null,ei=!1,a!==null&&sS(o,a),o=lb(o,h.children),o.flags|=4096);return o}return y?(Vs(),D=h.fallback,y=o.mode,F=a.child,ee=F.sibling,h=Aa(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,ee!==null?D=Aa(ee,D):(D=Jo(D,y,u,null),D.flags|=2),D.return=o,h.return=o,h.sibling=D,o.child=h,Yf(null,h),h=o.child,D=a.child.memoizedState,D===null?D=sb(u):(y=D.cachePool,y!==null?(F=an._currentValue,y=y.parent!==F?{parent:F,pool:F}:y):y=hS(),D={baseLanes:D.baseLanes|u,cachePool:y}),h.memoizedState=D,h.childLanes=ob(a,S,u),o.memoizedState=ab,Yf(a.child,h)):(js(o),u=a.child,a=u.sibling,u=Aa(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(S=o.deletions,S===null?(o.deletions=[a],o.flags|=16):S.push(a)),o.child=u,o.memoizedState=null,u)}function lb(a,o){return o=rp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function rp(a,o){return a=Ir(22,a,null,o),a.lanes=0,a}function ub(a,o,u){return sl(o,a.child,null,u),a=lb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function A2(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),T0(a.return,o,u)}function cb(a,o,u,h,y,b){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y,treeForkCount:b}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=u,S.tailMode=y,S.treeForkCount=b)}function S2(a,o,u){var h=o.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var S=Qt.current,D=(S&2)!==0;if(D?(S=S&1|2,o.flags|=128):S&=1,pe(Qt,S),Ln(a,o,h,u),h=nt?kf:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&A2(a,u,o);else if(a.tag===19)A2(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&Hm(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),cb(o,!1,y,u,b,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Hm(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}cb(o,!0,u,null,b,h);break;case"together":cb(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Pa(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Bs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Pu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Aa(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Aa(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function fb(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Vm(a)))}function d9(a,o,u){switch(o.tag){case 3:De(o,o.stateNode.containerInfo),Ns(o,an,a.memoizedState.cache),el();break;case 27:case 5:Ee(o);break;case 4:De(o,o.stateNode.containerInfo);break;case 10:Ns(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,j0(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(js(o),o.flags|=128,null):(u&o.child.childLanes)!==0?T2(a,o,u):(js(o),a=Pa(a,o,u),a!==null?a.sibling:null);js(o);break;case 19:var y=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(Pu(a,o,u,!1),h=(u&o.childLanes)!==0),y){if(h)return S2(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pe(Qt,Qt.current),h)break;return null;case 22:return o.lanes=0,v2(a,o,u,o.pendingProps);case 24:Ns(o,an,a.memoizedState.cache)}return Pa(a,o,u)}function I2(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)on=!0;else{if(!fb(a,u)&&(o.flags&128)===0)return on=!1,d9(a,o,u);on=(a.flags&131072)!==0}else on=!1,nt&&(o.flags&1048576)!==0&&aS(o,kf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=il(o.elementType),o.type=a,typeof a=="function")g0(a)?(h=ll(a,h),o.tag=1,o=E2(null,o,a,h,u)):(o.tag=0,o=ib(null,o,a,h,u));else{if(a!=null){var y=a.$$typeof;if(y===$){o.tag=11,o=p2(null,o,a,h,u);break e}else if(y===R){o.tag=14,o=g2(null,o,a,h,u);break e}}throw o=ce(a)||a,Error(r(306,o,""))}}return o;case 0:return ib(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,y=ll(h,o.pendingProps),E2(a,o,h,y,u);case 3:e:{if(De(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var b=o.memoizedState;y=b.element,P0(a,o),qf(o,h,null,u);var S=o.memoizedState;if(h=S.cache,Ns(o,an,h),h!==b.cache&&A0(o,[an],u,!0),$f(),h=S.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=x2(a,o,h,u);break e}else if(h!==y){y=Xr(Error(r(424)),o),jf(y),o=x2(a,o,h,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(It=ni(a.firstChild),jn=o,nt=!0,Rs=null,ei=!0,u=vS(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(el(),h===y){o=Pa(a,o,u);break e}Ln(a,o,h,u)}o=o.child}return o;case 26:return np(a,o),a===null?(u=LI(o.type,null,o.pendingProps,null))?o.memoizedState=u:nt||(u=o.type,a=o.pendingProps,h=bp(je.current).createElement(u),h[tn]=o,h[Sn]=a,zn(h,u,a),nn(h),o.stateNode=h):o.memoizedState=LI(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ee(o),a===null&&nt&&(h=o.stateNode=kI(o.type,o.pendingProps,je.current),jn=o,ei=!0,y=It,Hs(o.type)?(Fb=y,It=ni(h.firstChild)):It=y),Ln(a,o,o.pendingProps.children,u),np(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&nt&&((y=h=It)&&(h=q9(h,o.type,o.pendingProps,ei),h!==null?(o.stateNode=h,jn=o,It=ni(h.firstChild),ei=!1,y=!0):y=!1),y||Ps(o)),Ee(o),y=o.type,b=o.pendingProps,S=a!==null?a.memoizedProps:null,h=b.children,zb(y,b)?h=null:S!==null&&zb(y,S)&&(o.flags|=32),o.memoizedState!==null&&(y=L0(a,o,i9,null,null,u),uh._currentValue=y),np(a,o),Ln(a,o,h,u),o.child;case 6:return a===null&&nt&&((a=u=It)&&(u=F9(u,o.pendingProps,ei),u!==null?(o.stateNode=u,jn=o,It=null,a=!0):a=!1),a||Ps(o)),null;case 13:return T2(a,o,u);case 4:return De(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=sl(o,null,h,u):Ln(a,o,h,u),o.child;case 11:return p2(a,o,o.type,o.pendingProps,u);case 7:return Ln(a,o,o.pendingProps,u),o.child;case 8:return Ln(a,o,o.pendingProps.children,u),o.child;case 12:return Ln(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,Ns(o,o.type,h.value),Ln(a,o,h.children,u),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,nl(o),y=Vn(y),h=h(y),o.flags|=1,Ln(a,o,h,u),o.child;case 14:return g2(a,o,o.type,o.pendingProps,u);case 15:return y2(a,o,o.type,o.pendingProps,u);case 19:return S2(a,o,u);case 31:return h9(a,o,u);case 22:return v2(a,o,u,o.pendingProps);case 24:return nl(o),h=Vn(an),a===null?(y=C0(),y===null&&(y=Tt,b=S0(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:h,cache:y},R0(o),Ns(o,an,y)):((a.lanes&u)!==0&&(P0(a,o),qf(o,null,null,u),$f()),y=a.memoizedState,b=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ns(o,an,h)):(h=b.cache,Ns(o,an,h),h!==y.cache&&A0(o,[an],u,!0))),Ln(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Na(a){a.flags|=4}function hb(a,o,u,h,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(eI())a.flags|=8192;else throw al=Um,O0}else a.flags&=-16777217}function C2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!qI(o))if(eI())a.flags|=8192;else throw al=Um,O0}function ip(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?cm():536870912,a.lanes|=o,qu|=o)}function Wf(a,o){if(!nt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ct(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function m9(a,o,u){var h=o.pendingProps;switch(_0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(o),null;case 1:return Ct(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ca(an),G(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Ru(o)?Na(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,E0())),Ct(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(Na(o),b!==null?(Ct(o),C2(o,b)):(Ct(o),hb(o,y,null,h,u))):b?b!==a.memoizedState?(Na(o),Ct(o),C2(o,b)):(Ct(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&Na(o),Ct(o),hb(o,y,a,h,u)),null;case 27:if(Ve(o),u=je.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Na(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ct(o),null}a=be.current,Ru(o)?oS(o):(a=kI(y,h,u),o.stateNode=a,Na(o))}return Ct(o),null;case 5:if(Ve(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Na(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ct(o),null}if(b=be.current,Ru(o))oS(o);else{var S=bp(je.current);switch(b){case 1:b=S.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=S.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=S.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?S.createElement(y,{is:h.is}):S.createElement(y)}}b[tn]=o,b[Sn]=h;e:for(S=o.child;S!==null;){if(S.tag===5||S.tag===6)b.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===o)break e;for(;S.sibling===null;){if(S.return===null||S.return===o)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}o.stateNode=b;e:switch(zn(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Na(o)}}return Ct(o),hb(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&Na(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=je.current,Ru(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,y=jn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[tn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||TI(a.nodeValue,u)),a||Ps(o,!0)}else a=bp(a).createTextNode(h),a[tn]=o,o.stateNode=a}return Ct(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=Ru(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[tn]=o}else el(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ct(o),a=!1}else u=E0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Or(o),o):(Or(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ct(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Ru(o),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[tn]=o}else el(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ct(o),y=!1}else y=E0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Or(o),o):(Or(o),null)}return Or(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),ip(o,o.updateQueue),Ct(o),null);case 4:return G(),a===null&&Mb(o.stateNode.containerInfo),Ct(o),null;case 10:return Ca(o.type),Ct(o),null;case 19:if(re(Qt),h=o.memoizedState,h===null)return Ct(o),null;if(y=(o.flags&128)!==0,b=h.rendering,b===null)if(y)Wf(h,!1);else{if($t!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Hm(a),b!==null){for(o.flags|=128,Wf(h,!1),a=b.updateQueue,o.updateQueue=a,ip(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)nS(u,a),u=u.sibling;return pe(Qt,Qt.current&1|2),nt&&Sa(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&nr()>up&&(o.flags|=128,y=!0,Wf(h,!1),o.lanes=4194304)}else{if(!y)if(a=Hm(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,ip(o,a),Wf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!nt)return Ct(o),null}else 2*nr()-h.renderingStartTime>up&&u!==536870912&&(o.flags|=128,y=!0,Wf(h,!1),o.lanes=4194304);h.isBackwards?(b.sibling=o.child,o.child=b):(a=h.last,a!==null?a.sibling=b:o.child=b,h.last=b)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=nr(),a.sibling=null,u=Qt.current,pe(Qt,y?u&1|2:u&1),nt&&Sa(o,h.treeForkCount),a):(Ct(o),null);case 22:case 23:return Or(o),k0(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Ct(o),o.subtreeFlags&6&&(o.flags|=8192)):Ct(o),u=o.updateQueue,u!==null&&ip(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&re(rl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ca(an),Ct(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function p9(a,o){switch(_0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ca(an),G(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ve(o),null;case 31:if(o.memoizedState!==null){if(Or(o),o.alternate===null)throw Error(r(340));el()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Or(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));el()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return re(Qt),null;case 4:return G(),null;case 10:return Ca(o.type),null;case 22:case 23:return Or(o),k0(),a!==null&&re(rl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ca(an),null;case 25:return null;default:return null}}function O2(a,o){switch(_0(o),o.tag){case 3:Ca(an),G();break;case 26:case 27:case 5:Ve(o);break;case 4:G();break;case 31:o.memoizedState!==null&&Or(o);break;case 13:Or(o);break;case 19:re(Qt);break;case 10:Ca(o.type);break;case 22:case 23:Or(o),k0(),a!==null&&re(rl);break;case 24:Ca(an)}}function Qf(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&a)===a){h=void 0;var b=u.create,S=u.inst;h=b(),S.destroy=h}u=u.next}while(u!==y)}}catch(D){mt(o,o.return,D)}}function Ls(a,o,u){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&a)===a){var S=h.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,y=o;var F=u,ee=D;try{ee()}catch(oe){mt(y,F,oe)}}}h=h.next}while(h!==b)}}catch(oe){mt(o,o.return,oe)}}function R2(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{_S(o,u)}catch(h){mt(a,a.return,h)}}}function P2(a,o,u){u.props=ll(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){mt(a,o,h)}}function Xf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(y){mt(a,o,y)}}function na(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){mt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){mt(a,o,y)}else u.current=null}function N2(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){mt(a,a.return,y)}}function db(a,o,u){try{var h=a.stateNode;V9(h,a.type,u,o),h[Sn]=o}catch(y){mt(a,a.return,y)}}function D2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Hs(a.type)||a.tag===4}function mb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||D2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Hs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function pb(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ei));else if(h!==4&&(h===27&&Hs(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(pb(a,o,u),a=a.sibling;a!==null;)pb(a,o,u),a=a.sibling}function ap(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Hs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(ap(a,o,u),a=a.sibling;a!==null;)ap(a,o,u),a=a.sibling}function M2(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);zn(o,h,u),o[tn]=a,o[Sn]=u}catch(b){mt(a,a.return,b)}}var Da=!1,ln=!1,gb=!1,k2=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function g9(a,o){if(a=a.containerInfo,Vb=Sp,a=GA(a),u0(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var S=0,D=-1,F=-1,ee=0,oe=0,ue=a,te=null;t:for(;;){for(var ae;ue!==u||y!==0&&ue.nodeType!==3||(D=S+y),ue!==b||h!==0&&ue.nodeType!==3||(F=S+h),ue.nodeType===3&&(S+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)te=ue,ue=ae;for(;;){if(ue===a)break t;if(te===u&&++ee===y&&(D=S),te===b&&++oe===h&&(F=S),(ae=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ae}u=D===-1||F===-1?null:{start:D,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lb={focusedElem:a,selectionRange:u},Sp=!1,Cn=o;Cn!==null;)if(o=Cn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Cn=a;else for(;Cn!==null;){switch(o=Cn,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,h=u.stateNode;try{var Ae=ll(u.type,y);a=h.getSnapshotBeforeUpdate(Ae,b),h.__reactInternalSnapshotBeforeUpdate=a}catch(ke){mt(u,u.return,ke)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Ub(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Ub(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Cn=a;break}Cn=o.return}}function j2(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ka(a,u),h&4&&Qf(5,u);break;case 1:if(ka(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(S){mt(u,u.return,S)}else{var y=ll(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(S){mt(u,u.return,S)}}h&64&&R2(u),h&512&&Xf(u,u.return);break;case 3:if(ka(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{_S(a,o)}catch(S){mt(u,u.return,S)}}break;case 27:o===null&&h&4&&M2(u);case 26:case 5:ka(a,u),o===null&&h&4&&N2(u),h&512&&Xf(u,u.return);break;case 12:ka(a,u);break;case 31:ka(a,u),h&4&&z2(a,u);break;case 13:ka(a,u),h&4&&B2(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=A9.bind(null,u),H9(a,u))));break;case 22:if(h=u.memoizedState!==null||Da,!h){o=o!==null&&o.memoizedState!==null||ln,y=Da;var b=ln;Da=h,(ln=o)&&!b?ja(a,u,(u.subtreeFlags&8772)!==0):ka(a,u),Da=y,ln=b}break;case 30:break;default:ka(a,u)}}function V2(a){var o=a.alternate;o!==null&&(a.alternate=null,V2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&du(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Pt=null,dr=!1;function Ma(a,o,u){for(u=u.child;u!==null;)L2(a,o,u),u=u.sibling}function L2(a,o,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(vi,u)}catch{}switch(u.tag){case 26:ln||na(u,o),Ma(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ln||na(u,o);var h=Pt,y=dr;Hs(u.type)&&(Pt=u.stateNode,dr=!1),Ma(a,o,u),sh(u.stateNode),Pt=h,dr=y;break;case 5:ln||na(u,o);case 6:if(h=Pt,y=dr,Pt=null,Ma(a,o,u),Pt=h,dr=y,Pt!==null)if(dr)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(u.stateNode)}catch(b){mt(u,o,b)}else try{Pt.removeChild(u.stateNode)}catch(b){mt(u,o,b)}break;case 18:Pt!==null&&(dr?(a=Pt,RI(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Xu(a)):RI(Pt,u.stateNode));break;case 4:h=Pt,y=dr,Pt=u.stateNode.containerInfo,dr=!0,Ma(a,o,u),Pt=h,dr=y;break;case 0:case 11:case 14:case 15:Ls(2,u,o),ln||Ls(4,u,o),Ma(a,o,u);break;case 1:ln||(na(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&P2(u,o,h)),Ma(a,o,u);break;case 21:Ma(a,o,u);break;case 22:ln=(h=ln)||u.memoizedState!==null,Ma(a,o,u),ln=h;break;default:Ma(a,o,u)}}function z2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Xu(a)}catch(u){mt(o,o.return,u)}}}function B2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Xu(a)}catch(u){mt(o,o.return,u)}}function y9(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new k2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new k2),o;default:throw Error(r(435,a.tag))}}function sp(a,o){var u=y9(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var y=S9.bind(null,a,h);h.then(y,y)}})}function mr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],b=a,S=o,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(Hs(D.type)){Pt=D.stateNode,dr=!1;break e}break;case 5:Pt=D.stateNode,dr=!1;break e;case 3:case 4:Pt=D.stateNode.containerInfo,dr=!0;break e}D=D.return}if(Pt===null)throw Error(r(160));L2(b,S,y),Pt=null,dr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)U2(o,a),o=o.sibling}var Ci=null;function U2(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:mr(o,a),pr(a),h&4&&(Ls(3,a,a.return),Qf(3,a),Ls(5,a,a.return));break;case 1:mr(o,a),pr(a),h&512&&(ln||u===null||na(u,u.return)),h&64&&Da&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Ci;if(mr(o,a),pr(a),h&512&&(ln||u===null||na(u,u.return)),h&4){var b=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[$i]||b[tn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),zn(b,h,u),b[tn]=a,nn(b),h=b;break e;case"link":var S=UI("link","href",y).get(h+(u.href||""));if(S){for(var D=0;D<S.length;D++)if(b=S[D],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(D,1);break t}}b=y.createElement(h),zn(b,h,u),y.head.appendChild(b);break;case"meta":if(S=UI("meta","content",y).get(h+(u.content||""))){for(D=0;D<S.length;D++)if(b=S[D],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(D,1);break t}}b=y.createElement(h),zn(b,h,u),y.head.appendChild(b);break;default:throw Error(r(468,h))}b[tn]=a,nn(b),h=b}a.stateNode=h}else $I(y,a.type,a.stateNode);else a.stateNode=BI(y,h,a.memoizedProps);else b!==h?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,h===null?$I(y,a.type,a.stateNode):BI(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&db(a,a.memoizedProps,u.memoizedProps)}break;case 27:mr(o,a),pr(a),h&512&&(ln||u===null||na(u,u.return)),u!==null&&h&4&&db(a,a.memoizedProps,u.memoizedProps);break;case 5:if(mr(o,a),pr(a),h&512&&(ln||u===null||na(u,u.return)),a.flags&32){y=a.stateNode;try{hr(y,"")}catch(Ae){mt(a,a.return,Ae)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,db(a,y,u!==null?u.memoizedProps:y)),h&1024&&(gb=!0);break;case 6:if(mr(o,a),pr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Ae){mt(a,a.return,Ae)}}break;case 3:if(Ep=null,y=Ci,Ci=_p(o.containerInfo),mr(o,a),Ci=y,pr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Xu(o.containerInfo)}catch(Ae){mt(a,a.return,Ae)}gb&&(gb=!1,$2(a));break;case 4:h=Ci,Ci=_p(a.stateNode.containerInfo),mr(o,a),pr(a),Ci=h;break;case 12:mr(o,a),pr(a);break;case 31:mr(o,a),pr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,sp(a,h)));break;case 13:mr(o,a),pr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(lp=nr()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,sp(a,h)));break;case 22:y=a.memoizedState!==null;var F=u!==null&&u.memoizedState!==null,ee=Da,oe=ln;if(Da=ee||y,ln=oe||F,mr(o,a),ln=oe,Da=ee,pr(a),h&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||F||Da||ln||ul(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){F=u=o;try{if(b=F.stateNode,y)S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=F.stateNode;var ue=F.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ae){mt(F,F.return,Ae)}}}else if(o.tag===6){if(u===null){F=o;try{F.stateNode.nodeValue=y?"":F.memoizedProps}catch(Ae){mt(F,F.return,Ae)}}}else if(o.tag===18){if(u===null){F=o;try{var ae=F.stateNode;y?PI(ae,!0):PI(F.stateNode,!1)}catch(Ae){mt(F,F.return,Ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,sp(a,u))));break;case 19:mr(o,a),pr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,sp(a,h)));break;case 30:break;case 21:break;default:mr(o,a),pr(a)}}function pr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(D2(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=mb(a);ap(a,b,y);break;case 5:var S=u.stateNode;u.flags&32&&(hr(S,""),u.flags&=-33);var D=mb(a);ap(a,D,S);break;case 3:case 4:var F=u.stateNode.containerInfo,ee=mb(a);pb(a,ee,F);break;default:throw Error(r(161))}}catch(oe){mt(a,a.return,oe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function $2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;$2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ka(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)j2(a,o.alternate,o),o=o.sibling}function ul(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ls(4,o,o.return),ul(o);break;case 1:na(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&P2(o,o.return,u),ul(o);break;case 27:sh(o.stateNode);case 26:case 5:na(o,o.return),ul(o);break;case 22:o.memoizedState===null&&ul(o);break;case 30:ul(o);break;default:ul(o)}a=a.sibling}}function ja(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=a,b=o,S=b.flags;switch(b.tag){case 0:case 11:case 15:ja(y,b,u),Qf(4,b);break;case 1:if(ja(y,b,u),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ee){mt(h,h.return,ee)}if(h=b,y=h.updateQueue,y!==null){var D=h.stateNode;try{var F=y.shared.hiddenCallbacks;if(F!==null)for(y.shared.hiddenCallbacks=null,y=0;y<F.length;y++)bS(F[y],D)}catch(ee){mt(h,h.return,ee)}}u&&S&64&&R2(b),Xf(b,b.return);break;case 27:M2(b);case 26:case 5:ja(y,b,u),u&&h===null&&S&4&&N2(b),Xf(b,b.return);break;case 12:ja(y,b,u);break;case 31:ja(y,b,u),u&&S&4&&z2(y,b);break;case 13:ja(y,b,u),u&&S&4&&B2(y,b);break;case 22:b.memoizedState===null&&ja(y,b,u),Xf(b,b.return);break;case 30:break;default:ja(y,b,u)}o=o.sibling}}function yb(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Vf(u))}function vb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Vf(a))}function Oi(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)q2(a,o,u,h),o=o.sibling}function q2(a,o,u,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(a,o,u,h),y&2048&&Qf(9,o);break;case 1:Oi(a,o,u,h);break;case 3:Oi(a,o,u,h),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Vf(a)));break;case 12:if(y&2048){Oi(a,o,u,h),a=o.stateNode;try{var b=o.memoizedProps,S=b.id,D=b.onPostCommit;typeof D=="function"&&D(S,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(F){mt(o,o.return,F)}}else Oi(a,o,u,h);break;case 31:Oi(a,o,u,h);break;case 13:Oi(a,o,u,h);break;case 23:break;case 22:b=o.stateNode,S=o.alternate,o.memoizedState!==null?b._visibility&2?Oi(a,o,u,h):Zf(a,o):b._visibility&2?Oi(a,o,u,h):(b._visibility|=2,Bu(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&yb(S,o);break;case 24:Oi(a,o,u,h),y&2048&&vb(o.alternate,o);break;default:Oi(a,o,u,h)}}function Bu(a,o,u,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,S=o,D=u,F=h,ee=S.flags;switch(S.tag){case 0:case 11:case 15:Bu(b,S,D,F,y),Qf(8,S);break;case 23:break;case 22:var oe=S.stateNode;S.memoizedState!==null?oe._visibility&2?Bu(b,S,D,F,y):Zf(b,S):(oe._visibility|=2,Bu(b,S,D,F,y)),y&&ee&2048&&yb(S.alternate,S);break;case 24:Bu(b,S,D,F,y),y&&ee&2048&&vb(S.alternate,S);break;default:Bu(b,S,D,F,y)}o=o.sibling}}function Zf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,y=h.flags;switch(h.tag){case 22:Zf(u,h),y&2048&&yb(h.alternate,h);break;case 24:Zf(u,h),y&2048&&vb(h.alternate,h);break;default:Zf(u,h)}o=o.sibling}}var Jf=8192;function Uu(a,o,u){if(a.subtreeFlags&Jf)for(a=a.child;a!==null;)F2(a,o,u),a=a.sibling}function F2(a,o,u){switch(a.tag){case 26:Uu(a,o,u),a.flags&Jf&&a.memoizedState!==null&&rz(u,Ci,a.memoizedState,a.memoizedProps);break;case 5:Uu(a,o,u);break;case 3:case 4:var h=Ci;Ci=_p(a.stateNode.containerInfo),Uu(a,o,u),Ci=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Jf,Jf=16777216,Uu(a,o,u),Jf=h):Uu(a,o,u));break;default:Uu(a,o,u)}}function H2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function eh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Cn=h,G2(h,a)}H2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)K2(a),a=a.sibling}function K2(a){switch(a.tag){case 0:case 11:case 15:eh(a),a.flags&2048&&Ls(9,a,a.return);break;case 3:eh(a);break;case 12:eh(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,op(a)):eh(a);break;default:eh(a)}}function op(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Cn=h,G2(h,a)}H2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ls(8,o,o.return),op(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,op(o));break;default:op(o)}a=a.sibling}}function G2(a,o){for(;Cn!==null;){var u=Cn;switch(u.tag){case 0:case 11:case 15:Ls(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Vf(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Cn=h;else e:for(u=a;Cn!==null;){h=Cn;var y=h.sibling,b=h.return;if(V2(h),h===u){Cn=null;break e}if(y!==null){y.return=b,Cn=y;break e}Cn=b}}}var v9={getCacheForType:function(a){var o=Vn(an),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Vn(an).controller.signal}},b9=typeof WeakMap=="function"?WeakMap:Map,ct=0,Tt=null,Qe=null,Ze=0,dt=0,Rr=null,zs=!1,$u=!1,bb=!1,Va=0,$t=0,Bs=0,cl=0,_b=0,Pr=0,qu=0,th=null,gr=null,wb=!1,lp=0,Y2=0,up=1/0,cp=null,Us=null,yn=0,$s=null,Fu=null,La=0,Eb=0,xb=null,W2=null,nh=0,Tb=null;function Nr(){return(ct&2)!==0&&Ze!==0?Ze&-Ze:Q.T!==null?Rb():fm()}function Q2(){if(Pr===0)if((Ze&536870912)===0||nt){var a=Vo;Vo<<=1,(Vo&3932160)===0&&(Vo=262144),Pr=a}else Pr=536870912;return a=Cr.current,a!==null&&(a.flags|=32),Pr}function yr(a,o,u){(a===Tt&&(dt===2||dt===9)||a.cancelPendingCommit!==null)&&(Hu(a,0),qs(a,Ze,Pr,!1)),Lo(a,u),((ct&2)===0||a!==Tt)&&(a===Tt&&((ct&2)===0&&(cl|=u),$t===4&&qs(a,Ze,Pr,!1)),ra(a))}function X2(a,o,u){if((ct&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||bi(a,o),y=h?E9(a,o):Sb(a,o,!0),b=h;do{if(y===0){$u&&!h&&qs(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!_9(u)){y=Sb(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var D=a;y=th;var F=D.current.memoizedState.isDehydrated;if(F&&(Hu(D,S).flags|=256),S=Sb(D,S,!1),S!==2){if(bb&&!F){D.errorRecoveryDisabledLanes|=b,cl|=b,y=4;break e}b=gr,gr=y,b!==null&&(gr===null?gr=b:gr.push.apply(gr,b))}y=S}if(b=!1,y!==2)continue}}if(y===1){Hu(a,0),qs(a,o,0,!0);break}e:{switch(h=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:qs(h,o,Pr,!zs);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=lp+300-nr(),10<y)){if(qs(h,o,Pr,!zs),zi(h,0,!0)!==0)break e;La=o,h.timeoutHandle=CI(Z2.bind(null,h,u,gr,cp,wb,o,Pr,cl,qu,zs,b,"Throttled",-0,0),y);break e}Z2(h,u,gr,cp,wb,o,Pr,cl,qu,zs,b,null,-0,0)}}break}while(!0);ra(a)}function Z2(a,o,u,h,y,b,S,D,F,ee,oe,ue,te,ae){if(a.timeoutHandle=-1,ue=o.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},F2(o,b,ue);var Ae=(b&62914560)===b?lp-nr():(b&4194048)===b?Y2-nr():0;if(Ae=iz(ue,Ae),Ae!==null){La=b,a.cancelPendingCommit=Ae(sI.bind(null,a,o,b,u,h,y,S,D,F,oe,ue,null,te,ae)),qs(a,b,S,!ee);return}}sI(a,o,b,u,h,y,S,D,F)}function _9(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],b=y.getSnapshot;y=y.value;try{if(!Sr(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qs(a,o,u,h){o&=~_b,o&=~cl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var y=o;0<y;){var b=31-Yt(y),S=1<<b;h[b]=-1,y&=~S}u!==0&&zo(a,u,o)}function fp(){return(ct&6)===0?(rh(0),!1):!0}function Ab(){if(Qe!==null){if(dt===0)var a=Qe.return;else a=Qe,Ia=tl=null,U0(a),ku=null,zf=0,a=Qe;for(;a!==null;)O2(a.alternate,a),a=a.return;Qe=null}}function Hu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,B9(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),La=0,Ab(),Tt=a,Qe=u=Aa(a.current,null),Ze=o,dt=0,Rr=null,zs=!1,$u=bi(a,o),bb=!1,qu=Pr=_b=cl=Bs=$t=0,gr=th=null,wb=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var y=31-Yt(h),b=1<<y;o|=a[y],h&=~b}return Va=o,Nm(),u}function J2(a,o){Fe=null,Q.H=Gf,o===Mu||o===Bm?(o=pS(),dt=3):o===O0?(o=pS(),dt=4):dt=o===rb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Rr=o,Qe===null&&($t=1,ep(a,Xr(o,a.current)))}function eI(){var a=Cr.current;return a===null?!0:(Ze&4194048)===Ze?ti===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?a===ti:!1}function tI(){var a=Q.H;return Q.H=Gf,a===null?Gf:a}function nI(){var a=Q.A;return Q.A=v9,a}function hp(){$t=4,zs||(Ze&4194048)!==Ze&&Cr.current!==null||($u=!0),(Bs&134217727)===0&&(cl&134217727)===0||Tt===null||qs(Tt,Ze,Pr,!1)}function Sb(a,o,u){var h=ct;ct|=2;var y=tI(),b=nI();(Tt!==a||Ze!==o)&&(cp=null,Hu(a,o)),o=!1;var S=$t;e:do try{if(dt!==0&&Qe!==null){var D=Qe,F=Rr;switch(dt){case 8:Ab(),S=6;break e;case 3:case 2:case 9:case 6:Cr.current===null&&(o=!0);var ee=dt;if(dt=0,Rr=null,Ku(a,D,F,ee),u&&$u){S=0;break e}break;default:ee=dt,dt=0,Rr=null,Ku(a,D,F,ee)}}w9(),S=$t;break}catch(oe){J2(a,oe)}while(!0);return o&&a.shellSuspendCounter++,Ia=tl=null,ct=h,Q.H=y,Q.A=b,Qe===null&&(Tt=null,Ze=0,Nm()),S}function w9(){for(;Qe!==null;)rI(Qe)}function E9(a,o){var u=ct;ct|=2;var h=tI(),y=nI();Tt!==a||Ze!==o?(cp=null,up=nr()+500,Hu(a,o)):$u=bi(a,o);e:do try{if(dt!==0&&Qe!==null){o=Qe;var b=Rr;t:switch(dt){case 1:dt=0,Rr=null,Ku(a,o,b,1);break;case 2:case 9:if(dS(b)){dt=0,Rr=null,iI(o);break}o=function(){dt!==2&&dt!==9||Tt!==a||(dt=7),ra(a)},b.then(o,o);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:dS(b)?(dt=0,Rr=null,iI(o)):(dt=0,Rr=null,Ku(a,o,b,7));break;case 5:var S=null;switch(Qe.tag){case 26:S=Qe.memoizedState;case 5:case 27:var D=Qe;if(S?qI(S):D.stateNode.complete){dt=0,Rr=null;var F=D.sibling;if(F!==null)Qe=F;else{var ee=D.return;ee!==null?(Qe=ee,dp(ee)):Qe=null}break t}}dt=0,Rr=null,Ku(a,o,b,5);break;case 6:dt=0,Rr=null,Ku(a,o,b,6);break;case 8:Ab(),$t=6;break e;default:throw Error(r(462))}}x9();break}catch(oe){J2(a,oe)}while(!0);return Ia=tl=null,Q.H=h,Q.A=y,ct=u,Qe!==null?0:(Tt=null,Ze=0,Nm(),$t)}function x9(){for(;Qe!==null&&!n0();)rI(Qe)}function rI(a){var o=I2(a.alternate,a,Va);a.memoizedProps=a.pendingProps,o===null?dp(a):Qe=o}function iI(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=w2(u,o,o.pendingProps,o.type,void 0,Ze);break;case 11:o=w2(u,o,o.pendingProps,o.type.render,o.ref,Ze);break;case 5:U0(o);default:O2(u,o),o=Qe=nS(o,Va),o=I2(u,o,Va)}a.memoizedProps=a.pendingProps,o===null?dp(a):Qe=o}function Ku(a,o,u,h){Ia=tl=null,U0(o),ku=null,zf=0;var y=o.return;try{if(f9(a,y,o,u,Ze)){$t=1,ep(a,Xr(u,a.current)),Qe=null;return}}catch(b){if(y!==null)throw Qe=y,b;$t=1,ep(a,Xr(u,a.current)),Qe=null;return}o.flags&32768?(nt||h===1?a=!0:$u||(Ze&536870912)!==0?a=!1:(zs=a=!0,(h===2||h===9||h===3||h===6)&&(h=Cr.current,h!==null&&h.tag===13&&(h.flags|=16384))),aI(o,a)):dp(o)}function dp(a){var o=a;do{if((o.flags&32768)!==0){aI(o,zs);return}a=o.return;var u=m9(o.alternate,o,Va);if(u!==null){Qe=u;return}if(o=o.sibling,o!==null){Qe=o;return}Qe=o=a}while(o!==null);$t===0&&($t=5)}function aI(a,o){do{var u=p9(a.alternate,a);if(u!==null){u.flags&=32767,Qe=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Qe=a;return}Qe=a=u}while(a!==null);$t=6,Qe=null}function sI(a,o,u,h,y,b,S,D,F){a.cancelPendingCommit=null;do mp();while(yn!==0);if((ct&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=m0,a0(a,u,b,S,D,F),a===Tt&&(Qe=Tt=null,Ze=0),Fu=o,$s=a,La=u,Eb=b,xb=y,W2=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,I9(bs,function(){return fI(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Q.T,Q.T=null,y=W.p,W.p=2,S=ct,ct|=4;try{g9(a,o,u)}finally{ct=S,W.p=y,Q.T=h}}yn=1,oI(),lI(),uI()}}function oI(){if(yn===1){yn=0;var a=$s,o=Fu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null;var h=W.p;W.p=2;var y=ct;ct|=4;try{U2(o,a);var b=Lb,S=GA(a.containerInfo),D=b.focusedElem,F=b.selectionRange;if(S!==D&&D&&D.ownerDocument&&KA(D.ownerDocument.documentElement,D)){if(F!==null&&u0(D)){var ee=F.start,oe=F.end;if(oe===void 0&&(oe=ee),"selectionStart"in D)D.selectionStart=ee,D.selectionEnd=Math.min(oe,D.value.length);else{var ue=D.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ae=te.getSelection(),Ae=D.textContent.length,ke=Math.min(F.start,Ae),wt=F.end===void 0?ke:Math.min(F.end,Ae);!ae.extend&&ke>wt&&(S=wt,wt=ke,ke=S);var Y=HA(D,ke),K=HA(D,wt);if(Y&&K&&(ae.rangeCount!==1||ae.anchorNode!==Y.node||ae.anchorOffset!==Y.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var J=ue.createRange();J.setStart(Y.node,Y.offset),ae.removeAllRanges(),ke>wt?(ae.addRange(J),ae.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),ae.addRange(J))}}}}for(ue=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ue.length;D++){var le=ue[D];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Sp=!!Vb,Lb=Vb=null}finally{ct=y,W.p=h,Q.T=u}}a.current=o,yn=2}}function lI(){if(yn===2){yn=0;var a=$s,o=Fu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Q.T,Q.T=null;var h=W.p;W.p=2;var y=ct;ct|=4;try{j2(a,o.alternate,o)}finally{ct=y,W.p=h,Q.T=u}}yn=3}}function uI(){if(yn===4||yn===3){yn=0,im();var a=$s,o=Fu,u=La,h=W2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?yn=5:(yn=0,Fu=$s=null,cI(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Us=null),wa(u),o=o.stateNode,Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(vi,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Q.T,y=W.p,W.p=2,Q.T=null;try{for(var b=a.onRecoverableError,S=0;S<h.length;S++){var D=h[S];b(D.value,{componentStack:D.stack})}}finally{Q.T=o,W.p=y}}(La&3)!==0&&mp(),ra(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===Tb?nh++:(nh=0,Tb=a):nh=0,rh(0)}}function cI(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Vf(o)))}function mp(){return oI(),lI(),uI(),fI()}function fI(){if(yn!==5)return!1;var a=$s,o=Eb;Eb=0;var u=wa(La),h=Q.T,y=W.p;try{W.p=32>u?32:u,Q.T=null,u=xb,xb=null;var b=$s,S=La;if(yn=0,Fu=$s=null,La=0,(ct&6)!==0)throw Error(r(331));var D=ct;if(ct|=4,K2(b.current),q2(b,b.current,S,u),ct=D,rh(0,!1),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(vi,b)}catch{}return!0}finally{W.p=y,Q.T=h,cI(a,o)}}function hI(a,o,u){o=Xr(u,o),o=nb(a.stateNode,o,2),a=ks(a,o,2),a!==null&&(Lo(a,2),ra(a))}function mt(a,o,u){if(a.tag===3)hI(a,a,u);else for(;o!==null;){if(o.tag===3){hI(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Us===null||!Us.has(h))){a=Xr(u,a),u=d2(2),h=ks(o,u,2),h!==null&&(m2(u,h,o,a),Lo(h,2),ra(h));break}}o=o.return}}function Ib(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new b9;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(u)||(bb=!0,y.add(u),a=T9.bind(null,a,o,u),o.then(a,a))}function T9(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Tt===a&&(Ze&u)===u&&($t===4||$t===3&&(Ze&62914560)===Ze&&300>nr()-lp?(ct&2)===0&&Hu(a,0):_b|=u,qu===Ze&&(qu=0)),ra(a)}function dI(a,o){o===0&&(o=cm()),a=Zo(a,o),a!==null&&(Lo(a,o),ra(a))}function A9(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),dI(a,u)}function S9(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),dI(a,u)}function I9(a,o){return gn(a,o)}var pp=null,Gu=null,Cb=!1,gp=!1,Ob=!1,Fs=0;function ra(a){a!==Gu&&a.next===null&&(Gu===null?pp=Gu=a:Gu=Gu.next=a),gp=!0,Cb||(Cb=!0,O9())}function rh(a,o){if(!Ob&&gp){Ob=!0;do for(var u=!1,h=pp;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var S=h.suspendedLanes,D=h.pingedLanes;b=(1<<31-Yt(42|a)+1)-1,b&=y&~(S&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,yI(h,b))}else b=Ze,b=zi(h,h===Tt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||bi(h,b)||(u=!0,yI(h,b));h=h.next}while(u);Ob=!1}}function C9(){mI()}function mI(){gp=Cb=!1;var a=0;Fs!==0&&z9()&&(a=Fs);for(var o=nr(),u=null,h=pp;h!==null;){var y=h.next,b=pI(h,o);b===0?(h.next=null,u===null?pp=y:u.next=y,y===null&&(Gu=u)):(u=h,(a!==0||(b&3)!==0)&&(gp=!0)),h=y}yn!==0&&yn!==5||rh(a),Fs!==0&&(Fs=0)}function pI(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var S=31-Yt(b),D=1<<S,F=y[S];F===-1?((D&u)===0||(D&h)!==0)&&(y[S]=i0(D,o)):F<=o&&(a.expiredLanes|=D),b&=~D}if(o=Tt,u=Ze,u=zi(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(dt===2||dt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&vs(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||bi(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&vs(h),wa(u)){case 2:case 8:u=df;break;case 32:u=bs;break;case 268435456:u=am;break;default:u=bs}return h=gI.bind(null,a),u=gn(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&vs(h),a.callbackPriority=2,a.callbackNode=null,2}function gI(a,o){if(yn!==0&&yn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(mp()&&a.callbackNode!==u)return null;var h=Ze;return h=zi(a,a===Tt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(X2(a,h,o),pI(a,nr()),a.callbackNode!=null&&a.callbackNode===u?gI.bind(null,a):null)}function yI(a,o){if(mp())return null;X2(a,o,!0)}function O9(){U9(function(){(ct&6)!==0?gn(hf,C9):mI()})}function Rb(){if(Fs===0){var a=Nu;a===0&&(a=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),Fs=a}return Fs}function vI(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:yu(""+a)}function bI(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function R9(a,o,u,h,y){if(o==="submit"&&u&&u.stateNode===y){var b=vI((y[Sn]||null).action),S=h.submitter;S&&(o=(o=S[Sn]||null)?vI(o.formAction):S.getAttribute("formAction"),o!==null&&(b=o,S=null));var D=new Qi("action","action",null,h,y);a.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Fs!==0){var F=S?bI(y,S):new FormData(y);Q0(u,{pending:!0,data:F,method:y.method,action:b},null,F)}}else typeof b=="function"&&(D.preventDefault(),F=S?bI(y,S):new FormData(y),Q0(u,{pending:!0,data:F,method:y.method,action:b},b,F))},currentTarget:y}]})}}for(var Pb=0;Pb<d0.length;Pb++){var Nb=d0[Pb],P9=Nb.toLowerCase(),N9=Nb[0].toUpperCase()+Nb.slice(1);Ii(P9,"on"+N9)}Ii(QA,"onAnimationEnd"),Ii(XA,"onAnimationIteration"),Ii(ZA,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(YL,"onTransitionRun"),Ii(WL,"onTransitionStart"),Ii(QL,"onTransitionCancel"),Ii(JA,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ih));function _I(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],y=h.event;h=h.listeners;e:{var b=void 0;if(o)for(var S=h.length-1;0<=S;S--){var D=h[S],F=D.instance,ee=D.currentTarget;if(D=D.listener,F!==b&&y.isPropagationStopped())break e;b=D,y.currentTarget=ee;try{b(y)}catch(oe){Pm(oe)}y.currentTarget=null,b=F}else for(S=0;S<h.length;S++){if(D=h[S],F=D.instance,ee=D.currentTarget,D=D.listener,F!==b&&y.isPropagationStopped())break e;b=D,y.currentTarget=ee;try{b(y)}catch(oe){Pm(oe)}y.currentTarget=null,b=F}}}}function Xe(a,o){var u=o[hu];u===void 0&&(u=o[hu]=new Set);var h=a+"__bubble";u.has(h)||(wI(o,a,2,!1),u.add(h))}function Db(a,o,u){var h=0;o&&(h|=4),wI(u,a,h,o)}var yp="_reactListening"+Math.random().toString(36).slice(2);function Mb(a){if(!a[yp]){a[yp]=!0,gf.forEach(function(u){u!=="selectionchange"&&(D9.has(u)||Db(u,!1,a),Db(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[yp]||(o[yp]=!0,Db("selectionchange",!1,o))}}function wI(a,o,u,h){switch(QI(o)){case 2:var y=oz;break;case 8:y=lz;break;default:y=Wb}u=y.bind(null,o,u,a),y=void 0,!Fo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function kb(a,o,u,h,y){var b=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var D=h.stateNode.containerInfo;if(D===y)break;if(S===4)for(S=h.return;S!==null;){var F=S.tag;if((F===3||F===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;D!==null;){if(S=qi(D),S===null)return;if(F=S.tag,F===5||F===6||F===26||F===27){h=b=S;continue e}D=D.parentNode}}h=h.return}As(function(){var ee=b,oe=Gr(u),ue=[];e:{var te=eS.get(a);if(te!==void 0){var ae=Qi,Ae=a;switch(a){case"keypress":if(Ko(u)===0)break e;case"keydown":case"keyup":ae=Cm;break;case"focusin":Ae="focus",ae=Yo;break;case"focusout":Ae="blur",ae=Yo;break;case"beforeblur":case"afterblur":ae=Yo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=w;break;case QA:case XA:case ZA:ae=wm;break;case JA:ae=L;break;case"scroll":case"scrollend":ae=Cf;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ta;break;case"toggle":case"beforetoggle":ae=qe}var ke=(o&4)!==0,wt=!ke&&(a==="scroll"||a==="scrollend"),Y=ke?te!==null?te+"Capture":null:te;ke=[];for(var K=ee,J;K!==null;){var le=K;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||Y===null||(le=xi(K,Y),le!=null&&ke.push(ah(K,le,J))),wt)break;K=K.return}0<ke.length&&(te=new ae(te,Ae,null,u,oe),ue.push({event:te,listeners:ke}))}}if((o&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",te&&u!==Af&&(Ae=u.relatedTarget||u.fromElement)&&(qi(Ae)||Ae[Ui]))break e;if((ae||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(Ae=u.relatedTarget||u.toElement,ae=ee,Ae=Ae?qi(Ae):null,Ae!==null&&(wt=s(Ae),ke=Ae.tag,Ae!==wt||ke!==5&&ke!==27&&ke!==6)&&(Ae=null)):(ae=null,Ae=ee),ae!==Ae)){if(ke=Of,le="onMouseLeave",Y="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(ke=Ta,le="onPointerLeave",Y="onPointerEnter",K="pointer"),wt=ae==null?te:Tr(ae),J=Ae==null?te:Tr(Ae),te=new ke(le,K+"leave",ae,u,oe),te.target=wt,te.relatedTarget=J,le=null,qi(oe)===ee&&(ke=new ke(Y,K+"enter",Ae,u,oe),ke.target=J,ke.relatedTarget=wt,le=ke),wt=le,ae&&Ae)t:{for(ke=M9,Y=ae,K=Ae,J=0,le=Y;le;le=ke(le))J++;le=0;for(var Ne=K;Ne;Ne=ke(Ne))le++;for(;0<J-le;)Y=ke(Y),J--;for(;0<le-J;)K=ke(K),le--;for(;J--;){if(Y===K||K!==null&&Y===K.alternate){ke=Y;break t}Y=ke(Y),K=ke(K)}ke=null}else ke=null;ae!==null&&EI(ue,te,ae,ke,!1),Ae!==null&&wt!==null&&EI(ue,wt,Ae,ke,!0)}}e:{if(te=ee?Tr(ee):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var it=zA;else if(VA(te))if(BA)it=HL;else{it=qL;var Ce=$L}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&gu(ee.elementType)&&(it=zA):it=FL;if(it&&(it=it(a,ee))){LA(ue,it,u,oe);break e}Ce&&Ce(a,te,ee),a==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Ef(te,"number",te.value)}switch(Ce=ee?Tr(ee):window,a){case"focusin":(VA(Ce)||Ce.contentEditable==="true")&&(Tu=Ce,c0=ee,Mf=null);break;case"focusout":Mf=c0=Tu=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,YA(ue,u,oe);break;case"selectionchange":if(GL)break;case"keydown":case"keyup":YA(ue,u,oe)}var He;if(ut)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else xu?Wo(a,u)&&(Je="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(Ji&&u.locale!=="ko"&&(xu||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&xu&&(He=If()):(Wi=oe,Sf="value"in Wi?Wi.value:Wi.textContent,xu=!0)),Ce=vp(ee,Je),0<Ce.length&&(Je=new Zi(Je,a,null,u,oe),ue.push({event:Je,listeners:Ce}),He?Je.data=He:(He=Eu(u),He!==null&&(Je.data=He)))),(He=Wr?LL(a,u):zL(a,u))&&(Je=vp(ee,"onBeforeInput"),0<Je.length&&(Ce=new Zi("onBeforeInput","beforeinput",null,u,oe),ue.push({event:Ce,listeners:Je}),Ce.data=He)),R9(ue,a,ee,u,oe)}_I(ue,o)})}function ah(a,o,u){return{instance:a,listener:o,currentTarget:u}}function vp(a,o){for(var u=o+"Capture",h=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=xi(a,u),y!=null&&h.unshift(ah(a,y,b)),y=xi(a,o),y!=null&&h.push(ah(a,y,b))),a.tag===3)return h;a=a.return}return[]}function M9(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function EI(a,o,u,h,y){for(var b=o._reactName,S=[];u!==null&&u!==h;){var D=u,F=D.alternate,ee=D.stateNode;if(D=D.tag,F!==null&&F===h)break;D!==5&&D!==26&&D!==27||ee===null||(F=ee,y?(ee=xi(u,b),ee!=null&&S.unshift(ah(u,ee,F))):y||(ee=xi(u,b),ee!=null&&S.push(ah(u,ee,F)))),u=u.return}S.length!==0&&a.push({event:o,listeners:S})}var k9=/\r\n?/g,j9=/\u0000|\uFFFD/g;function xI(a){return(typeof a=="string"?a:""+a).replace(k9,`
`).replace(j9,"")}function TI(a,o){return o=xI(o),xI(a)===o}function _t(a,o,u,h,y,b){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||hr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&hr(a,""+h);break;case"className":Ar(a,"class",h);break;case"tabIndex":Ar(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(a,u,h);break;case"style":Tf(a,h,b);break;case"data":if(o!=="object"){Ar(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=yu(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&_t(a,o,"name",y.name,y,null),_t(a,o,"formEncType",y.formEncType,y,null),_t(a,o,"formMethod",y.formMethod,y,null),_t(a,o,"formTarget",y.formTarget,y,null)):(_t(a,o,"encType",y.encType,y,null),_t(a,o,"method",y.method,y,null),_t(a,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=yu(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Ei);break;case"onScroll":h!=null&&Xe("scroll",a);break;case"onScrollEnd":h!=null&&Xe("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=yu(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":Xe("beforetoggle",a),Xe("toggle",a),mu(a,"popover",h);break;case"xlinkActuate":rn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":rn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":rn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":rn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":rn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":rn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":rn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":rn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":rn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":mu(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=vm.get(u)||u,mu(a,u,h))}}function jb(a,o,u,h,y,b){switch(u){case"style":Tf(a,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?hr(a,h):(typeof h=="number"||typeof h=="bigint")&&hr(a,""+h);break;case"onScroll":h!=null&&Xe("scroll",a);break;case"onScrollEnd":h!=null&&Xe("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[Sn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,y);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):mu(a,u,h)}}}function zn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",a),Xe("load",a);var h=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var S=u[b];if(S!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:_t(a,o,b,S,u,null)}}y&&_t(a,o,"srcSet",u.srcSet,u,null),h&&_t(a,o,"src",u.src,u,null);return;case"input":Xe("invalid",a);var D=b=S=y=null,F=null,ee=null;for(h in u)if(u.hasOwnProperty(h)){var oe=u[h];if(oe!=null)switch(h){case"name":y=oe;break;case"type":S=oe;break;case"checked":F=oe;break;case"defaultChecked":ee=oe;break;case"value":b=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:_t(a,o,h,oe,u,null)}}pm(a,b,D,F,ee,S,y,!1);return;case"select":Xe("invalid",a),h=S=b=null;for(y in u)if(u.hasOwnProperty(y)&&(D=u[y],D!=null))switch(y){case"value":b=D;break;case"defaultValue":S=D;break;case"multiple":h=D;default:_t(a,o,y,D,u,null)}o=b,u=S,a.multiple=!!h,o!=null?ws(a,!!h,o,!1):u!=null&&ws(a,!!h,u,!0);return;case"textarea":Xe("invalid",a),b=y=h=null;for(S in u)if(u.hasOwnProperty(S)&&(D=u[S],D!=null))switch(S){case"value":h=D;break;case"defaultValue":y=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:_t(a,o,S,D,u,null)}Es(a,h,y,b);return;case"option":for(F in u)if(u.hasOwnProperty(F)&&(h=u[F],h!=null))switch(F){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:_t(a,o,F,h,u,null)}return;case"dialog":Xe("beforetoggle",a),Xe("toggle",a),Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":Xe("load",a);break;case"video":case"audio":for(h=0;h<ih.length;h++)Xe(ih[h],a);break;case"image":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"embed":case"source":case"link":Xe("error",a),Xe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:_t(a,o,ee,h,u,null)}return;default:if(gu(o)){for(oe in u)u.hasOwnProperty(oe)&&(h=u[oe],h!==void 0&&jb(a,o,oe,h,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(h=u[D],h!=null&&_t(a,o,D,h,u,null))}function V9(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,S=null,D=null,F=null,ee=null,oe=null;for(ae in u){var ue=u[ae];if(u.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":F=ue;default:h.hasOwnProperty(ae)||_t(a,o,ae,null,h,ue)}}for(var te in h){var ae=h[te];if(ue=u[te],h.hasOwnProperty(te)&&(ae!=null||ue!=null))switch(te){case"type":b=ae;break;case"name":y=ae;break;case"checked":ee=ae;break;case"defaultChecked":oe=ae;break;case"value":S=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:ae!==ue&&_t(a,o,te,ae,h,ue)}}pu(a,S,D,F,ee,oe,b,y);return;case"select":ae=S=D=te=null;for(b in u)if(F=u[b],u.hasOwnProperty(b)&&F!=null)switch(b){case"value":break;case"multiple":ae=F;default:h.hasOwnProperty(b)||_t(a,o,b,null,h,F)}for(y in h)if(b=h[y],F=u[y],h.hasOwnProperty(y)&&(b!=null||F!=null))switch(y){case"value":te=b;break;case"defaultValue":D=b;break;case"multiple":S=b;default:b!==F&&_t(a,o,y,b,h,F)}o=D,u=S,h=ae,te!=null?ws(a,!!u,te,!1):!!h!=!!u&&(o!=null?ws(a,!!u,o,!0):ws(a,!!u,u?[]:"",!1));return;case"textarea":ae=te=null;for(D in u)if(y=u[D],u.hasOwnProperty(D)&&y!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:_t(a,o,D,null,h,y)}for(S in h)if(y=h[S],b=u[S],h.hasOwnProperty(S)&&(y!=null||b!=null))switch(S){case"value":te=y;break;case"defaultValue":ae=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&_t(a,o,S,y,h,b)}gm(a,te,ae);return;case"option":for(var Ae in u)if(te=u[Ae],u.hasOwnProperty(Ae)&&te!=null&&!h.hasOwnProperty(Ae))switch(Ae){case"selected":a.selected=!1;break;default:_t(a,o,Ae,null,h,te)}for(F in h)if(te=h[F],ae=u[F],h.hasOwnProperty(F)&&te!==ae&&(te!=null||ae!=null))switch(F){case"selected":a.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:_t(a,o,F,te,h,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in u)te=u[ke],u.hasOwnProperty(ke)&&te!=null&&!h.hasOwnProperty(ke)&&_t(a,o,ke,null,h,te);for(ee in h)if(te=h[ee],ae=u[ee],h.hasOwnProperty(ee)&&te!==ae&&(te!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:_t(a,o,ee,te,h,ae)}return;default:if(gu(o)){for(var wt in u)te=u[wt],u.hasOwnProperty(wt)&&te!==void 0&&!h.hasOwnProperty(wt)&&jb(a,o,wt,void 0,h,te);for(oe in h)te=h[oe],ae=u[oe],!h.hasOwnProperty(oe)||te===ae||te===void 0&&ae===void 0||jb(a,o,oe,te,h,ae);return}}for(var Y in u)te=u[Y],u.hasOwnProperty(Y)&&te!=null&&!h.hasOwnProperty(Y)&&_t(a,o,Y,null,h,te);for(ue in h)te=h[ue],ae=u[ue],!h.hasOwnProperty(ue)||te===ae||te==null&&ae==null||_t(a,o,ue,te,h,ae)}function AI(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L9(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var y=u[h],b=y.transferSize,S=y.initiatorType,D=y.duration;if(b&&D&&AI(S)){for(S=0,D=y.responseEnd,h+=1;h<u.length;h++){var F=u[h],ee=F.startTime;if(ee>D)break;var oe=F.transferSize,ue=F.initiatorType;oe&&AI(ue)&&(F=F.responseEnd,S+=oe*(F<D?1:(D-ee)/(F-ee)))}if(--h,o+=8*(b+S)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Vb=null,Lb=null;function bp(a){return a.nodeType===9?a:a.ownerDocument}function SI(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function II(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function zb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bb=null;function z9(){var a=window.event;return a&&a.type==="popstate"?a===Bb?!1:(Bb=a,!0):(Bb=null,!1)}var CI=typeof setTimeout=="function"?setTimeout:void 0,B9=typeof clearTimeout=="function"?clearTimeout:void 0,OI=typeof Promise=="function"?Promise:void 0,U9=typeof queueMicrotask=="function"?queueMicrotask:typeof OI<"u"?function(a){return OI.resolve(null).then(a).catch($9)}:CI;function $9(a){setTimeout(function(){throw a})}function Hs(a){return a==="head"}function RI(a,o){var u=o,h=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(y),Xu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")sh(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,sh(u);for(var b=u.firstChild;b;){var S=b.nextSibling,D=b.nodeName;b[$i]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=S}}else u==="body"&&sh(a.ownerDocument.body);u=y}while(u);Xu(o)}function PI(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function Ub(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ub(u),du(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function q9(a,o,u,h){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[$i])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=ni(a.nextSibling),a===null)break}return null}function F9(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=ni(a.nextSibling),a===null))return null;return a}function NI(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=ni(a.nextSibling),a===null))return null;return a}function $b(a){return a.data==="$?"||a.data==="$~"}function qb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function H9(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function ni(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Fb=null;function DI(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return ni(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function MI(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function kI(a,o,u){switch(o=bp(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function sh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);du(a)}var ri=new Map,jI=new Set;function _p(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var za=W.d;W.d={f:K9,r:G9,D:Y9,C:W9,L:Q9,m:X9,X:J9,S:Z9,M:ez};function K9(){var a=za.f(),o=fp();return a||o}function G9(a){var o=Kr(a);o!==null&&o.tag===5&&o.type==="form"?JS(o):za.r(a)}var Yu=typeof document>"u"?null:document;function VI(a,o,u){var h=Yu;if(h&&typeof o=="string"&&o){var y=fr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),jI.has(y)||(jI.add(y),a={rel:a,crossOrigin:u,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),zn(o,"link",a),nn(o),h.head.appendChild(o)))}}function Y9(a){za.D(a),VI("dns-prefetch",a,null)}function W9(a,o){za.C(a,o),VI("preconnect",a,o)}function Q9(a,o,u){za.L(a,o,u);var h=Yu;if(h&&a&&o){var y='link[rel="preload"][as="'+fr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+fr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+fr(u.imageSizes)+'"]')):y+='[href="'+fr(a)+'"]';var b=y;switch(o){case"style":b=Wu(a);break;case"script":b=Qu(a)}ri.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ri.set(b,a),h.querySelector(y)!==null||o==="style"&&h.querySelector(oh(b))||o==="script"&&h.querySelector(lh(b))||(o=h.createElement("link"),zn(o,"link",a),nn(o),h.head.appendChild(o)))}}function X9(a,o){za.m(a,o);var u=Yu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+fr(h)+'"][href="'+fr(a)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Qu(a)}if(!ri.has(b)&&(a=p({rel:"modulepreload",href:a},o),ri.set(b,a),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(lh(b)))return}h=u.createElement("link"),zn(h,"link",a),nn(h),u.head.appendChild(h)}}}function Z9(a,o,u){za.S(a,o,u);var h=Yu;if(h&&a){var y=Fi(h).hoistableStyles,b=Wu(a);o=o||"default";var S=y.get(b);if(!S){var D={loading:0,preload:null};if(S=h.querySelector(oh(b)))D.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ri.get(b))&&Hb(a,u);var F=S=h.createElement("link");nn(F),zn(F,"link",a),F._p=new Promise(function(ee,oe){F.onload=ee,F.onerror=oe}),F.addEventListener("load",function(){D.loading|=1}),F.addEventListener("error",function(){D.loading|=2}),D.loading|=4,wp(S,o,h)}S={type:"stylesheet",instance:S,count:1,state:D},y.set(b,S)}}}function J9(a,o){za.X(a,o);var u=Yu;if(u&&a){var h=Fi(u).hoistableScripts,y=Qu(a),b=h.get(y);b||(b=u.querySelector(lh(y)),b||(a=p({src:a,async:!0},o),(o=ri.get(y))&&Kb(a,o),b=u.createElement("script"),nn(b),zn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function ez(a,o){za.M(a,o);var u=Yu;if(u&&a){var h=Fi(u).hoistableScripts,y=Qu(a),b=h.get(y);b||(b=u.querySelector(lh(y)),b||(a=p({src:a,async:!0,type:"module"},o),(o=ri.get(y))&&Kb(a,o),b=u.createElement("script"),nn(b),zn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function LI(a,o,u,h){var y=(y=je.current)?_p(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Wu(u.href),u=Fi(y).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Wu(u.href);var b=Fi(y).hoistableStyles,S=b.get(a);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,S),(b=y.querySelector(oh(a)))&&!b._p&&(S.instance=b,S.state.loading=5),ri.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ri.set(a,u),b||tz(y,a,u,S.state))),o&&h===null)throw Error(r(528,""));return S}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qu(u),u=Fi(y).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Wu(a){return'href="'+fr(a)+'"'}function oh(a){return'link[rel="stylesheet"]['+a+"]"}function zI(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function tz(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),zn(o,"link",u),nn(o),a.head.appendChild(o))}function Qu(a){return'[src="'+fr(a)+'"]'}function lh(a){return"script[async]"+a}function BI(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+fr(u.href)+'"]');if(h)return o.instance=h,nn(h),h;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),nn(h),zn(h,"style",y),wp(h,u.precedence,a),o.instance=h;case"stylesheet":y=Wu(u.href);var b=a.querySelector(oh(y));if(b)return o.state.loading|=4,o.instance=b,nn(b),b;h=zI(u),(y=ri.get(y))&&Hb(h,y),b=(a.ownerDocument||a).createElement("link"),nn(b);var S=b;return S._p=new Promise(function(D,F){S.onload=D,S.onerror=F}),zn(b,"link",h),o.state.loading|=4,wp(b,u.precedence,a),o.instance=b;case"script":return b=Qu(u.src),(y=a.querySelector(lh(b)))?(o.instance=y,nn(y),y):(h=u,(y=ri.get(b))&&(h=p({},u),Kb(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),nn(y),zn(y,"link",h),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,wp(h,u.precedence,a));return o.instance}function wp(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,S=0;S<h.length;S++){var D=h[S];if(D.dataset.precedence===o)b=D;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Hb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Kb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Ep=null;function UI(a,o,u){if(Ep===null){var h=new Map,y=Ep=new Map;y.set(u,h)}else y=Ep,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[$i]||b[tn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(o)||"";S=a+S;var D=h.get(S);D?D.push(b):h.set(S,[b])}}return h}function $I(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function nz(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function qI(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function rz(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Wu(h.href),b=o.querySelector(oh(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=xp.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,nn(b);return}b=o.ownerDocument||o,h=zI(h),(y=ri.get(y))&&Hb(h,y),b=b.createElement("link"),nn(b);var S=b;S._p=new Promise(function(D,F){S.onload=D,S.onerror=F}),zn(b,"link",h),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=xp.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Gb=0;function iz(a,o){return a.stylesheets&&a.count===0&&Ap(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&Ap(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&Gb===0&&(Gb=62500*L9());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Ap(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>Gb?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function xp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ap(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Tp=null;function Ap(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Tp=new Map,o.forEach(az,a),Tp=null,xp.call(a))}function az(a,o){if(!(o.state.loading&4)){var u=Tp.get(a);if(u)var h=u.get(null);else{u=new Map,Tp.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var S=y[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),h=S)}h&&u.set(null,h)}y=o.instance,S=y.getAttribute("data-precedence"),b=u.get(S)||h,b===h&&u.set(null,y),u.set(S,y),this.count++,h=xp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var uh={$$typeof:P,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function sz(a,o,u,h,y,b,S,D,F){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function FI(a,o,u,h,y,b,S,D,F,ee,oe,ue){return a=new sz(a,o,u,S,F,ee,oe,ue,D),o=1,b===!0&&(o|=24),b=Ir(3,null,null,o),a.current=b,b.stateNode=a,o=S0(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:h,isDehydrated:u,cache:o},R0(b),a}function HI(a){return a?(a=Iu,a):Iu}function KI(a,o,u,h,y,b){y=HI(y),h.context===null?h.context=y:h.pendingContext=y,h=Ms(o),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=ks(a,h,o),u!==null&&(yr(u,a,o),Uf(u,a,o))}function GI(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Yb(a,o){GI(a,o),(a=a.alternate)&&GI(a,o)}function YI(a){if(a.tag===13||a.tag===31){var o=Zo(a,67108864);o!==null&&yr(o,a,67108864),Yb(a,67108864)}}function WI(a){if(a.tag===13||a.tag===31){var o=Nr();o=Bo(o);var u=Zo(a,o);u!==null&&yr(u,a,o),Yb(a,o)}}var Sp=!0;function oz(a,o,u,h){var y=Q.T;Q.T=null;var b=W.p;try{W.p=2,Wb(a,o,u,h)}finally{W.p=b,Q.T=y}}function lz(a,o,u,h){var y=Q.T;Q.T=null;var b=W.p;try{W.p=8,Wb(a,o,u,h)}finally{W.p=b,Q.T=y}}function Wb(a,o,u,h){if(Sp){var y=Qb(h);if(y===null)kb(a,o,h,Ip,u),XI(a,h);else if(cz(y,a,o,u,h))h.stopPropagation();else if(XI(a,h),o&4&&-1<uz.indexOf(a)){for(;y!==null;){var b=Kr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=Li(b.pendingLanes);if(S!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var F=1<<31-Yt(S);D.entanglements[1]|=F,S&=~F}ra(b),(ct&6)===0&&(up=nr()+500,rh(0))}}break;case 31:case 13:D=Zo(b,2),D!==null&&yr(D,b,2),fp(),Yb(b,2)}if(b=Qb(h),b===null&&kb(a,o,h,Ip,u),b===y)break;y=b}y!==null&&h.stopPropagation()}else kb(a,o,h,null,u)}}function Qb(a){return a=Gr(a),Xb(a)}var Ip=null;function Xb(a){if(Ip=null,a=qi(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Ip=a,null}function QI(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jo()){case hf:return 2;case df:return 8;case bs:case r0:return 32;case am:return 268435456;default:return 32}default:return 32}}var Zb=!1,Ks=null,Gs=null,Ys=null,ch=new Map,fh=new Map,Ws=[],uz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XI(a,o){switch(a){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":ch.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(o.pointerId)}}function hh(a,o,u,h,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Kr(o),o!==null&&YI(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function cz(a,o,u,h,y){switch(o){case"focusin":return Ks=hh(Ks,a,o,u,h,y),!0;case"dragenter":return Gs=hh(Gs,a,o,u,h,y),!0;case"mouseover":return Ys=hh(Ys,a,o,u,h,y),!0;case"pointerover":var b=y.pointerId;return ch.set(b,hh(ch.get(b)||null,a,o,u,h,y)),!0;case"gotpointercapture":return b=y.pointerId,fh.set(b,hh(fh.get(b)||null,a,o,u,h,y)),!0}return!1}function ZI(a){var o=qi(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,_i(a.priority,function(){WI(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,_i(a.priority,function(){WI(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Cp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Qb(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);Af=h,u.target.dispatchEvent(h),Af=null}else return o=Kr(u),o!==null&&YI(o),a.blockedOn=u,!1;o.shift()}return!0}function JI(a,o,u){Cp(a)&&u.delete(o)}function fz(){Zb=!1,Ks!==null&&Cp(Ks)&&(Ks=null),Gs!==null&&Cp(Gs)&&(Gs=null),Ys!==null&&Cp(Ys)&&(Ys=null),ch.forEach(JI),fh.forEach(JI)}function Op(a,o){a.blockedOn===o&&(a.blockedOn=null,Zb||(Zb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fz)))}var Rp=null;function eC(a){Rp!==a&&(Rp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rp===a&&(Rp=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],y=a[o+2];if(typeof h!="function"){if(Xb(h||u)===null)continue;break}var b=Kr(u);b!==null&&(a.splice(o,3),o-=3,Q0(b,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Xu(a){function o(F){return Op(F,a)}Ks!==null&&Op(Ks,a),Gs!==null&&Op(Gs,a),Ys!==null&&Op(Ys,a),ch.forEach(o),fh.forEach(o);for(var u=0;u<Ws.length;u++){var h=Ws[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Ws.length&&(u=Ws[0],u.blockedOn===null);)ZI(u),u.blockedOn===null&&Ws.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],b=u[h+1],S=y[Sn]||null;if(typeof b=="function")S||eC(u);else if(S){var D=null;if(b&&b.hasAttribute("formAction")){if(y=b,S=b[Sn]||null)D=S.formAction;else if(Xb(y)!==null)continue}else D=S.action;typeof D=="function"?u[h+1]=D:(u.splice(h,3),h-=3),eC(u)}}}function tC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(S){return y=S})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Jb(a){this._internalRoot=a}Pp.prototype.render=Jb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=Nr();KI(u,h,a,o,null,null)},Pp.prototype.unmount=Jb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;KI(a.current,2,null,a,null,null),fp(),o[Ui]=null}};function Pp(a){this._internalRoot=a}Pp.prototype.unstable_scheduleHydration=function(a){if(a){var o=fm();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ws.length&&o!==0&&o<Ws[u].priority;u++);Ws.splice(u,0,a),u===0&&ZI(a)}};var nC=e.version;if(nC!=="19.2.0")throw Error(r(527,nC,"19.2.0"));W.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var hz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Np.isDisabled&&Np.supportsFiber)try{vi=Np.inject(hz),Mn=Np}catch{}}return mh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",y=u2,b=c2,S=f2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=FI(a,1,!1,null,null,u,h,null,y,b,S,tC),a[Ui]=o.current,Mb(a),new Jb(o)},mh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,y="",b=u2,S=c2,D=f2,F=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(F=u.formState)),o=FI(a,1,!0,o,u??null,h,y,F,b,S,D,tC),o.context=HI(null),u=o.current,h=Nr(),h=Bo(h),y=Ms(h),y.callback=null,ks(u,y,h),u=h,o.current.lanes=u,Lo(o,u),ra(o),a[Ui]=o.current,Mb(a),new Pp(o)},mh.version="19.2.0",mh}var hC;function xz(){if(hC)return n_.exports;hC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),n_.exports=Ez(),n_.exports}var Tz=xz();const Az=va(Tz),Sz=()=>{};var dC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Iz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},vM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,_=d&63;f||(_=64,l||(v=64)),r.push(n[m],n[p],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Iz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||p==null)throw new Cz;const v=s<<2|c>>4;if(r.push(v),d!==64){const _=c<<4&240|d>>2;if(r.push(_),p!==64){const x=d<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oz=function(t){const e=yM(t);return vM.encodeByteArray(e,!0)},Sg=function(t){return Oz(t).replace(/\./g,"")},bM=function(t){try{return vM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=()=>_M().__FIREBASE_DEFAULTS__,Pz=()=>{if(typeof process>"u"||typeof dC>"u")return;const t=dC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bM(t[1]);return e&&JSON.parse(e)},By=()=>{try{return Sz()||Rz()||Pz()||Nz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wM=t=>By()?.emulatorHosts?.[t],Dz=t=>{const e=wM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},EM=()=>By()?.config,xM=t=>By()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sg(JSON.stringify(n)),Sg(JSON.stringify(l)),""].join(".")}const Vh={};function jz(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vh))Vh[e]?t.emulator.push(e):t.prod.push(e);return t}function Vz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mC=!1;function TM(t,e){if(typeof window>"u"||typeof document>"u"||!iu(window.location.host)||Vh[t]===e||Vh[t]||mC)return;Vh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=jz().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{mC=!0,l()},v}function m(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=Vz(r),_=n("text"),x=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),T=document.getElementById(E)||document.createElement("a"),O=n("preprendIcon"),M=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const P=v.element;c(P),m(T,E);const $=d();f(M,O),P.append(M,x,T,$),document.body.appendChild(P)}s?(x.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function AM(){const t=By()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Uz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $z(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SM(){return!AM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IM(){return!AM()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function CM(){try{return typeof indexedDB=="object"}catch{return!1}}function qz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="FirebaseError";class os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Fz,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_d.prototype.create)}}class _d{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?Hz(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new os(i,c,r)}}function Hz(t,e){return t.replace(Kz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Kz=/\{\$([^}]+)}/g;function Gz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(pC(s)&&pC(l)){if(!wo(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yz(t,e){const n=new Wz(t,e);return n.subscribe.bind(n)}class Wz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=s_),i.error===void 0&&(i.error=s_),i.complete===void 0&&(i.complete=s_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function s_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class zl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xz=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Mz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jz(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zz(t){return t===hl?void 0:t}function Jz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const tB={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},nB=et.INFO,rB={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},iB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class RE{constructor(e){this.name=e,this._logLevel=nB,this._logHandler=iB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const aB=(t,e)=>e.some(n=>t instanceof n);let gC,yC;function sB(){return gC||(gC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oB(){return yC||(yC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OM=new WeakMap,X1=new WeakMap,RM=new WeakMap,o_=new WeakMap,PE=new WeakMap;function lB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(fo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&OM.set(n,t)}).catch(()=>{}),PE.set(e,t),e}function uB(t){if(X1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});X1.set(t,e)}let Z1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return X1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cB(t){Z1=t(Z1)}function fB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(l_(this),e,...n);return RM.set(r,e.sort?e.sort():[e]),fo(r)}:oB().includes(t)?function(...e){return t.apply(l_(this),e),fo(OM.get(this))}:function(...e){return fo(t.apply(l_(this),e))}}function hB(t){return typeof t=="function"?fB(t):(t instanceof IDBTransaction&&uB(t),aB(t,sB())?new Proxy(t,Z1):t)}function fo(t){if(t instanceof IDBRequest)return lB(t);if(o_.has(t))return o_.get(t);const e=hB(t);return e!==t&&(o_.set(t,e),PE.set(e,t)),e}const l_=t=>PE.get(t);function dB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=fo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(fo(l.result),f.oldVersion,f.newVersion,fo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const mB=["get","getKey","getAll","getAllKeys","count"],pB=["put","add","delete","clear"],u_=new Map;function vC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(u_.get(e))return u_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mB.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return u_.set(e,s),s}cB(t=>({...t,get:(e,n,r)=>vC(e,n)||t.get(e,n,r),has:(e,n)=>!!vC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yB(t){return t.getComponent()?.type==="VERSION"}const J1="@firebase/app",bC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new RE("@firebase/app"),vB="@firebase/app-compat",bB="@firebase/analytics-compat",_B="@firebase/analytics",wB="@firebase/app-check-compat",EB="@firebase/app-check",xB="@firebase/auth",TB="@firebase/auth-compat",AB="@firebase/database",SB="@firebase/data-connect",IB="@firebase/database-compat",CB="@firebase/functions",OB="@firebase/functions-compat",RB="@firebase/installations",PB="@firebase/installations-compat",NB="@firebase/messaging",DB="@firebase/messaging-compat",MB="@firebase/performance",kB="@firebase/performance-compat",jB="@firebase/remote-config",VB="@firebase/remote-config-compat",LB="@firebase/storage",zB="@firebase/storage-compat",BB="@firebase/firestore",UB="@firebase/ai",$B="@firebase/firestore-compat",qB="firebase",FB="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="[DEFAULT]",HB={[J1]:"fire-core",[vB]:"fire-core-compat",[_B]:"fire-analytics",[bB]:"fire-analytics-compat",[EB]:"fire-app-check",[wB]:"fire-app-check-compat",[xB]:"fire-auth",[TB]:"fire-auth-compat",[AB]:"fire-rtdb",[SB]:"fire-data-connect",[IB]:"fire-rtdb-compat",[CB]:"fire-fn",[OB]:"fire-fn-compat",[RB]:"fire-iid",[PB]:"fire-iid-compat",[NB]:"fire-fcm",[DB]:"fire-fcm-compat",[MB]:"fire-perf",[kB]:"fire-perf-compat",[jB]:"fire-rc",[VB]:"fire-rc-compat",[LB]:"fire-gcs",[zB]:"fire-gcs-compat",[BB]:"fire-fst",[$B]:"fire-fst-compat",[UB]:"fire-vertex","fire-js":"fire-js",[qB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Map,KB=new Map,tw=new Map;function _C(t,e){try{t.container.addComponent(e)}catch(n){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bc(t){const e=t.name;if(tw.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;tw.set(e,t);for(const n of Ig.values())_C(n,t);for(const n of KB.values())_C(n,t);return!0}function Uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function li(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new _d("app","Firebase",GB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=FB;function PM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ew,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ho.create("bad-app-name",{appName:String(i)});if(n||(n=EM()),!n)throw ho.create("no-options");const s=Ig.get(i);if(s){if(wo(n,s.options)&&wo(r,s.config))return s;throw ho.create("duplicate-app",{appName:i})}const l=new eB(i);for(const f of tw.values())l.addComponent(f);const c=new YB(n,r,l);return Ig.set(i,c),c}function NM(t=ew){const e=Ig.get(t);if(!e&&t===ew&&EM())return PM();if(!e)throw ho.create("no-app",{appName:t});return e}function mo(t,e,n){let r=HB[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xa.warn(l.join(" "));return}bc(new zl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="firebase-heartbeat-database",QB=1,Yh="firebase-heartbeat-store";let c_=null;function DM(){return c_||(c_=dB(WB,QB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),c_}async function XB(t){try{const n=(await DM()).transaction(Yh),r=await n.objectStore(Yh).get(MM(t));return await n.done,r}catch(e){if(e instanceof os)Xa.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e?.message});Xa.warn(n.message)}}}async function wC(t,e){try{const r=(await DM()).transaction(Yh,"readwrite");await r.objectStore(Yh).put(e,MM(t)),await r.done}catch(n){if(n instanceof os)Xa.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n?.message});Xa.warn(r.message)}}}function MM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=1024,JB=30;class eU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=EC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>JB){const i=rU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=EC(),{heartbeatsToSend:n,unsentEntries:r}=tU(this._heartbeatsCache.heartbeats),i=Sg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Xa.warn(e),""}}}function EC(){return new Date().toISOString().substring(0,10)}function tU(t,e=ZB){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),xC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CM()?qz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xC(t){return Sg(JSON.stringify({version:2,heartbeats:t})).length}function rU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){bc(new zl("platform-logger",e=>new gB(e),"PRIVATE")),bc(new zl("heartbeat",e=>new eU(e),"PRIVATE")),mo(J1,bC,t),mo(J1,bC,"esm2020"),mo("fire-js","")}iU("");var TC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,kM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,N){function j(){}j.prototype=N.prototype,R.F=N.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(z,V,U){for(var k=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)k[ce-2]=arguments[ce];return N.prototype[V].apply(z,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,N,j){j||(j=0);const z=Array(16);if(typeof N=="string")for(var V=0;V<16;++V)z[V]=N.charCodeAt(j++)|N.charCodeAt(j++)<<8|N.charCodeAt(j++)<<16|N.charCodeAt(j++)<<24;else for(V=0;V<16;++V)z[V]=N[j++]|N[j++]<<8|N[j++]<<16|N[j++]<<24;N=R.g[0],j=R.g[1],V=R.g[2];let U=R.g[3],k;k=N+(U^j&(V^U))+z[0]+3614090360&4294967295,N=j+(k<<7&4294967295|k>>>25),k=U+(V^N&(j^V))+z[1]+3905402710&4294967295,U=N+(k<<12&4294967295|k>>>20),k=V+(j^U&(N^j))+z[2]+606105819&4294967295,V=U+(k<<17&4294967295|k>>>15),k=j+(N^V&(U^N))+z[3]+3250441966&4294967295,j=V+(k<<22&4294967295|k>>>10),k=N+(U^j&(V^U))+z[4]+4118548399&4294967295,N=j+(k<<7&4294967295|k>>>25),k=U+(V^N&(j^V))+z[5]+1200080426&4294967295,U=N+(k<<12&4294967295|k>>>20),k=V+(j^U&(N^j))+z[6]+2821735955&4294967295,V=U+(k<<17&4294967295|k>>>15),k=j+(N^V&(U^N))+z[7]+4249261313&4294967295,j=V+(k<<22&4294967295|k>>>10),k=N+(U^j&(V^U))+z[8]+1770035416&4294967295,N=j+(k<<7&4294967295|k>>>25),k=U+(V^N&(j^V))+z[9]+2336552879&4294967295,U=N+(k<<12&4294967295|k>>>20),k=V+(j^U&(N^j))+z[10]+4294925233&4294967295,V=U+(k<<17&4294967295|k>>>15),k=j+(N^V&(U^N))+z[11]+2304563134&4294967295,j=V+(k<<22&4294967295|k>>>10),k=N+(U^j&(V^U))+z[12]+1804603682&4294967295,N=j+(k<<7&4294967295|k>>>25),k=U+(V^N&(j^V))+z[13]+4254626195&4294967295,U=N+(k<<12&4294967295|k>>>20),k=V+(j^U&(N^j))+z[14]+2792965006&4294967295,V=U+(k<<17&4294967295|k>>>15),k=j+(N^V&(U^N))+z[15]+1236535329&4294967295,j=V+(k<<22&4294967295|k>>>10),k=N+(V^U&(j^V))+z[1]+4129170786&4294967295,N=j+(k<<5&4294967295|k>>>27),k=U+(j^V&(N^j))+z[6]+3225465664&4294967295,U=N+(k<<9&4294967295|k>>>23),k=V+(N^j&(U^N))+z[11]+643717713&4294967295,V=U+(k<<14&4294967295|k>>>18),k=j+(U^N&(V^U))+z[0]+3921069994&4294967295,j=V+(k<<20&4294967295|k>>>12),k=N+(V^U&(j^V))+z[5]+3593408605&4294967295,N=j+(k<<5&4294967295|k>>>27),k=U+(j^V&(N^j))+z[10]+38016083&4294967295,U=N+(k<<9&4294967295|k>>>23),k=V+(N^j&(U^N))+z[15]+3634488961&4294967295,V=U+(k<<14&4294967295|k>>>18),k=j+(U^N&(V^U))+z[4]+3889429448&4294967295,j=V+(k<<20&4294967295|k>>>12),k=N+(V^U&(j^V))+z[9]+568446438&4294967295,N=j+(k<<5&4294967295|k>>>27),k=U+(j^V&(N^j))+z[14]+3275163606&4294967295,U=N+(k<<9&4294967295|k>>>23),k=V+(N^j&(U^N))+z[3]+4107603335&4294967295,V=U+(k<<14&4294967295|k>>>18),k=j+(U^N&(V^U))+z[8]+1163531501&4294967295,j=V+(k<<20&4294967295|k>>>12),k=N+(V^U&(j^V))+z[13]+2850285829&4294967295,N=j+(k<<5&4294967295|k>>>27),k=U+(j^V&(N^j))+z[2]+4243563512&4294967295,U=N+(k<<9&4294967295|k>>>23),k=V+(N^j&(U^N))+z[7]+1735328473&4294967295,V=U+(k<<14&4294967295|k>>>18),k=j+(U^N&(V^U))+z[12]+2368359562&4294967295,j=V+(k<<20&4294967295|k>>>12),k=N+(j^V^U)+z[5]+4294588738&4294967295,N=j+(k<<4&4294967295|k>>>28),k=U+(N^j^V)+z[8]+2272392833&4294967295,U=N+(k<<11&4294967295|k>>>21),k=V+(U^N^j)+z[11]+1839030562&4294967295,V=U+(k<<16&4294967295|k>>>16),k=j+(V^U^N)+z[14]+4259657740&4294967295,j=V+(k<<23&4294967295|k>>>9),k=N+(j^V^U)+z[1]+2763975236&4294967295,N=j+(k<<4&4294967295|k>>>28),k=U+(N^j^V)+z[4]+1272893353&4294967295,U=N+(k<<11&4294967295|k>>>21),k=V+(U^N^j)+z[7]+4139469664&4294967295,V=U+(k<<16&4294967295|k>>>16),k=j+(V^U^N)+z[10]+3200236656&4294967295,j=V+(k<<23&4294967295|k>>>9),k=N+(j^V^U)+z[13]+681279174&4294967295,N=j+(k<<4&4294967295|k>>>28),k=U+(N^j^V)+z[0]+3936430074&4294967295,U=N+(k<<11&4294967295|k>>>21),k=V+(U^N^j)+z[3]+3572445317&4294967295,V=U+(k<<16&4294967295|k>>>16),k=j+(V^U^N)+z[6]+76029189&4294967295,j=V+(k<<23&4294967295|k>>>9),k=N+(j^V^U)+z[9]+3654602809&4294967295,N=j+(k<<4&4294967295|k>>>28),k=U+(N^j^V)+z[12]+3873151461&4294967295,U=N+(k<<11&4294967295|k>>>21),k=V+(U^N^j)+z[15]+530742520&4294967295,V=U+(k<<16&4294967295|k>>>16),k=j+(V^U^N)+z[2]+3299628645&4294967295,j=V+(k<<23&4294967295|k>>>9),k=N+(V^(j|~U))+z[0]+4096336452&4294967295,N=j+(k<<6&4294967295|k>>>26),k=U+(j^(N|~V))+z[7]+1126891415&4294967295,U=N+(k<<10&4294967295|k>>>22),k=V+(N^(U|~j))+z[14]+2878612391&4294967295,V=U+(k<<15&4294967295|k>>>17),k=j+(U^(V|~N))+z[5]+4237533241&4294967295,j=V+(k<<21&4294967295|k>>>11),k=N+(V^(j|~U))+z[12]+1700485571&4294967295,N=j+(k<<6&4294967295|k>>>26),k=U+(j^(N|~V))+z[3]+2399980690&4294967295,U=N+(k<<10&4294967295|k>>>22),k=V+(N^(U|~j))+z[10]+4293915773&4294967295,V=U+(k<<15&4294967295|k>>>17),k=j+(U^(V|~N))+z[1]+2240044497&4294967295,j=V+(k<<21&4294967295|k>>>11),k=N+(V^(j|~U))+z[8]+1873313359&4294967295,N=j+(k<<6&4294967295|k>>>26),k=U+(j^(N|~V))+z[15]+4264355552&4294967295,U=N+(k<<10&4294967295|k>>>22),k=V+(N^(U|~j))+z[6]+2734768916&4294967295,V=U+(k<<15&4294967295|k>>>17),k=j+(U^(V|~N))+z[13]+1309151649&4294967295,j=V+(k<<21&4294967295|k>>>11),k=N+(V^(j|~U))+z[4]+4149444226&4294967295,N=j+(k<<6&4294967295|k>>>26),k=U+(j^(N|~V))+z[11]+3174756917&4294967295,U=N+(k<<10&4294967295|k>>>22),k=V+(N^(U|~j))+z[2]+718787259&4294967295,V=U+(k<<15&4294967295|k>>>17),k=j+(U^(V|~N))+z[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,N){N===void 0&&(N=R.length);const j=N-this.blockSize,z=this.C;let V=this.h,U=0;for(;U<N;){if(V==0)for(;U<=j;)i(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<N;)if(z[V++]=R.charCodeAt(U++),V==this.blockSize){i(this,z),V=0;break}}else for(;U<N;)if(z[V++]=R[U++],V==this.blockSize){i(this,z),V=0;break}}this.h=V,this.o+=N},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;N=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=N&255,N/=256;for(this.v(R),R=Array(16),N=0,j=0;j<4;++j)for(let z=0;z<32;z+=8)R[N++]=this.g[j]>>>z&255;return R};function s(R,N){var j=c;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=N(R)}function l(R,N){this.h=N;const j=[];let z=!0;for(let V=R.length-1;V>=0;V--){const U=R[V]|0;z&&U==N||(j[V]=U,z=!1)}this.g=j}var c={};function f(R){return-128<=R&&R<128?s(R,function(N){return new l([N|0],N<0?-1:0)}):new l([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return T(d(-R));const N=[];let j=1;for(let z=0;R>=j;z++)N[z]=R/j|0,j*=4294967296;return new l(N,0)}function m(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return T(m(R.substring(1),N));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=d(Math.pow(N,8));let z=p;for(let U=0;U<R.length;U+=8){var V=Math.min(8,R.length-U);const k=parseInt(R.substring(U,U+V),N);V<8?(V=d(Math.pow(N,V)),z=z.j(V).add(d(k))):(z=z.j(j),z=z.add(d(k)))}return z}var p=f(0),v=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-T(this).m();let R=0,N=1;for(let j=0;j<this.g.length;j++){const z=this.i(j);R+=(z>=0?z:4294967296+z)*N,N*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(E(this))return"-"+T(this).toString(R);const N=d(Math.pow(R,6));var j=this;let z="";for(;;){const V=$(j,N).g;j=O(j,V.j(N));let U=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=V,x(j))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(let N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=O(this,R),E(R)?-1:x(R)?0:1};function T(R){const N=R.g.length,j=[];for(let z=0;z<N;z++)j[z]=~R.g[z];return new l(j,~R.h).add(v)}t.abs=function(){return E(this)?T(this):this},t.add=function(R){const N=Math.max(this.g.length,R.g.length),j=[];let z=0;for(let V=0;V<=N;V++){let U=z+(this.i(V)&65535)+(R.i(V)&65535),k=(U>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);z=k>>>16,U&=65535,k&=65535,j[V]=k<<16|U}return new l(j,j[j.length-1]&-2147483648?-1:0)};function O(R,N){return R.add(T(N))}t.j=function(R){if(x(this)||x(R))return p;if(E(this))return E(R)?T(this).j(T(R)):T(T(this).j(R));if(E(R))return T(this.j(T(R)));if(this.l(_)<0&&R.l(_)<0)return d(this.m()*R.m());const N=this.g.length+R.g.length,j=[];for(var z=0;z<2*N;z++)j[z]=0;for(z=0;z<this.g.length;z++)for(let V=0;V<R.g.length;V++){const U=this.i(z)>>>16,k=this.i(z)&65535,ce=R.i(V)>>>16,we=R.i(V)&65535;j[2*z+2*V]+=k*we,M(j,2*z+2*V),j[2*z+2*V+1]+=U*we,M(j,2*z+2*V+1),j[2*z+2*V+1]+=k*ce,M(j,2*z+2*V+1),j[2*z+2*V+2]+=U*ce,M(j,2*z+2*V+2)}for(R=0;R<N;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=N;R<2*N;R++)j[R]=0;return new l(j,0)};function M(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function P(R,N){this.g=R,this.h=N}function $(R,N){if(x(N))throw Error("division by zero");if(x(R))return new P(p,p);if(E(R))return N=$(T(R),N),new P(T(N.g),T(N.h));if(E(N))return N=$(R,T(N)),new P(T(N.g),N.h);if(R.g.length>30){if(E(R)||E(N))throw Error("slowDivide_ only works with positive integers.");for(var j=v,z=N;z.l(R)<=0;)j=B(j),z=B(z);var V=q(j,1),U=q(z,1);for(z=q(z,2),j=q(j,2);!x(z);){var k=U.add(z);k.l(R)<=0&&(V=V.add(j),U=k),z=q(z,1),j=q(j,1)}return N=O(R,V.j(N)),new P(V,N)}for(V=p;R.l(N)>=0;){for(j=Math.max(1,Math.floor(R.m()/N.m())),z=Math.ceil(Math.log(j)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=d(j),k=U.j(N);E(k)||k.l(R)>0;)j-=z,U=d(j),k=U.j(N);x(U)&&(U=v),V=V.add(U),R=O(R,k)}return new P(V,R)}t.B=function(R){return $(this,R).h},t.and=function(R){const N=Math.max(this.g.length,R.g.length),j=[];for(let z=0;z<N;z++)j[z]=this.i(z)&R.i(z);return new l(j,this.h&R.h)},t.or=function(R){const N=Math.max(this.g.length,R.g.length),j=[];for(let z=0;z<N;z++)j[z]=this.i(z)|R.i(z);return new l(j,this.h|R.h)},t.xor=function(R){const N=Math.max(this.g.length,R.g.length),j=[];for(let z=0;z<N;z++)j[z]=this.i(z)^R.i(z);return new l(j,this.h^R.h)};function B(R){const N=R.g.length+1,j=[];for(let z=0;z<N;z++)j[z]=R.i(z)<<1|R.i(z-1)>>>31;return new l(j,R.h)}function q(R,N){const j=N>>5;N%=32;const z=R.g.length-j,V=[];for(let U=0;U<z;U++)V[U]=N>0?R.i(U+j)>>>N|R.i(U+j+1)<<32-N:R.i(U+j);return new l(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,po=l}).apply(typeof TC<"u"?TC:typeof self<"u"?self:typeof window<"u"?window:{});var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jM,Ch,VM,ag,nw,LM,zM,BM;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dp=="object"&&Dp];for(var w=0;w<g.length;++w){var C=g[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(g,w){if(w)e:{var C=r;g=g.split(".");for(var L=0;L<g.length-1;L++){var Z=g[L];if(!(Z in C))break e;C=C[Z]}g=g[g.length-1],L=C[g],w=w(L),w!=L&&w!=null&&e(C,g,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(w){var C=[],L;for(L in w)Object.prototype.hasOwnProperty.call(w,L)&&C.push([L,w[L]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function f(g,w,C){return g.call.apply(g.bind,arguments)}function d(g,w,C){return d=f,d.apply(null,arguments)}function m(g,w){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),g.apply(this,L)}}function p(g,w){function C(){}C.prototype=w.prototype,g.Z=w.prototype,g.prototype=new C,g.prototype.constructor=g,g.Ob=function(L,Z,ie){for(var ve=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ve[qe-2]=arguments[qe];return w.prototype[Z].apply(L,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const w=g.length;if(w>0){const C=Array(w);for(let L=0;L<w;L++)C[L]=g[L];return C}return[]}function x(g,w){for(let L=1;L<arguments.length;L++){const Z=arguments[L];var C=typeof Z;if(C=C!="object"?C:Z?Array.isArray(Z)?"array":C:"null",C=="array"||C=="object"&&typeof Z.length=="number"){C=g.length||0;const ie=Z.length||0;g.length=C+ie;for(let ve=0;ve<ie;ve++)g[C+ve]=Z[ve]}else g.push(Z)}}class E{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(g){l.setTimeout(()=>{throw g},0)}function O(){var g=R;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class M{constructor(){this.h=this.g=null}add(w,C){const L=P.get();L.set(w,C),this.h?this.h.next=L:this.g=L,this.h=L}}var P=new E(()=>new $,g=>g.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let B,q=!1,R=new M,N=()=>{const g=Promise.resolve(void 0);B=()=>{g.then(j)}};function j(){for(var g;g=O();){try{g.h.call(g.g)}catch(C){T(C)}var w=P;w.j(g),w.h<100&&(w.h++,g.next=w.g,w.g=g)}q=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};l.addEventListener("test",C,w),l.removeEventListener("test",C,w)}catch{}return g})();function k(g){return/^[\s\xa0]*$/.test(g)}function ce(g,w){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,w)}p(ce,V),ce.prototype.init=function(g,w){const C=this.type=g.type,L=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget,w||(C=="mouseover"?w=g.fromElement:C=="mouseout"&&(w=g.toElement)),this.relatedTarget=w,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),Q=0;function W(g,w,C,L,Z){this.listener=g,this.proxy=null,this.src=w,this.type=C,this.capture=!!L,this.ha=Z,this.key=++Q,this.da=this.fa=!1}function fe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function me(g,w,C){for(const L in g)w.call(C,g[L],L,g)}function Se(g,w){for(const C in g)w.call(void 0,g[C],C,g)}function H(g){const w={};for(const C in g)w[C]=g[C];return w}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(g,w){let C,L;for(let Z=1;Z<arguments.length;Z++){L=arguments[Z];for(C in L)g[C]=L[C];for(let ie=0;ie<re.length;ie++)C=re[ie],Object.prototype.hasOwnProperty.call(L,C)&&(g[C]=L[C])}}function be(g){this.src=g,this.g={},this.h=0}be.prototype.add=function(g,w,C,L,Z){const ie=g.toString();g=this.g[ie],g||(g=this.g[ie]=[],this.h++);const ve=je(g,w,L,Z);return ve>-1?(w=g[ve],C||(w.fa=!1)):(w=new W(w,this.src,ie,!!L,Z),w.fa=C,g.push(w)),w};function xe(g,w){const C=w.type;if(C in g.g){var L=g.g[C],Z=Array.prototype.indexOf.call(L,w,void 0),ie;(ie=Z>=0)&&Array.prototype.splice.call(L,Z,1),ie&&(fe(w),g.g[C].length==0&&(delete g.g[C],g.h--))}}function je(g,w,C,L){for(let Z=0;Z<g.length;++Z){const ie=g[Z];if(!ie.da&&ie.listener==w&&ie.capture==!!C&&ie.ha==L)return Z}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),De={};function G(g,w,C,L,Z){if(Array.isArray(w)){for(let ie=0;ie<w.length;ie++)G(g,w[ie],C,L,Z);return null}return C=ys(C),g&&g[we]?g.J(w,C,c(L)?!!L.capture:!1,Z):Ee(g,w,C,!1,L,Z)}function Ee(g,w,C,L,Z,ie){if(!w)throw Error("Invalid event type");const ve=c(Z)?!!Z.capture:!!Z;let qe=Gt(g);if(qe||(g[ge]=qe=new be(g)),C=qe.add(w,C,L,ve,ie),C.proxy)return C;if(L=Ve(),C.proxy=L,L.src=g,L.listener=C,g.addEventListener)U||(Z=ve),Z===void 0&&(Z=!1),g.addEventListener(w.toString(),L,Z);else if(g.attachEvent)g.attachEvent(We(w.toString()),L);else if(g.addListener&&g.removeListener)g.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ve(){function g(C){return w.call(g.src,g.listener,C)}const w=pn;return g}function he(g,w,C,L,Z){if(Array.isArray(w))for(var ie=0;ie<w.length;ie++)he(g,w[ie],C,L,Z);else L=c(L)?!!L.capture:!!L,C=ys(C),g&&g[we]?(g=g.i,ie=String(w).toString(),ie in g.g&&(w=g.g[ie],C=je(w,C,L,Z),C>-1&&(fe(w[C]),Array.prototype.splice.call(w,C,1),w.length==0&&(delete g.g[ie],g.h--)))):g&&(g=Gt(g))&&(w=g.g[w.toString()],g=-1,w&&(g=je(w,C,L,Z)),(C=g>-1?w[g]:null)&&Kt(C))}function Kt(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[we])xe(w.i,g);else{var C=g.type,L=g.proxy;w.removeEventListener?w.removeEventListener(C,L,g.capture):w.detachEvent?w.detachEvent(We(C),L):w.addListener&&w.removeListener&&w.removeListener(L),(C=Gt(w))?(xe(C,g),C.h==0&&(C.src=null,w[ge]=null)):fe(g)}}}function We(g){return g in De?De[g]:De[g]="on"+g}function pn(g,w){if(g.da)g=!0;else{w=new ce(w,this);const C=g.listener,L=g.ha||g.src;g.fa&&Kt(g),g=C.call(L,w)}return g}function Gt(g){return g=g[ge],g instanceof be?g:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(g){return typeof g=="function"?g:(g[xr]||(g[xr]=function(w){return g.handleEvent(w)}),g[xr])}function Jt(){z.call(this),this.i=new be(this),this.M=this,this.G=null}p(Jt,z),Jt.prototype[we]=!0,Jt.prototype.removeEventListener=function(g,w,C,L){he(this,g,w,C,L)};function gn(g,w){var C,L=g.G;if(L)for(C=[];L;L=L.G)C.push(L);if(g=g.M,L=w.type||w,typeof w=="string")w=new V(w,g);else if(w instanceof V)w.target=w.target||g;else{var Z=w;w=new V(L,g),pe(w,Z)}Z=!0;let ie,ve;if(C)for(ve=C.length-1;ve>=0;ve--)ie=w.g=C[ve],Z=vs(ie,L,!0,w)&&Z;if(ie=w.g=g,Z=vs(ie,L,!0,w)&&Z,Z=vs(ie,L,!1,w)&&Z,C)for(ve=0;ve<C.length;ve++)ie=w.g=C[ve],Z=vs(ie,L,!1,w)&&Z}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var g=this.i;for(const w in g.g){const C=g.g[w];for(let L=0;L<C.length;L++)fe(C[L]);delete g.g[w],g.h--}}this.G=null},Jt.prototype.J=function(g,w,C,L){return this.i.add(String(g),w,!1,C,L)},Jt.prototype.K=function(g,w,C,L){return this.i.add(String(g),w,!0,C,L)};function vs(g,w,C,L){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();let Z=!0;for(let ie=0;ie<w.length;++ie){const ve=w[ie];if(ve&&!ve.da&&ve.capture==C){const qe=ve.listener,Wt=ve.ha||ve.src;ve.fa&&xe(g.i,ve),Z=qe.call(Wt,L)!==!1&&Z}}return Z&&!L.defaultPrevented}function n0(g,w){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(g,w||0)}function im(g){g.g=n0(()=>{g.g=null,g.i&&(g.i=!1,im(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class nr extends z{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:im(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jo(g){z.call(this),this.h=g,this.g={}}p(jo,z);var hf=[];function df(g){me(g.g,function(w,C){this.g.hasOwnProperty(C)&&Kt(w)},g),g.g={}}jo.prototype.N=function(){jo.Z.N.call(this),df(this)},jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=l.JSON.stringify,r0=l.JSON.parse,am=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function sm(){}function om(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mn(){V.call(this,"d")}p(Mn,V);function Hr(){V.call(this,"c")}p(Hr,V);var Yt={},lm=null;function fu(){return lm=lm||new Jt}Yt.Ia="serverreachability";function um(g){V.call(this,Yt.Ia,g)}p(um,V);function Vi(g){const w=fu();gn(w,new um(w))}Yt.STAT_EVENT="statevent";function Vo(g,w){V.call(this,Yt.STAT_EVENT,g),this.stat=w}p(Vo,V);function en(g){const w=fu();gn(w,new Vo(w,g))}Yt.Ja="timingevent";function Li(g,w){V.call(this,Yt.Ja,g),this.size=w}p(Li,V);function zi(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function i0(g,w,C,L,Z,ie){g.info(function(){if(g.g)if(ie){var ve="",qe=ie.split("&");for(let ut=0;ut<qe.length;ut++){var Wt=qe[ut].split("=");if(Wt.length>1){const Rt=Wt[0];Wt=Wt[1];const Wr=Rt.split("_");ve=Wr.length>=2&&Wr[1]=="type"?ve+(Rt+"="+Wt+"&"):ve+(Rt+"=redacted&")}}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+L+") [attempt "+Z+"]: "+w+`
`+C+`
`+ve})}function cm(g,w,C,L,Z,ie,ve){g.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Z+"]: "+w+`
`+C+`
`+ie+" "+ve})}function Bi(g,w,C,L){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+a0(g,C)+(L?" "+L:"")})}function Lo(g,w){g.info(function(){return"TIMEOUT: "+w})}bi.prototype.info=function(){};function a0(g,w){if(!g.g)return w;if(!w)return null;try{const ie=JSON.parse(w);if(ie){for(g=0;g<ie.length;g++)if(Array.isArray(ie[g])){var C=ie[g];if(!(C.length<2)){var L=C[1];if(Array.isArray(L)&&!(L.length<1)){var Z=L[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let ve=1;ve<L.length;ve++)L[ve]=""}}}}return bs(ie)}catch{return w}}var zo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pf;function Bo(){}p(Bo,sm),Bo.prototype.g=function(){return new XMLHttpRequest},pf=new Bo;function wa(g){return encodeURIComponent(String(g))}function fm(g){var w=1;g=g.split(":");const C=[];for(;w>0&&g.length;)C.push(g.shift()),w--;return g.length&&C.push(g.join(":")),C}function _i(g,w,C,L){this.j=g,this.i=w,this.l=C,this.S=L||1,this.V=new jo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var tn={},Sn={};function Ui(g,w,C){g.M=1,g.A=Uo(rn(w)),g.u=C,g.R=!0,hu(g,null)}function hu(g,w){g.F=Date.now(),$i(g),g.B=rn(g.A);var C=g.B,L=g.S;Array.isArray(L)||(L=[String(L)]),gu(C.i,"t",L),g.C=0,C=g.j.L,g.h=new wi,g.g=Sm(g.j,C?w:null,!g.u),g.P>0&&(g.O=new nr(d(g.Y,g,g.g),g.P)),w=g.V,C=g.g,L=g.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(hf[0]=Z.toString()),Z=hf);for(let ie=0;ie<Z.length;ie++){const ve=G(C,Z[ie],L||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,w)):(g.v="GET",g.g.ea(g.B,g.v,null,w)),Vi(),i0(g.i,g.v,g.B,g.l,g.S,g.u)}_i.prototype.ba=function(g){g=g.target;const w=this.O;w&&Ti(g)==3?w.j():this.Y(g)},_i.prototype.Y=function(g){try{if(g==this.g)e:{const qe=Ti(this.g),Wt=this.g.ya(),ut=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||kn(this.g)))){this.K||qe!=4||Wt==7||(Wt==8||ut<=0?Vi(3):Vi(2)),qi(this);var w=this.g.ca();this.X=w;var C=s0(this);if(this.o=w==200,cm(this.i,this.v,this.B,this.l,this.S,qe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var L,Z=this.g;if((L=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(L)){var ie=L;break t}}ie=null}if(g=ie)Bi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fi(this,g);else{this.o=!1,this.m=3,en(12),Tr(this),Kr(this);break e}}if(this.R){g=!0;let Rt;for(;!this.K&&this.C<C.length;)if(Rt=dm(this,C),Rt==Sn){qe==4&&(this.m=4,en(14),g=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==tn){this.m=4,en(15),Bi(this.i,this.l,C,"[Invalid Chunk]"),g=!1;break}else Bi(this.i,this.l,Rt,null),Fi(this,Rt);if(hm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||C.length!=0||this.h.h||(this.m=1,en(16),g=!1),this.o=this.o&&g,!g)Bi(this.i,this.l,C,"[Invalid Chunked Response]"),Tr(this),Kr(this);else if(C.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Rf(ve),ve.P=!0,en(11))}}else Bi(this.i,this.l,C,null),Fi(this,C);qe==4&&Tr(this),this.o&&!this.K&&(qe==4?Em(this.j,this):(this.o=!1,$i(this)))}else xa(this.g),w==400&&C.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),Tr(this),Kr(this)}}}catch{}finally{}};function s0(g){if(!hm(g))return g.g.la();const w=kn(g.g);if(w==="")return"";let C="";const L=w.length,Z=Ti(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Tr(g),Kr(g),"";g.h.i=new l.TextDecoder}for(let ie=0;ie<L;ie++)g.h.h=!0,C+=g.h.i.decode(w[ie],{stream:!(Z&&ie==L-1)});return w.length=0,g.h.g+=C,g.C=0,g.h.g}function hm(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function dm(g,w){var C=g.C,L=w.indexOf(`
`,C);return L==-1?Sn:(C=Number(w.substring(C,L)),isNaN(C)?tn:(L+=1,L+C>w.length?Sn:(w=w.slice(L,L+C),g.C=L+C,w)))}_i.prototype.cancel=function(){this.K=!0,Tr(this)};function $i(g){g.T=Date.now()+g.H,du(g,g.H)}function du(g,w){if(g.D!=null)throw Error("WatchDog timer not null");g.D=zi(d(g.aa,g),w)}function qi(g){g.D&&(l.clearTimeout(g.D),g.D=null)}_i.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Lo(this.i,this.B),this.M!=2&&(Vi(),en(17)),Tr(this),this.m=2,Kr(this)):du(this,this.T-g)};function Kr(g){g.j.I==0||g.K||Em(g.j,g)}function Tr(g){qi(g);var w=g.O;w&&typeof w.dispose=="function"&&w.dispose(),g.O=null,df(g.V),g.g&&(w=g.g,g.g=null,w.abort(),w.dispose())}function Fi(g,w){try{var C=g.j;if(C.I!=0&&(C.g==g||Ki(C.h,g))){if(!g.L&&Ki(C.h,g)&&C.I==3){try{var L=C.Ba.g.parse(w)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Z=L;if(Z[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<g.F)wu(C),Is(C);else break e;Yo(C),en(18)}}else C.xa=Z[1],0<C.xa-C.K&&Z[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=zi(d(C.Va,C),6e3));Hi(C.h)<=1&&C.ta&&(C.ta=void 0)}else Zi(C,11)}else if((g.L||C.g==g)&&wu(C),!k(w))for(Z=C.Ba.g.parse(w),w=0;w<Z.length;w++){let ut=Z[w];const Rt=ut[0];if(!(Rt<=C.K))if(C.K=Rt,ut=ut[1],C.I==2)if(ut[0]=="c"){C.M=ut[1],C.ba=ut[2];const Wr=ut[3];Wr!=null&&(C.ka=Wr,C.j.info("VER="+C.ka));const Ji=ut[4];Ji!=null&&(C.za=Ji,C.j.info("SVER="+C.za));const Ai=ut[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(L=1.5*Ai,C.O=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const Si=g.g;if(Si){const Wo=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var ie=L.h;ie.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(vf(ie,ie.h),ie.h=null))}if(L.G){const Eu=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;Eu&&(L.wa=Eu,ht(L.J,L.G,Eu))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-g.F,C.j.info("Handshake RTT: "+C.T+"ms")),L=C;var ve=g;if(L.na=Am(L,L.L?L.ba:null,L.W),ve.L){bf(L.h,ve);var qe=ve,Wt=L.O;Wt&&(qe.H=Wt),qe.D&&(qi(qe),$i(qe)),L.g=ve}else _m(L);C.i.length>0&&Xi(C)}else ut[0]!="stop"&&ut[0]!="close"||Zi(C,7);else C.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Zi(C,7):Cf(C):ut[0]!="noop"&&C.l&&C.l.qa(ut),C.A=0)}}Vi(4)}catch{}}var nn=class{constructor(g,w){this.g=g,this.map=w}};function gf(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yf(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Hi(g){return g.h?1:g.g?g.g.size:0}function Ki(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function vf(g,w){g.g?g.g.add(w):g.h=w}function bf(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}gf.prototype.cancel=function(){if(this.i=_f(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function _f(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const C of g.g.values())w=w.concat(C.G);return w}return _(g.i)}var mm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mu(g,w){if(g){g=g.split("&");for(let C=0;C<g.length;C++){const L=g[C].indexOf("=");let Z,ie=null;L>=0?(Z=g[C].substring(0,L),ie=g[C].substring(L+1)):Z=g[C],w(Z,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ar(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;g instanceof Ar?(this.l=g.l,In(this,g.j),this.o=g.o,this.g=g.g,_s(this,g.u),this.h=g.h,wf(this,vm(g.i)),this.m=g.m):g&&(w=String(g).match(mm))?(this.l=!1,In(this,w[1]||"",!0),this.o=Gi(w[2]||""),this.g=Gi(w[3]||"",!0),_s(this,w[4]),this.h=Gi(w[5]||"",!0),wf(this,w[6]||"",!0),this.m=Gi(w[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}Ar.prototype.toString=function(){const g=[];var w=this.j;w&&g.push($o(w,pu,!0),":");var C=this.g;return(C||w=="file")&&(g.push("//"),(w=this.o)&&g.push($o(w,pu,!0),"@"),g.push(wa(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&g.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push($o(C,C.charAt(0)=="/"?Ef:pm,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",$o(C,gm)),g.join("")},Ar.prototype.resolve=function(g){const w=rn(this);let C=!!g.j;C?In(w,g.j):C=!!g.o,C?w.o=g.o:C=!!g.g,C?w.g=g.g:C=g.u!=null;var L=g.h;if(C)_s(w,g.u);else if(C=!!g.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var Z=w.h.lastIndexOf("/");Z!=-1&&(L=w.h.slice(0,Z+1)+L)}if(Z=L,Z==".."||Z==".")L="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){L=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ie=[];for(let ve=0;ve<Z.length;){const qe=Z[ve++];qe=="."?L&&ve==Z.length&&ie.push(""):qe==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),L&&ve==Z.length&&ie.push("")):(ie.push(qe),L=!0)}L=ie.join("/")}else L=Z}return C?w.h=L:C=g.i.toString()!=="",C?wf(w,vm(g.i)):C=!!g.m,C&&(w.m=g.m),w};function rn(g){return new Ar(g)}function In(g,w,C){g.j=C?Gi(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function _s(g,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);g.u=w}else g.u=null}function wf(g,w,C){w instanceof Es?(g.i=w,yu(g.i,g.l)):(C||(w=$o(w,ws)),g.i=new Es(w,g.l))}function ht(g,w,C){g.i.set(w,C)}function Uo(g){return ht(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Gi(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function $o(g,w,C){return typeof g=="string"?(g=encodeURI(g).replace(w,fr),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function fr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var pu=/[#\/\?@]/g,pm=/[#\?:]/g,Ef=/[#\?]/g,ws=/[#\?@]/g,gm=/#/g;function Es(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function hr(g){g.g||(g.g=new Map,g.h=0,g.i&&mu(g.i,function(w,C){g.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}t=Es.prototype,t.add=function(g,w){hr(this),this.i=null,g=xs(this,g);let C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(w),this.h+=1,this};function ym(g,w){hr(g),w=xs(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function xf(g,w){return hr(g),w=xs(g,w),g.g.has(w)}t.forEach=function(g,w){hr(this),this.g.forEach(function(C,L){C.forEach(function(Z){g.call(w,Z,L,this)},this)},this)};function Tf(g,w){hr(g);let C=[];if(typeof w=="string")xf(g,w)&&(C=C.concat(g.g.get(xs(g,w))));else for(g=Array.from(g.g.values()),w=0;w<g.length;w++)C=C.concat(g[w]);return C}t.set=function(g,w){return hr(this),this.i=null,g=xs(this,g),xf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=Tf(this,g),g.length>0?String(g[0]):w):w};function gu(g,w,C){ym(g,w),C.length>0&&(g.i=null,g.g.set(xs(g,w),_(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(let L=0;L<w.length;L++){var C=w[L];const Z=wa(C);C=Tf(this,C);for(let ie=0;ie<C.length;ie++){let ve=Z;C[ie]!==""&&(ve+="="+wa(C[ie])),g.push(ve)}}return this.i=g.join("&")};function vm(g){const w=new Es;return w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),w}function xs(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function yu(g,w){w&&!g.j&&(hr(g),g.i=null,g.g.forEach(function(C,L){const Z=L.toLowerCase();L!=Z&&(ym(this,L),gu(this,Z,C))},g)),g.j=w}function Ei(g,w){const C=new bi;if(l.Image){const L=new Image;L.onload=m(Gr,C,"TestLoadImage: loaded",!0,w,L),L.onerror=m(Gr,C,"TestLoadImage: error",!1,w,L),L.onabort=m(Gr,C,"TestLoadImage: abort",!1,w,L),L.ontimeout=m(Gr,C,"TestLoadImage: timeout",!1,w,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=g}else w(!1)}function Af(g,w){const C=new bi,L=new AbortController,Z=setTimeout(()=>{L.abort(),Gr(C,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:L.signal}).then(ie=>{clearTimeout(Z),ie.ok?Gr(C,"TestPingServer: ok",!0,w):Gr(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Z),Gr(C,"TestPingServer: error",!1,w)})}function Gr(g,w,C,L,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),L(C)}catch{}}function Ts(){this.g=new am}function Yi(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Yi,sm),Yi.prototype.g=function(){return new qo(this.i,this.h)};function qo(g,w){Jt.call(this),this.H=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(qo,Jt),t=qo.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=w,this.readyState=1,xi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(w.body=g),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vu(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function vu(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?As(this):xi(this),this.readyState==3&&vu(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,As(this))},t.Na=function(g){this.g&&(this.response=g,As(this))},t.ga=function(){this.g&&As(this)};function As(g){g.readyState=4,g.l=null,g.j=null,g.B=null,xi(g)}t.setRequestHeader=function(g,w){this.A.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=w.next();return g.join(`\r
`)};function xi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Yr(g){let w="";return me(g,function(C,L){w+=L,w+=":",w+=C,w+=`\r
`}),w}function Fo(g,w,C){e:{for(L in C){var L=!1;break e}L=!0}L||(C=Yr(C),typeof g=="string"?C!=null&&wa(C):ht(g,w,C))}function vt(g){Jt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(vt,Jt);var Wi=/^https?$/i,Sf=["POST","PUT"];t=vt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,w,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pf.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ie){Ho(this,ie);return}if(g=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Z in L)C.set(Z,L[Z]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ie of L.keys())C.set(ie,L.get(ie));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Sf,w,void 0)>=0)||L||Z||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of C)this.g.setRequestHeader(ie,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ie){Ho(this,ie)}};function Ho(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.o=5,If(g),Ea(g)}function If(g){g.A||(g.A=!0,gn(g,"complete"),gn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,gn(this,"complete"),gn(this,"abort"),Ea(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ko(this):this.Xa())},t.Xa=function(){Ko(this)};function Ko(g){if(g.h&&typeof s<"u"){if(g.v&&Ti(g)==4)setTimeout(g.Ca.bind(g),0);else if(gn(g,"readystatechange"),Ti(g)==4){g.h=!1;try{const ie=g.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var L;if(L=ie===0){let ve=String(g.D).match(mm)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),L=!Wi.test(ve?ve.toLowerCase():"")}C=L}if(C)gn(g,"complete"),gn(g,"success");else{g.o=6;try{var Z=Ti(g)>2?g.g.statusText:""}catch{Z=""}g.l=Z+" ["+g.ca()+"]",If(g)}}finally{Ea(g)}}}}function Ea(g,w){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const C=g.g;g.g=null,w||gn(g,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ti(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),r0(w)}};function kn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function xa(g){const w={};g=(g.g&&Ti(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<g.length;L++){if(k(g[L]))continue;var C=fm(g[L]);const Z=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ie=w[Z]||[];w[Z]=ie,ie.push(C)}Se(w,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(g,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||w}function Ss(g){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,g),this.Za=Qi("retryDelaySeedMs",1e4,g),this.Ta=Qi("forwardChannelMaxRetries",2,g),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new gf(g&&g.concurrentRequestLimit),this.Ba=new Ts,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ss.prototype,t.ka=8,t.I=1,t.connect=function(g,w,C,L){en(0),this.W=g,this.H=w||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.J=Am(this,null,this.W),Xi(this)};function Cf(g){if(bu(g),g.I==3){var w=g.V++,C=rn(g.J);if(ht(C,"SID",g.M),ht(C,"RID",w),ht(C,"TYPE","terminate"),Go(g,C),w=new _i(g,g.j,w),w.M=2,w.A=Uo(rn(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=w.A,C=!0),C||(w.g=Sm(w.j,null),w.g.ea(w.A)),w.F=Date.now(),$i(w)}Tm(g)}function Is(g){g.g&&(Rf(g),g.g.cancel(),g.g=null)}function bu(g){Is(g),g.v&&(l.clearTimeout(g.v),g.v=null),wu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Xi(g){if(!yf(g.h)&&!g.m){g.m=!0;var w=g.Ea;B||N(),q||(B(),q=!0),R.add(w,g),g.D=0}}function _u(g,w){return Hi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=w.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=zi(d(g.Ea,g,w),xm(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Z=new _i(this,this.j,g);let ie=this.o;if(this.U&&(ie?(ie=H(ie),pe(ie,this.U)):ie=this.U),this.u!==null||this.R||(Z.J=ie,ie=null),this.S)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(w+=L,w>4096){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=bm(this,Z,w),C=rn(this.J),ht(C,"RID",g),ht(C,"CVER",22),this.G&&ht(C,"X-HTTP-Session-Id",this.G),Go(this,C),ie&&(this.R?w="headers="+wa(Yr(ie))+"&"+w:this.u&&Fo(C,this.u,ie)),vf(this.h,Z),this.Ra&&ht(C,"TYPE","init"),this.S?(ht(C,"$req",w),ht(C,"SID","null"),Z.U=!0,Ui(Z,C,null)):Ui(Z,C,w),this.I=2}}else this.I==3&&(g?Of(this,g):this.i.length==0||yf(this.h)||Of(this))};function Of(g,w){var C;w?C=w.l:C=g.V++;const L=rn(g.J);ht(L,"SID",g.M),ht(L,"RID",C),ht(L,"AID",g.K),Go(g,L),g.u&&g.o&&Fo(L,g.u,g.o),C=new _i(g,g.j,C,g.D+1),g.u===null&&(C.J=g.o),w&&(g.i=w.G.concat(g.i)),w=bm(g,C,1e3),C.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),vf(g.h,C),Ui(C,L,w)}function Go(g,w){g.H&&me(g.H,function(C,L){ht(w,L,C)}),g.l&&me({},function(C,L){ht(w,L,C)})}function bm(g,w,C){C=Math.min(g.i.length,C);const L=g.l?d(g.l.Ka,g.l,g):null;e:{var Z=g.i;let qe=-1;for(;;){const Wt=["count="+C];qe==-1?C>0?(qe=Z[0].g,Wt.push("ofs="+qe)):qe=0:Wt.push("ofs="+qe);let ut=!0;for(let Rt=0;Rt<C;Rt++){var ie=Z[Rt].g;const Wr=Z[Rt].map;if(ie-=qe,ie<0)qe=Math.max(0,Z[Rt].g-100),ut=!1;else try{ie="req"+ie+"_"||"";try{var ve=Wr instanceof Map?Wr:Object.entries(Wr);for(const[Ji,Ai]of ve){let Si=Ai;c(Ai)&&(Si=bs(Ai)),Wt.push(ie+Ji+"="+encodeURIComponent(Si))}}catch(Ji){throw Wt.push(ie+"type="+encodeURIComponent("_badmap")),Ji}}catch{L&&L(Wr)}}if(ut){ve=Wt.join("&");break e}}ve=void 0}return g=g.i.splice(0,C),w.G=g,ve}function _m(g){if(!g.g&&!g.v){g.Y=1;var w=g.Da;B||N(),q||(B(),q=!0),R.add(w,g),g.A=0}}function Yo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=zi(d(g.Da,g),xm(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,wm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=zi(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),Is(this),wm(this))};function Rf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function wm(g){g.g=new _i(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var w=rn(g.na);ht(w,"RID","rpc"),ht(w,"SID",g.M),ht(w,"AID",g.K),ht(w,"CI",g.F?"0":"1"),!g.F&&g.ia&&ht(w,"TO",g.ia),ht(w,"TYPE","xmlhttp"),Go(g,w),g.u&&g.o&&Fo(w,g.u,g.o),g.O&&(g.g.H=g.O);var C=g.g;g=g.ba,C.M=1,C.A=Uo(rn(w)),C.u=null,C.R=!0,hu(C,g)}t.Va=function(){this.C!=null&&(this.C=null,Is(this),Yo(this),en(19))};function wu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Em(g,w){var C=null;if(g.g==w){wu(g),Rf(g),g.g=null;var L=2}else if(Ki(g.h,w))C=w.G,bf(g.h,w),L=1;else return;if(g.I!=0){if(w.o)if(L==1){C=w.u?w.u.length:0,w=Date.now()-w.F;var Z=g.D;L=fu(),gn(L,new Li(L,C)),Xi(g)}else _m(g);else if(Z=w.m,Z==3||Z==0&&w.X>0||!(L==1&&_u(g,w)||L==2&&Yo(g)))switch(C&&C.length>0&&(w=g.h,w.i=w.i.concat(C)),Z){case 1:Zi(g,5);break;case 4:Zi(g,10);break;case 3:Zi(g,6);break;default:Zi(g,2)}}}function xm(g,w){let C=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(C*=2),C*w}function Zi(g,w){if(g.j.info("Error code "+w),w==2){var C=d(g.bb,g),L=g.Ua;const Z=!L;L=new Ar(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||In(L,"https"),Uo(L),Z?Ei(L.toString(),C):Af(L.toString(),C)}else en(2);g.I=0,g.l&&g.l.pa(w),Tm(g),bu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function Tm(g){if(g.I=0,g.ja=[],g.l){const w=_f(g.h);(w.length!=0||g.i.length!=0)&&(x(g.ja,w),x(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Am(g,w,C){var L=C instanceof Ar?rn(C):new Ar(C);if(L.g!="")w&&(L.g=w+"."+L.g),_s(L,L.u);else{var Z=l.location;L=Z.protocol,w=w?w+"."+Z.hostname:Z.hostname,Z=+Z.port;const ie=new Ar(null);L&&In(ie,L),w&&(ie.g=w),Z&&_s(ie,Z),C&&(ie.h=C),L=ie}return C=g.G,w=g.wa,C&&w&&ht(L,C,w),ht(L,"VER",g.ka),Go(g,L),L}function Sm(g,w,C){if(w&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Aa&&!g.ma?new vt(new Yi({ab:C})):new vt(g.ma),w.Fa(g.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Im(){}t=Im.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Cs(){}Cs.prototype.g=function(g,w){return new rr(g,w)};function rr(g,w){Jt.call(this),this.g=new Ss(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(g?g["X-WebChannel-Client-Profile"]=w.sa:g={"X-WebChannel-Client-Profile":w.sa}),this.g.U=g,(g=w&&w.Qb)&&!k(g)&&(this.g.u=g),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!k(w)&&(this.g.G=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Ta(this)}p(rr,Jt),rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Cf(this.g)},rr.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.v&&(C={},C.__data__=bs(g),g=C);w.i.push(new nn(w.Ya++,g)),w.I==3&&Xi(w)},rr.prototype.N=function(){this.g.l=null,delete this.j,Cf(this.g),delete this.g,rr.Z.N.call(this)};function Cm(g){Mn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const C in w){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}p(Cm,Mn);function Om(){Hr.call(this),this.status=1}p(Om,Hr);function Ta(g){this.g=g}p(Ta,Im),Ta.prototype.ra=function(){gn(this.g,"a")},Ta.prototype.qa=function(g){gn(this.g,new Cm(g))},Ta.prototype.pa=function(g){gn(this.g,new Om)},Ta.prototype.oa=function(){gn(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,BM=function(){return new Cs},zM=function(){return fu()},LM=Yt,nw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zo.NO_ERROR=0,zo.TIMEOUT=8,zo.HTTP_ERROR=6,ag=zo,mf.COMPLETE="complete",VM=mf,om.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,Ch=om,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,jM=vt}).apply(typeof Dp<"u"?Dp:typeof self<"u"?self:typeof window<"u"?window:{});const AC="@firebase/firestore",SC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new RE("@firebase/firestore");function oc(){return Bl.logLevel}function de(t,...e){if(Bl.logLevel<=et.DEBUG){const n=e.map(NE);Bl.debug(`Firestore (${Wc}): ${t}`,...n)}}function or(t,...e){if(Bl.logLevel<=et.ERROR){const n=e.map(NE);Bl.error(`Firestore (${Wc}): ${t}`,...n)}}function _c(t,...e){if(Bl.logLevel<=et.WARN){const n=e.map(NE);Bl.warn(`Firestore (${Wc}): ${t}`,...n)}}function NE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UM(t,r,n)}function UM(t,e,n){let r=`FIRESTORE (${Wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw or(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||UM(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Un.UNAUTHENTICATED)))}shutdown(){}}class sU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oU{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ua,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ua)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new $M(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class lU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=s=>{s.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=fU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function rw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return f_(i)===f_(s)?Be(i,s):f_(i)?1:-1}return Be(t.length,e.length)}const hU=55296,dU=57343;function f_(t){const e=t.charCodeAt(0);return e>=hU&&e<=dU}function wc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function qM(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__name__";class ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ia.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Be(e.length,n.length)}static compareSegments(e,n){const r=ia.isNumericId(e),i=ia.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ia.extractNumericId(e).compare(ia.extractNumericId(n)):rw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class ft extends ia{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const mU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends ia{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return mU.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CC}static keyField(){return new Vt([CC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pU(t,e,n,r){if(e===!0&&r===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OC(t){if(!_e.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RC(t){if(_e.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $y(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$y(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gU(t,e){if(e<=0)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ed(t,e){if(!HM(t))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ye(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=-62135596800,NC=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*NC);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PC)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NC}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ed(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:cn("string",Ke._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ke(0,0))}static max(){return new Me(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=-1;class Cg{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function iw(t){return t.fields.find((e=>e.kind===2))}function dl(t){return t.fields.filter((e=>e.kind!==2))}Cg.UNKNOWN_ID=-1;class sg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qh(0,Ur.min())}}function yU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Ur(i,_e.empty(),e)}function KM(t){return new Ur(t.readTime,t.key,Wh)}class Ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(Me.min(),_e.empty(),Wh)}static max(){return new Ur(Me.max(),_e.empty(),Wh)}}function ME(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==GM)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,r)=>{n(e)}))}static reject(e){return new X(((n,r)=>{r(e)}))}static waitFor(e){return new X(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next((i=>i?X.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new X(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;n(e[d]).next((m=>{l[d]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new X(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="SimpleDb";class qy{static open(e,n,r,i){try{return new qy(n,e.transaction(i,r))}catch(s){throw new Lh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ua,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Lh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=kE(r.target.error);this.S.reject(new Lh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(kr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new bU(n)}}class go{static delete(e){return de(kr,"Removing database:",e),vl(_M().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!CM())return!1;if(go.F())return!0;const e=_n(),n=go.M(e),r=0<n&&n<10,i=WM(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,go.M(_n())===12.2&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(kr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new Lh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ye(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ye(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Lh(e,l))},i.onupgradeneeded=s=>{de(kr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{de(kr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=qy.open(this.db,e,s?"readonly":"readwrite",r),f=i(c).next((d=>(c.C(),d))).catch((d=>(c.abort(d),X.reject(d)))).toPromise();return f.catch((()=>{})),await c.D,f}catch(c){const f=c,d=f.name!=="FirebaseError"&&l<3;if(de(kr,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function WM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class vU{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return vl(this.U.delete())}}class Lh extends ye{constructor(e,n){super(se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ro(t){return t.name==="IndexedDbTransactionError"}class bU{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(de(kr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(de(kr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vl(r)}add(e){return de(kr,"ADD",this.store.name,e,e),vl(this.store.add(e))}get(e){return vl(this.store.get(e)).next((n=>(n===void 0&&(n=null),de(kr,"GET",this.store.name,e,n),n)))}delete(e){return de(kr,"DELETE",this.store.name,e),vl(this.store.delete(e))}count(){return de(kr,"COUNT",this.store.name),vl(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new X(((l,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{l(f.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,f)=>{l.push(f)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new X(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){de(kr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new X(((r,i)=>{n.onerror=s=>{const l=kE(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new X(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const f=new vU(c),d=n(c.primaryKey,c.value,f);if(d instanceof X){const m=d.catch((p=>(f.done(),X.reject(p))));r.push(m)}f.isDone?i():f.G===null?c.continue():c.continue(f.G)}})).next((()=>X.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function vl(t){return new X(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=kE(r.target.error);n(i)}}))}let DC=!1;function kE(t){const e=go.M(_n());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DC||(DC=!0,setTimeout((()=>{throw r}),0)),r}}return t}const zh="IndexBackfiller";class _U{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(zh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();de(zh,`Documents written: ${n}`)}catch(n){Ro(n)?de(zh,"Ignoring IndexedDB error during index backfill: ",n):await au(n)}await this.re(6e4)}))}}class wU{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return X.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return de(zh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(de(zh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=KM(s);ME(l,r)>0&&(r=l)})),new Ur(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ci.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function Fy(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function EU(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="";function Jn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MC(e)),e=xU(t.get(n),e);return MC(e)}function xU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Og:n+="";break;default:n+=s}}return n}function MC(t){return t+Og+""}function aa(t){const e=t.length;if(Oe(e>=2,64408,{path:t}),e===2)return Oe(t.charAt(0)===Og&&t.charAt(1)==="",56145,{path:t}),ft.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(Og,s);switch((l<0||l>n)&&Ie(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let f;i.length===0?f=c:(i+=c,f=i,i=""),r.push(f);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:Ie(61167,{path:t})}s=l+2}return new ft(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="remoteDocuments",xd="owner",Zu="owner",Zh="mutationQueues",TU="userId",Ri="mutations",kC="batchId",El="userMutationsIndex",jC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){return[t,Jn(e)]}function QM(t,e,n){return[t,Jn(e),n]}const AU={},Ec="documentMutations",Rg="remoteDocumentsV14",SU=["prefixPath","collectionGroup","readTime","documentId"],lg="documentKeyIndex",IU=["prefixPath","collectionGroup","documentId"],XM="collectionGroupIndex",CU=["collectionGroup","readTime","prefixPath","documentId"],Jh="remoteDocumentGlobal",aw="remoteDocumentGlobalKey",xc="targets",ZM="queryTargetsIndex",OU=["canonicalId","targetId"],Tc="targetDocuments",RU=["targetId","path"],jE="documentTargetsIndex",PU=["path","targetId"],Pg="targetGlobalKey",Ol="targetGlobal",ed="collectionParents",NU=["collectionId","parent"],Ac="clientMetadata",DU="clientId",Hy="bundles",MU="bundleId",Ky="namedQueries",kU="name",VE="indexConfiguration",jU="indexId",sw="collectionGroupIndex",VU="collectionGroup",Bh="indexState",LU=["indexId","uid"],JM="sequenceNumberIndex",zU=["uid","sequenceNumber"],Uh="indexEntries",BU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ek="documentKeyIndex",UU=["indexId","uid","orderedDocumentKey"],Gy="documentOverlays",$U=["userId","collectionPath","documentId"],ow="collectionPathOverlayIndex",qU=["userId","collectionPath","largestBatchId"],tk="collectionGroupOverlayIndex",FU=["userId","collectionGroup","largestBatchId"],LE="globals",HU="name",nk=[Zh,Ri,Ec,ml,xc,xd,Ol,Tc,Ac,Jh,ed,Hy,Ky],KU=[...nk,Gy],rk=[Zh,Ri,Ec,Rg,xc,xd,Ol,Tc,Ac,Jh,ed,Hy,Ky,Gy],ik=rk,zE=[...ik,VE,Bh,Uh],GU=zE,ak=[...zE,LE],YU=ak;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends YM{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function wn(t,e){const n=Ue(t);return go.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mp(this.root,e,this.comparator,!0)}}class Mp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$n.RED,this.left=i??$n.EMPTY,this.right=s??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $n(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LC(this.data.getIterator())}getIteratorFrom(e){return new LC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class LC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ju(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new br([])}unionWith(e){let n=new yt(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ok("Invalid base64 string: "+s):s}})(e);return new mn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const WU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=WU.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ja(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="server_timestamp",uk="__type__",ck="__previous_value__",fk="__local_write_time__";function BE(t){return(t?.mapValue?.fields||{})[uk]?.stringValue===lk}function Yy(t){const e=t.mapValue.fields[ck];return BE(e)?Yy(e):e}function td(t){const e=Za(t.mapValue.fields[fk].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n,r,i,s,l,c,f,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const nd="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||nd}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===nd}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__type__",hk="__max__",uo={mapValue:{fields:{__type__:{stringValue:hk}}}},$E="__vector__",Sc="value",ug={nullValue:"NULL_VALUE"};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?BE(t)?4:dk(t)?9007199254740991:Wy(t)?10:11:Ie(28295,{value:t})}function ma(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return td(t).isEqual(td(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Za(i.timestampValue),c=Za(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Ja(i.bytesValue).isEqual(Ja(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Nt(i.geoPointValue.latitude)===Nt(s.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Nt(i.integerValue)===Nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Nt(i.doubleValue),c=Nt(s.doubleValue);return l===c?Xh(l)===Xh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return wc(t.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(VC(l)!==VC(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ma(l[f],c[f])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function rd(t,e){return(t.values||[]).find((n=>ma(n,e)))!==void 0}function xo(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Nt(s.integerValue||s.doubleValue),f=Nt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return zC(t.timestampValue,e.timestampValue);case 4:return zC(td(t),td(e));case 5:return rw(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Ja(s),f=Ja(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const m=Be(c[d],f[d]);if(m!==0)return m}return Be(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Be(Nt(s.latitude),Nt(l.latitude));return c!==0?c:Be(Nt(s.longitude),Nt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return BC(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},f=l.fields||{},d=c[Sc]?.arrayValue,m=f[Sc]?.arrayValue,p=Be(d?.values?.length||0,m?.values?.length||0);return p!==0?p:BC(d,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===uo.mapValue&&l===uo.mapValue)return 0;if(s===uo.mapValue)return 1;if(l===uo.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=l.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let p=0;p<f.length&&p<m.length;++p){const v=rw(f[p],m[p]);if(v!==0)return v;const _=xo(c[f[p]],d[m[p]]);if(_!==0)return _}return Be(f.length,m.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function zC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Za(t),r=Za(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function BC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=xo(n[i],r[i]);if(s)return s}return Be(n.length,r.length)}function Ic(t){return uw(t)}function uw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Za(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ja(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=uw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${uw(n.fields[l])}`;return i+"}"})(t.mapValue):Ie(61005,{value:t})}function cg(t){switch(Eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yy(t);return e?16+cg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ja(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+cg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Po(r.fields,((s,l)=>{i+=s.length+cg(l)})),i})(t.mapValue);default:throw Ie(13486,{value:t})}}function id(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cw(t){return!!t&&"integerValue"in t}function ad(t){return!!t&&"arrayValue"in t}function UC(t){return!!t&&"nullValue"in t}function $C(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fg(t){return!!t&&"mapValue"in t}function Wy(t){return(t?.mapValue?.fields||{})[UE]?.stringValue===$E}function $h(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=$h(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$h(t.arrayValue.values[n]);return e}return{...t}}function dk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hk}const mk={mapValue:{fields:{[UE]:{stringValue:$E},[Sc]:{arrayValue:{}}}}};function XU(t){return"nullValue"in t?ug:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?id(Ul.empty(),_e.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Wy(t)?mk:{mapValue:{}}:Ie(35942,{value:t})}function ZU(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?id(Ul.empty(),_e.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?mk:"mapValue"in t?Wy(t)?{mapValue:{}}:uo:Ie(61959,{value:t})}function qC(t,e){const n=xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function FC(t,e){const n=xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=$h(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Po(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Zn($h(this.value))}}function pk(t){const e=[];return Po(t.fields,((n,r)=>{const i=new Vt([n]);if(fg(r)){const s=pk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new qt(e,0,Me.min(),Me.min(),Me.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,i){return new qt(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new qt(e,2,n,Me.min(),Me.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,Me.min(),Me.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.position=e,this.inclusive=n}}function HC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=xo(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function KC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ma(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function JU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{}class tt extends gk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new e8(e,n,r):n==="array-contains"?new r8(e,r):n==="in"?new Ek(e,r):n==="not-in"?new i8(e,r):n==="array-contains-any"?new a8(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new t8(e,r):new n8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gt extends gk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gt(e,n)}matches(e){return Oc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Oc(t){return t.op==="and"}function fw(t){return t.op==="or"}function qE(t){return yk(t)&&Oc(t)}function yk(t){for(const e of t.filters)if(e instanceof gt)return!1;return!0}function hw(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Ic(t.value);if(qE(t))return t.filters.map((e=>hw(e))).join(",");{const e=t.filters.map((n=>hw(n))).join(",");return`${t.op}(${e})`}}function vk(t,e){return t instanceof tt?(function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&ma(r.value,i.value)})(t,e):t instanceof gt?(function(r,i){return i instanceof gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&vk(l,i.filters[c])),!0):!1})(t,e):void Ie(19439)}function bk(t,e){const n=t.filters.concat(e);return gt.create(n,t.op)}function _k(t){return t instanceof tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ic(n.value)}`})(t):t instanceof gt?(function(n){return n.op.toString()+" {"+n.getFilters().map(_k).join(" ,")+"}"})(t):"Filter"}class e8 extends tt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class t8 extends tt{constructor(e,n){super(e,"in",n),this.keys=wk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class n8 extends tt{constructor(e,n){super(e,"not-in",n),this.keys=wk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wk(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class r8 extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ad(n)&&rd(n.arrayValue,this.value)}}class Ek extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rd(this.value.arrayValue,n)}}class i8 extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rd(this.value.arrayValue,n)}}class a8 extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ad(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>rd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function dw(t,e=null,n=[],r=[],i=null,s=null,l=null){return new s8(t,e,n,r,i,s,l)}function $l(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Fy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ic(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ic(r))).join(",")),e.Te=n}return e.Te}function Td(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KC(t.startAt,e.startAt)&&KC(t.endAt,e.endAt)}function Ng(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Dg(t,e){return t.filters.filter((n=>n instanceof tt&&n.field.isEqual(e)))}function GC(t,e,n){let r=ug,i=!0;for(const s of Dg(t,e)){let l=ug,c=!0;switch(s.op){case"<":case"<=":l=XU(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=ug}qC({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];qC({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function YC(t,e,n){let r=uo,i=!0;for(const s of Dg(t,e)){let l=uo,c=!0;switch(s.op){case">=":case">":l=ZU(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=uo}FC({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];FC({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o8(t,e,n,r,i,s,l,c){return new Qc(t,e,n,r,i,s,l,c)}function Ad(t){return new Qc(t)}function WC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xk(t){return t.collectionGroup!==null}function qh(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new yt(Vt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sd(s,r))})),n.has(Vt.keyField().canonicalString())||e.Ie.push(new sd(Vt.keyField(),r))}return e.Ie}function hi(t){const e=Ue(t);return e.Ee||(e.Ee=l8(e,qh(t))),e.Ee}function l8(t,e){if(t.limitType==="F")return dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)}));const n=t.endAt?new Cc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cc(t.startAt.position,t.startAt.inclusive):null;return dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mw(t,e){const n=t.filters.concat([e]);return new Qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mg(t,e,n){return new Qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qy(t,e){return Td(hi(t),hi(e))&&t.limitType===e.limitType}function Tk(t){return`${$l(hi(t))}|lt:${t.limitType}`}function lc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>_k(i))).join(", ")}]`),Fy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ic(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ic(i))).join(",")),`Target(${r})`})(hi(t))}; limitType=${t.limitType})`}function Sd(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of qh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const d=HC(l,c,f);return l.inclusive?d<=0:d<0})(r.startAt,qh(r),i)||r.endAt&&!(function(l,c,f){const d=HC(l,c,f);return l.inclusive?d>=0:d>0})(r.endAt,qh(r),i))})(t,e)}function u8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ak(t){return(e,n)=>{let r=!1;for(const i of qh(t)){const s=c8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function c8(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(s,l,c){const f=l.data.field(s),d=c.data.field(s);return f!==null&&d!==null?xo(f,d):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return sk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new kt(_e.comparator);function Lr(){return f8}const Sk=new kt(_e.comparator);function Oh(...t){let e=Sk;for(const n of t)e=e.insert(n.key,n);return e}function Ik(t){let e=Sk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function sa(){return Fh()}function Ck(){return Fh()}function Fh(){return new ls((t=>t.toString()),((t,e)=>t.isEqual(e)))}const h8=new kt(_e.comparator),d8=new yt(_e.comparator);function Ge(...t){let e=d8;for(const n of t)e=e.add(n);return e}const m8=new yt(Be);function p8(){return m8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function Ok(t){return{integerValue:""+t}}function Rk(t,e){return EU(e)?Ok(e):FE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this._=void 0}}function g8(t,e,n){return t instanceof Rc?(function(i,s){const l={fields:{[uk]:{stringValue:lk},[fk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&BE(s)&&(s=Yy(s)),s&&(l.fields[ck]=s),{mapValue:l}})(n,e):t instanceof Pc?Nk(t,e):t instanceof Nc?Dk(t,e):(function(i,s){const l=Pk(i,s),c=QC(l)+QC(i.Ae);return cw(l)&&cw(i.Ae)?Ok(c):FE(i.serializer,c)})(t,e)}function y8(t,e,n){return t instanceof Pc?Nk(t,e):t instanceof Nc?Dk(t,e):n}function Pk(t,e){return t instanceof Dc?(function(r){return cw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Rc extends Xy{}class Pc extends Xy{constructor(e){super(),this.elements=e}}function Nk(t,e){const n=Mk(e);for(const r of t.elements)n.some((i=>ma(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Nc extends Xy{constructor(e){super(),this.elements=e}}function Dk(t,e){let n=Mk(e);for(const r of t.elements)n=n.filter((i=>!ma(i,r)));return{arrayValue:{values:n}}}class Dc extends Xy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function QC(t){return Nt(t.integerValue||t.doubleValue)}function Mk(t){return ad(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.field=e,this.transform=n}}function v8(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Pc&&i instanceof Pc||r instanceof Nc&&i instanceof Nc?wc(r.elements,i.elements,ma):r instanceof Dc&&i instanceof Dc?ma(r.Ae,i.Ae):r instanceof Rc&&i instanceof Rc})(t.transform,e.transform)}class b8{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zy{}function kk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jy(t.key,Hn.none()):new Xc(t.key,t.data,Hn.none());{const n=t.data,r=Zn.empty();let i=new yt(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new us(t.key,r,new br(i.toArray()),Hn.none())}}function _8(t,e,n){t instanceof Xc?(function(i,s,l){const c=i.value.clone(),f=ZC(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof us?(function(i,s,l){if(!hg(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=ZC(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(jk(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Hh(t,e,n,r){return t instanceof Xc?(function(s,l,c,f){if(!hg(s.precondition,l))return c;const d=s.value.clone(),m=JC(s.fieldTransforms,f,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof us?(function(s,l,c,f){if(!hg(s.precondition,l))return c;const d=JC(s.fieldTransforms,f,l),m=l.data;return m.setAll(jk(s)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return hg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function w8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Pk(r.transform,i||null);s!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,s))}return n||null}function XC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wc(r,i,((s,l)=>v8(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xc extends Zy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends Zy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function ZC(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,y8(l,c,n[i]))}return r}function JC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,g8(s,l,e))}return r}class Jy extends Zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vk extends Zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ck();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=kk(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,((n,r)=>XC(n,r)))&&wc(this.baseMutations,e.baseMutations,((n,r)=>XC(n,r)))}}class GE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return h8})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new GE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,rt;function x8(t){switch(t){case se.OK:return Ie(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function Lk(t){if(t===void 0)return or("GRPC error has no .code"),se.UNKNOWN;switch(t){case un.OK:return se.OK;case un.CANCELLED:return se.CANCELLED;case un.UNKNOWN:return se.UNKNOWN;case un.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case un.INTERNAL:return se.INTERNAL;case un.UNAVAILABLE:return se.UNAVAILABLE;case un.UNAUTHENTICATED:return se.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case un.NOT_FOUND:return se.NOT_FOUND;case un.ALREADY_EXISTS:return se.ALREADY_EXISTS;case un.PERMISSION_DENIED:return se.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case un.ABORTED:return se.ABORTED;case un.OUT_OF_RANGE:return se.OUT_OF_RANGE;case un.UNIMPLEMENTED:return se.UNIMPLEMENTED;case un.DATA_LOSS:return se.DATA_LOSS;default:return Ie(39323,{code:t})}}(rt=un||(un={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new po([4294967295,4294967295],0);function eO(t){const e=T8().encode(t),n=new kM;return n.update(e),new Uint8Array(n.digest())}function tO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new po([n,r],0),new po([i,s],0)]}class WE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rh(`Invalid padding: ${n}`);if(r<0)throw new Rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=po.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(A8)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=eO(e),[r,i]=tO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new WE(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=eO(e),[r,i]=tO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ev(Me.min(),i,new kt(Be),Lr(),Ge())}}class Id{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Id(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class zk{constructor(e,n){this.targetId=e,this.Ce=n}}class Bk{constructor(e,n,r=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nO{constructor(){this.ve=0,this.Fe=rO(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:s})}})),new Id(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=rO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lr(),this.Je=kp(),this.He=kp(),this.Ye=new kt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Ng(s))if(r===0){const l=new _e(s.path);this.et(n,l,qt.newNoDocument(l,Me.min()))}else Oe(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Ja(r).toUint8Array()}catch(f){if(f instanceof ok)return _c("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new WE(l,i,s)}catch(f){return _c(f instanceof Rh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&Ng(c.target)){const f=new _e(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,qt.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=Ge();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new ev(e,n,this.Ye,this.je,r);return this.je=Lr(),this.Je=kp(),this.He=kp(),this.Ye=new kt(Be),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new nO,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kp(){return new kt(_e.comparator)}function rO(){return new kt(_e.comparator)}const I8={asc:"ASCENDING",desc:"DESCENDING"},C8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O8={and:"AND",or:"OR"};class R8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pw(t,e){return t.useProto3Json||Fy(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P8(t,e){return Mc(t,e.toTimestamp())}function ur(t){return Oe(!!t,49232),Me.fromTimestamp((function(n){const r=Za(n);return new Ke(r.seconds,r.nanos)})(t))}function QE(t,e){return gw(t,e).canonicalString()}function gw(t,e){const n=(function(i){return new ft(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $k(t){const e=ft.fromString(t);return Oe(Xk(e),10190,{key:e.toString()}),e}function kg(t,e){return QE(t.databaseId,e.path)}function Rl(t,e){const n=$k(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Hk(n))}function qk(t,e){return QE(t.databaseId,e)}function Fk(t){const e=$k(t);return e.length===4?ft.emptyPath():Hk(e)}function yw(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hk(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iO(t,e,n){return{name:kg(t,e),fields:n.value.mapValue.fields}}function N8(t,e,n){const r=Rl(t,e.name),i=ur(e.updateTime),s=e.createTime?ur(e.createTime):Me.min(),l=new Zn({mapValue:{fields:e.fields}}),c=qt.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function D8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ie(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,m){return d.useProto3Json?(Oe(m===void 0||typeof m=="string",58123),mn.fromBase64String(m||"")):(Oe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),mn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?se.UNKNOWN:Lk(d.code);return new ye(m,d.message||"")})(l);n=new Bk(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rl(t,r.document.name),s=ur(r.document.updateTime),l=r.document.createTime?ur(r.document.createTime):Me.min(),c=new Zn({mapValue:{fields:r.document.fields}}),f=qt.newFoundDocument(i,s,l,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new dg(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rl(t,r.document),s=r.readTime?ur(r.readTime):Me.min(),l=qt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new dg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rl(t,r.document),s=r.removedTargetIds||[];n=new dg([],s,i,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new E8(i,s),c=r.targetId;n=new zk(c,l)}}return n}function jg(t,e){let n;if(e instanceof Xc)n={update:iO(t,e.key,e.value)};else if(e instanceof Jy)n={delete:kg(t,e.key)};else if(e instanceof us)n={update:iO(t,e.key,e.data),updateMask:z8(e.fieldMask)};else{if(!(e instanceof Vk))return Ie(16599,{Vt:e.type});n={verify:kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof Rc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Nc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Dc)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ie(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:P8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie(27497)})(t,e.precondition)),n}function vw(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Hn.updateTime(ur(s.updateTime)):s.exists!==void 0?Hn.exists(s.exists):Hn.none()})(e.currentDocument):Hn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let f=null;if("setToServerValue"in c)Oe(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),f=new Rc;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];f=new Pc(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];f=new Nc(m)}else"increment"in c?f=new Dc(l,c.increment):Ie(16584,{proto:c});const d=Vt.fromServerFormat(c.fieldPath);return new HE(d,f)})(t,i))):[];if(e.update){e.update.name;const i=Rl(t,e.update.name),s=new Zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(f){const d=f.fieldPaths||[];return new br(d.map((m=>Vt.fromServerFormat(m))))})(e.updateMask);return new us(i,s,l,n,r)}return new Xc(i,s,n,r)}if(e.delete){const i=Rl(t,e.delete);return new Jy(i,n)}if(e.verify){const i=Rl(t,e.verify);return new Vk(i,n)}return Ie(1463,{proto:e})}function M8(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?ur(i.updateTime):ur(s);return l.isEqual(Me.min())&&(l=ur(s)),new b8(l,i.transformResults||[])})(n,e)))):[]}function Kk(t,e){return{documents:[qk(t,e.path)]}}function Gk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qk(t,i);const s=(function(d){if(d.length!==0)return Qk(gt.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(d){if(d.length!==0)return d.map((m=>(function(v){return{field:uc(v.field),direction:j8(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=pw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function Yk(t){let e=Fk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const v=Wk(p);return v instanceof gt&&qE(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((v=>(function(x){return new sd(cc(x.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let v;return v=typeof p=="object"?p.value:p,Fy(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(p){const v=!!p.before,_=p.values||[];return new Cc(_,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const v=!p.before,_=p.values||[];return new Cc(_,v)})(n.endAt)),o8(e,i,l,s,c,"F",f,d)}function k8(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cc(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cc(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cc(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=cc(n.unaryFilter.field);return tt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tt.create(cc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return gt.create(n.compositeFilter.filters.map((r=>Wk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function j8(t){return I8[t]}function V8(t){return C8[t]}function L8(t){return O8[t]}function uc(t){return{fieldPath:t.canonicalString()}}function cc(t){return Vt.fromServerFormat(t.fieldPath)}function Qk(t){return t instanceof tt?(function(n){if(n.op==="=="){if($C(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NAN"}};if(UC(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($C(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NOT_NAN"}};if(UC(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(n.field),op:V8(n.op),value:n.value}}})(t):t instanceof gt?(function(n){const r=n.getFilters().map((i=>Qk(i)));return r.length===1?r[0]:{compositeFilter:{op:L8(n.op),filters:r}}})(t):Ie(54877,{filter:t})}function z8(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Xk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,i,s=Me.min(),l=Me.min(),c=mn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.yt=e}}function B8(t,e){let n;if(e.document)n=N8(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=Fl(e.noDocument.readTime);n=qt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie(56709);{const r=_e.fromSegments(e.unknownDocument.path),i=Fl(e.unknownDocument.version);n=qt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Ke(i[0],i[1]);return Me.fromTimestamp(s)})(e.readTime)),n}function aO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:kg(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Mc(s,l.version.toTimestamp()),createTime:Mc(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ql(e.version)};else{if(!e.isUnknownDocument())return Ie(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:ql(e.version)}}return r}function Vg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ql(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fl(t){const e=new Ke(t.seconds,t.nanoseconds);return Me.fromTimestamp(e)}function bl(t,e){const n=(e.baseMutations||[]).map((s=>vw(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>vw(t.yt,s))),i=Ke.fromMillis(e.localWriteTimeMs);return new KE(e.batchId,i,n,r)}function Ph(t){const e=Fl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Fl(t.lastLimboFreeSnapshotVersion):Me.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return Oe(l===1,1966,{count:l}),hi(Ad(Fk(s.documents[0])))})(t.query):(function(s){return hi(Yk(s))})(t.query),new Fa(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mn.fromBase64String(t.resumeToken))}function Jk(t,e){const n=ql(e.snapshotVersion),r=ql(e.lastLimboFreeSnapshotVersion);let i;i=Ng(e.target)?Kk(t.yt,e.target):Gk(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$l(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ej(t){const e=Yk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mg(e,e.limit,"L"):e}function h_(t,e){return new YE(e.largestBatchId,vw(t.yt,e.overlayMutation))}function sO(t,e){const n=e.path.lastSegment();return[t,Jn(e.path.popLast()),n]}function oO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ql(r.readTime),documentKey:Jn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{getBundleMetadata(e,n){return lO(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Fl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return lO(e).put((function(i){return{bundleId:i.id,createTime:ql(ur(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return uO(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:ej(s.bundledQuery),readTime:Fl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return uO(e).put((function(i){return{name:i.name,readTime:ql(ur(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function lO(t){return wn(t,Hy)}function uO(t){return wn(t,Ky)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new tv(e,r)}getOverlay(e,n){return ph(e).get(sO(this.userId,n)).next((r=>r?h_(this.serializer,r):null))}getOverlays(e,n){const r=sa();return X.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new YE(n,l);i.push(this.St(e,c))})),X.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(Jn(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(ph(e).Z(ow,c))})),X.waitFor(s)}getOverlaysForCollection(e,n,r){const i=sa(),s=Jn(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ph(e).J(ow,l).next((c=>{for(const f of c){const d=h_(this.serializer,f);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=sa();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ph(e).ee({index:tk,range:c},((f,d,m)=>{const p=h_(this.serializer,d);s.size()<i||p.largestBatchId===l?(s.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>s))}St(e,n){return ph(e).put((function(i,s,l){const[c,f,d]=sO(s,l.mutation.key);return{userId:s,collectionPath:f,documentId:d,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:jg(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function ph(t){return wn(t,Gy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{bt(e){return wn(e,LE)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?mn.fromUint8Array(r):mn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Nt(e.integerValue));else if("doubleValue"in e){const r=Nt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Xh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Za(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ja(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?dk(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Wy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ie(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Sc,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Nt(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),_e.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}_l.Kt=new _l;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=255;function q8(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function cO(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=q8(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class F8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=cO(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=cO(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(ec),this.sn(255)}_n(){this.an(ec),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===ec?(this.sn(ec),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===ec?(this.an(ec),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class H8{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class K8{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class gh{constructor(){this.cn=new F8,this.ln=new H8(this.cn),this.hn=new K8(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new wl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:mg(this.En),directionalValue:mg(this.dn),orderedDocumentKey:mg(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Xs(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=fO(t.En,e.En),n!==0?n:(n=fO(t.dn,e.dn),n!==0?n:_e.comparator(t.In,e.In)))}function fO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function mg(t){return IM()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function hO(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class dO{constructor(e){this.mn=new yt(((n,r)=>Vt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Oe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=iw(e);if(n!==void 0&&!this.wn(n))return!1;const r=dl(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const f=r[s];if(!this.Sn(c,f)||!this.bn(this.fn[l++],f))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new yt(Vt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new sg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new sg(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new sg(r.field,r.dir==="asc"?0:1)));return new Cg(Cg.UNKNOWN_ID,this.collectionId,n,Qh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t){if(Oe(t instanceof tt||t instanceof gt,20012),t instanceof tt){if(t instanceof Ek){const n=t.value.arrayValue?.values?.map((r=>tt.create(t.field,"==",r)))||[];return gt.create(n,"or")}return t}const e=t.filters.map((n=>tj(n)));return gt.create(e,t.op)}function G8(t){if(t.getFilters().length===0)return[];const e=ww(tj(t));return Oe(nj(e),7391),bw(e)||_w(e)?[e]:e.getFilters()}function bw(t){return t instanceof tt}function _w(t){return t instanceof gt&&qE(t)}function nj(t){return bw(t)||_w(t)||(function(n){if(n instanceof gt&&fw(n)){for(const r of n.getFilters())if(!bw(r)&&!_w(r))return!1;return!0}return!1})(t)}function ww(t){if(Oe(t instanceof tt||t instanceof gt,34018),t instanceof tt)return t;if(t.filters.length===1)return ww(t.filters[0]);const e=t.filters.map((r=>ww(r)));let n=gt.create(e,t.op);return n=Lg(n),nj(n)?n:(Oe(n instanceof gt,64498),Oe(Oc(n),40251),Oe(n.filters.length>1,57927),n.filters.reduce(((r,i)=>XE(r,i))))}function XE(t,e){let n;return Oe(t instanceof tt||t instanceof gt,38388),Oe(e instanceof tt||e instanceof gt,25473),n=t instanceof tt?e instanceof tt?(function(i,s){return gt.create([i,s],"and")})(t,e):mO(t,e):e instanceof tt?mO(e,t):(function(i,s){if(Oe(i.filters.length>0&&s.filters.length>0,48005),Oc(i)&&Oc(s))return bk(i,s.getFilters());const l=fw(i)?i:s,c=fw(i)?s:i,f=l.filters.map((d=>XE(d,c)));return gt.create(f,"or")})(t,e),Lg(n)}function mO(t,e){if(Oc(e))return bk(e,t.getFilters());{const n=e.filters.map((r=>XE(t,r)));return gt.create(n,"or")}}function Lg(t){if(Oe(t instanceof tt||t instanceof gt,11850),t instanceof tt)return t;const e=t.getFilters();if(e.length===1)return Lg(e[0]);if(yk(t))return t;const n=e.map((i=>Lg(i))),r=[];return n.forEach((i=>{i instanceof tt?r.push(i):i instanceof gt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:gt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.Cn=new ZE}addToCollectionParentIndex(e,n){return this.Cn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Ur.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class ZE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="IndexedDbIndexManager",jp=new Uint8Array(0);class W8{constructor(e,n){this.databaseId=n,this.vn=new ZE,this.Fn=new ls((r=>$l(r)),((r,i)=>Td(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:Jn(i)};return gO(e).put(s)}return X.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[qM(n),""],!1,!0);return gO(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(aa(l.parent))}return r}))}addFieldIndex(e,n){const r=yh(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=nc(e);return s.next((c=>{l.put(oO(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=yh(e),i=nc(e),s=tc(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=yh(e),r=tc(e),i=nc(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return X.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new dO(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=tc(e);let i=!0;const s=new Map;return X.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=Ge();const c=[];return X.forEach(s,((f,d)=>{de(pO,`Using index ${(function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(($=>`${$.fieldPath}:${$.kind}`)).join(",")}`})(f)} to execute ${$l(n)}`);const m=(function(P,$){const B=iw($);if(B===void 0)return null;for(const q of Dg(P,B.fieldPath))switch(q.op){case"array-contains-any":return q.value.arrayValue.values||[];case"array-contains":return[q.value]}return null})(d,f),p=(function(P,$){const B=new Map;for(const q of dl($))for(const R of Dg(P,q.fieldPath))switch(R.op){case"==":case"in":B.set(q.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return B.set(q.fieldPath.canonicalString(),R.value),Array.from(B.values())}return null})(d,f),v=(function(P,$){const B=[];let q=!0;for(const R of dl($)){const N=R.kind===0?GC(P,R.fieldPath,P.startAt):YC(P,R.fieldPath,P.startAt);B.push(N.value),q&&(q=N.inclusive)}return new Cc(B,q)})(d,f),_=(function(P,$){const B=[];let q=!0;for(const R of dl($)){const N=R.kind===0?YC(P,R.fieldPath,P.endAt):GC(P,R.fieldPath,P.endAt);B.push(N.value),q&&(q=N.inclusive)}return new Cc(B,q)})(d,f),x=this.On(f,d,v),E=this.On(f,d,_),T=this.Nn(f,d,p),O=this.Bn(f.indexId,m,x,v.inclusive,E,_.inclusive,T);return X.forEach(O,(M=>r.Y(M,n.limit).next((P=>{P.forEach(($=>{const B=_e.fromSegments($.documentKey);l.has(B)||(l=l.add(B),c.push(B))}))}))))})).next((()=>c))}return X.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=G8(gt.create(e.filters,"and")).map((r=>dw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const f=(n!=null?n.length:1)*Math.max(r.length,s.length),d=f/(n!=null?n.length:1),m=[];for(let p=0;p<f;++p){const v=n?this.Ln(n[p/d]):jp,_=this.kn(e,v,r[p%d],i),x=this.qn(e,v,s[p%d],l),E=c.map((T=>this.kn(e,v,T,!0)));m.push(...this.createRange(_,x,E))}return m}kn(e,n,r,i){const s=new wl(e,_e.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new wl(e,_e.empty(),n,r);return i?s.An():s}xn(e,n){const r=new dO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return X.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(f){let d=new yt(Vt.comparator),m=!1;for(const p of f.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:d=d.add(v.field));for(const p of f.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new gh;for(const i of dl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);_l.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new gh;return _l.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new gh;return _l.Kt.Dt(id(this.databaseId,n),r.Pn((function(s){const l=dl(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new gh);let s=0;for(const l of dl(e)){const c=r[s++];for(const f of i)if(this.Un(n,l.fieldPath)&&ad(c))i=this.Kn(i,l,c);else{const d=f.Pn(l.kind);_l.Kt.Dt(c,d)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const f=new gh;f.seed(c.un()),_l.Kt.Dt(l,f.Pn(n.kind)),s.push(f)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof tt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=yh(e),i=nc(e);return(n?r.J(sw,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return X.forEach(s,(c=>i.get([c.indexId,this.uid]).next((f=>{l.push((function(m,p){const v=p?new Qh(p.sequenceNumber,new Ur(Fl(p.readTime),new _e(aa(p.documentKey)),p.largestBatchId)):Qh.empty(),_=m.fields.map((([x,E])=>new sg(Vt.fromServerFormat(x),E)));return new Cg(m.indexId,m.collectionGroup,_,v)})(c,f))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Be(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=yh(e),s=nc(e);return this.Gn(e).next((l=>i.J(sw,IDBKeyRange.bound(n,n)).next((c=>X.forEach(c,(f=>s.put(oO(f.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return X.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?X.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),X.forEach(c,(f=>this.zn(e,i,f).next((d=>{const m=this.jn(s,f);return d.isEqual(m)?X.resolve():this.Jn(e,s,f,d,m)})))))))}))}Hn(e,n,r,i){return tc(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return tc(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=tc(e);let s=new yt(Xs);return i.ee({index:ek,range:IDBKeyRange.only([r.indexId,this.uid,mg(this.$n(r,n))])},((l,c)=>{s=s.add(new wl(r.indexId,n,hO(c.arrayValue),hO(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new yt(Xs);const i=this.Qn(n,e);if(i==null)return r;const s=iw(n);if(s!=null){const l=e.data.field(s.fieldPath);if(ad(l))for(const c of l.arrayValue.values||[])r=r.add(new wl(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new wl(n.indexId,e.key,jp,i));return r}Jn(e,n,r,i,s){de(pO,"Updating index entries for document '%s'",n.key);const l=[];return(function(f,d,m,p,v){const _=f.getIterator(),x=d.getIterator();let E=Ju(_),T=Ju(x);for(;E||T;){let O=!1,M=!1;if(E&&T){const P=m(E,T);P<0?M=!0:P>0&&(O=!0)}else E!=null?M=!0:O=!0;O?(p(T),T=Ju(x)):M?(v(E),E=Ju(_)):(E=Ju(_),T=Ju(x))}})(i,s,Xs,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),X.waitFor(l)}Gn(e){let n=1;return nc(e).ee({index:JM,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>Xs(l,c))).filter(((l,c,f)=>!c||Xs(l,f[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=Xs(l,e),f=Xs(l,n);if(c===0)i[0]=e.An();else if(c>0&&f<0)i.push(l),i.push(l.An());else if(f>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,jp,_e.empty()),f=i[l+1].Vn(this.uid,jp,_e.empty());s.push(IDBKeyRange.bound(c,f))}return s}Zn(e,n){return Xs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(yO)}getMinOffset(e,n){return X.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ie(44426))))).next(yO)}}function gO(t){return wn(t,ed)}function tc(t){return wn(t,Uh)}function yh(t){return wn(t,VE)}function nc(t){return wn(t,Bh)}function yO(t){Oe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;ME(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ur(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rj=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e,n){const r=t.store(Ri),i=t.store(Ec),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const f=r.ee({range:l},((m,p,v)=>(c++,v.delete())));s.push(f.next((()=>{Oe(c===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const p=QM(e,m.key.path,n.batchId);s.push(i.delete(p)),d.push(m.key)}return X.waitFor(s).next((()=>d))}function zg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ie(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(rj,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class nv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Oe(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new nv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zs(e).ee({index:El,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=fc(e),l=Zs(e);return l.add({}).next((c=>{Oe(typeof c=="number",49019);const f=new KE(c,n,r,i),d=(function(_,x,E){const T=E.baseMutations.map((M=>jg(_.yt,M))),O=E.mutations.map((M=>jg(_.yt,M)));return{userId:x,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:T,mutations:O}})(this.serializer,this.userId,f),m=[];let p=new yt(((v,_)=>Be(v.canonicalString(),_.canonicalString())));for(const v of i){const _=QM(this.userId,v.key.path,c);p=p.add(v.key.path.popLast()),m.push(l.put(d)),m.push(s.put(_,AU))}return p.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[c]=f.keys()})),X.waitFor(m).next((()=>f))}))}lookupMutationBatch(e,n){return Zs(e).get(n).next((r=>r?(Oe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),bl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?X.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Zs(e).ee({index:El,range:i},((l,c,f)=>{c.userId===this.userId&&(Oe(c.batchId>=r,47524,{tr:r}),s=bl(this.serializer,c)),f.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Cl;return Zs(e).ee({index:El,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Cl],[this.userId,Number.POSITIVE_INFINITY]);return Zs(e).J(El,n).next((r=>r.map((i=>bl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=og(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return fc(e).ee({range:i},((l,c,f)=>{const[d,m,p]=l,v=aa(m);if(d===this.userId&&n.path.isEqual(v))return Zs(e).get(p).next((_=>{if(!_)throw Ie(61480,{nr:l,batchId:p});Oe(_.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:_.userId,batchId:p}),s.push(bl(this.serializer,_))}));f.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Be);const i=[];return n.forEach((s=>{const l=og(this.userId,s.path),c=IDBKeyRange.lowerBound(l),f=fc(e).ee({range:c},((d,m,p)=>{const[v,_,x]=d,E=aa(_);v===this.userId&&s.path.isEqual(E)?r=r.add(x):p.done()}));i.push(f)})),X.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=og(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new yt(Be);return fc(e).ee({range:l},((f,d,m)=>{const[p,v,_]=f,x=aa(v);p===this.userId&&r.isPrefixOf(x)?x.length===i&&(c=c.add(_)):m.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(Zs(e).get(s).next((l=>{if(l===null)throw Ie(35274,{batchId:s});Oe(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(bl(this.serializer,l))})))})),X.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return ij(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),X.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return X.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return fc(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const f=aa(s[1]);i.push(f)}else c.done()})).next((()=>{Oe(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return aj(e,this.userId,n)}_r(e){return sj(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Cl,lastStreamToken:""}))}}function aj(t,e,n){const r=og(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return fc(t).ee({range:s,X:!0},((c,f,d)=>{const[m,p,v]=c;m===e&&p===i&&(l=!0),d.done()})).next((()=>l))}function Zs(t){return wn(t,Ri)}function fc(t){return wn(t,Ec)}function sj(t){return wn(t,Zh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hl(0)}static cr(){return new Hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Hl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Me.fromTimestamp(new Ke(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>rc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Oe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return rc(e).ee(((l,c)=>{const f=Ph(c);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(i++,s.push(this.removeTargetData(e,f)))})).next((()=>X.waitFor(s))).next((()=>i))}forEachTarget(e,n){return rc(e).ee(((r,i)=>{const s=Ph(i);n(s)}))}lr(e){return bO(e).get(Pg).next((n=>(Oe(n!==null,2888),n)))}hr(e,n){return bO(e).put(Pg,n)}Pr(e,n){return rc(e).put(Jk(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=$l(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return rc(e).ee({range:i,index:ZM},((l,c,f)=>{const d=Ph(c);Td(n,d.target)&&(s=d,f.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=ro(e);return n.forEach((l=>{const c=Jn(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),X.waitFor(i)}removeMatchingKeys(e,n,r){const i=ro(e);return X.forEach(n,(s=>{const l=Jn(s.path);return X.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=ro(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ro(e);let s=Ge();return i.ee({range:r,X:!0},((l,c,f)=>{const d=aa(l[1]),m=new _e(d);s=s.add(m)})).next((()=>s))}containsKey(e,n){const r=Jn(n.path),i=IDBKeyRange.bound([r],[qM(r)],!1,!0);let s=0;return ro(e).ee({index:jE,X:!0,range:i},(([l,c],f,d)=>{l!==0&&(s++,d.done())})).next((()=>s>0))}At(e,n){return rc(e).get(n).next((r=>r?Ph(r):null))}}function rc(t){return wn(t,xc)}function bO(t){return wn(t,Ol)}function ro(t){return wn(t,Tc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="LruGarbageCollector",oj=1048576;function wO([t,e],[n,r]){const i=Be(t,n);return i===0?Be(e,r):i}class X8{constructor(e){this.Ir=e,this.buffer=new yt(wO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(_O,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?de(_O,"Ignoring IndexedDB error during garbage collection: ",n):await au(n)}await this.Vr(3e5)}))}}class Z8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return X.resolve(ci.ce);const r=new X8(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(vO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),oc()<=et.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${p} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function uj(t,e){return new Z8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e,n){this.db=e,this.garbageCollector=uj(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Vp(e,r)}removeReference(e,n,r){return Vp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Vp(e,n)}br(e,n){return(function(i,s){let l=!1;return sj(i).te((c=>aj(i,c,s).next((f=>(f&&(l=!0),X.resolve(!f)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const f=this.br(e,l).next((d=>{if(!d)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Me.min()),ro(e).delete((function(p){return[0,Jn(p.path)]})(l)))))}));i.push(f)}})).next((()=>X.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Vp(e,n)}Sr(e,n){const r=ro(e);let i,s=ci.ce;return r.ee({index:jE},(([l,c],{path:f,sequenceNumber:d})=>{l===0?(s!==ci.ce&&n(new _e(aa(i)),s),s=d,i=f):s=ci.ce})).next((()=>{s!==ci.ce&&n(new _e(aa(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vp(t,e){return ro(t).put((function(r,i){return{targetId:0,path:Jn(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.changes=new ls((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return fl(e).put(r)}removeEntry(e,n,r){return fl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Vg(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=qt.newInvalidDocument(n);return fl(e).ee({index:lg,range:IDBKeyRange.only(vh(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:qt.newInvalidDocument(n)};return fl(e).ee({index:lg,range:IDBKeyRange.only(vh(n))},((i,s)=>{r={document:this.Cr(n,s),size:zg(s)}})).next((()=>r))}getEntries(e,n){let r=Lr();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=Lr(),i=new kt(_e.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,zg(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return X.resolve();let i=new yt(TO);n.forEach((f=>i=i.add(f)));const s=IDBKeyRange.bound(vh(i.first()),vh(i.last())),l=i.getIterator();let c=l.getNext();return fl(e).ee({index:lg,range:s},((f,d,m)=>{const p=_e.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;c&&TO(c,p)<0;)r(c,null),c=l.getNext();c&&c.isEqual(p)&&(r(c,d),c=l.hasNext()?l.getNext():null),c?m.j(vh(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),Vg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fl(e).J(IDBKeyRange.bound(c,f,!0)).next((d=>{s?.incrementDocumentReadCount(d.length);let m=Lr();for(const p of d){const v=this.Cr(_e.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(Sd(n,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,i){let s=Lr();const l=xO(n,r),c=xO(n,Ur.max());return fl(e).ee({index:XM,range:IDBKeyRange.bound(l,c,!0)},((f,d,m)=>{const p=this.Cr(_e.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(p.key,p),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new t7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return EO(e).get(aw).next((n=>(Oe(!!n,20021),n)))}Dr(e,n){return EO(e).put(aw,n)}Cr(e,n){if(n){const r=B8(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Me.min())))return r}return qt.newInvalidDocument(e)}}function fj(t){return new e7(t)}class t7 extends cj{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new ls((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new yt(((s,l)=>Be(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const f=aO(this.Nr.serializer,l);i=i.add(s.path.popLast());const d=zg(f);r+=d-c.size,n.push(this.Nr.addEntry(e,s,f))}else if(r-=c.size,this.trackRemovals){const f=aO(this.Nr.serializer,l.convertToNoDocument(Me.min()));n.push(this.Nr.addEntry(e,s,f))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),X.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function EO(t){return wn(t,Jh)}function fl(t){return wn(t,Rg)}function vh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xO(t,e){const n=e.documentKey.path.toArray();return[t,Vg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function TO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Be(n[s],r[s]),i)return i;return i=Be(n.length,r.length),i||(i=Be(n[n.length-2],r[r.length-2]),i||Be(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Hh(r.mutation,i,br.empty(),Ke.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const i=sa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Oh();return s.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=sa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=Lr();const l=Fh(),c=(function(){return Fh()})();return n.forEach(((f,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof us)?s=s.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Hh(m.mutation,d,m.mutation.getFieldMask(),Ke.now())):l.set(d.key,br.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>c.set(d,new n7(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Fh();let i=new kt(((l,c)=>l-c)),s=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let m=r.get(f)||br.empty();m=c.applyToLocalView(d,m),r.set(f,m);const p=(i.get(c.batchId)||Ge()).add(f);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,m=f.value,p=Ck();m.forEach((v=>{if(!s.has(v)){const _=kk(n.get(v),r.get(v));_!==null&&p.set(v,_),s=s.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,p))}return X.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(sa());let c=Wh,f=s;return l.next((d=>X.forEach(d,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?X.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{f=f.insert(m,v)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,f,d,Ge()))).next((m=>({batchId:c,changes:Ik(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let i=Oh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Oh();return this.indexManager.getCollectionParents(e,s).next((c=>X.forEach(c,(f=>{const d=(function(p,v){return new Qc(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((m=>{m.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,qt.newInvalidDocument(m)))}));let c=Oh();return l.forEach(((f,d)=>{const m=s.get(f);m!==void 0&&Hh(m.mutation,d,br.empty(),Ke.now()),Sd(n,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:ej(i.bundledQuery),readTime:ur(i.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.overlays=new kt(_e.comparator),this.qr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sa();return X.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=sa(),s=n.length+1,l=new _e(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new kt(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=s.get(d.largestBatchId);m===null&&(m=sa(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=sa(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=i)););return X.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new YE(n,r));let s=this.qr.get(n);s===void 0&&(s=Ge(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.Qr=new yt(On.$r),this.Ur=new yt(On.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new On(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new _e(new ft([])),r=new On(n,e),i=new On(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new ft([])),r=new On(n,e),i=new On(n,e+1);let s=Ge();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new On(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yt(On.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new KE(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new On(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cl:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),i=new On(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Be);return n.forEach((i=>{const s=new On(i,0),l=new On(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const l=new On(new _e(s),0);let c=new yt(Be);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.Yr)),!0)}),l),X.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(n.mutations,(i=>{const s=new On(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new On(n,0),i=this.Zr.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.ri=e,this.docs=(function(){return new kt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qt.newInvalidDocument(i))})),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Lr();const l=n.path,c=new _e(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||ME(KM(m),r)<=0||(i.has(m.key)||Sd(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie(9500)}ii(e,n){return X.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new l7(this)}getSize(e){return X.resolve(this.size)}}class l7 extends cj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),X.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.persistence=e,this.si=new ls((n=>$l(n)),Td),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new JE,this.targetCount=0,this.ai=Hl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),X.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Pr(n),X.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),X.waitFor(s).next((()=>i))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n){this.ui={},this.overlays={},this.ci=new ci(0),this.li=!1,this.li=!0,this.hi=new a7,this.referenceDelegate=e(this),this.Pi=new u7(this),this.indexManager=new Y8,this.remoteDocumentCache=(function(i){return new o7(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Zk(n),this.Ii=new r7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new i7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new s7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new c7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class c7 extends YM{constructor(e){super(),this.currentSequenceNumber=e}}class rv{constructor(e){this.persistence=e,this.Ri=new JE,this.Vi=null}static mi(e){return new rv(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const i=_e.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bg{constructor(e,n){this.persistence=e,this.pi=new ls((r=>Jn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=uj(this,n)}static mi(e,n){return new Bg(e,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return X.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?X.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Me.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cg(e.data.value)),n}br(e,n,r){return X.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.serializer=e}k(e,n,r,i){const s=new qy("createOrUpgrade",n);r<1&&i>=1&&((function(f){f.createObjectStore(xd)})(e),(function(f){f.createObjectStore(Zh,{keyPath:TU}),f.createObjectStore(Ri,{keyPath:kC,autoIncrement:!0}).createIndex(El,jC,{unique:!0}),f.createObjectStore(Ec)})(e),AO(e),(function(f){f.createObjectStore(ml)})(e));let l=X.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(Tc),f.deleteObjectStore(xc),f.deleteObjectStore(Ol)})(e),AO(e)),l=l.next((()=>(function(f){const d=f.store(Ol),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return d.put(Pg,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(f,d){return d.store(Ri).J().next((p=>{f.deleteObjectStore(Ri),f.createObjectStore(Ri,{keyPath:kC,autoIncrement:!0}).createIndex(El,jC,{unique:!0});const v=d.store(Ri),_=p.map((x=>v.put(x)));return X.waitFor(_)}))})(e,s)))),l=l.next((()=>{(function(f){f.createObjectStore(Ac,{keyPath:DU})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(f){f.createObjectStore(Jh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(f){f.createObjectStore(Hy,{keyPath:MU})})(e),(function(f){f.createObjectStore(Ky,{keyPath:kU})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(f){const d=f.createObjectStore(Gy,{keyPath:$U});d.createIndex(ow,qU,{unique:!1}),d.createIndex(tk,FU,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(f){const d=f.createObjectStore(Rg,{keyPath:SU});d.createIndex(lg,IU),d.createIndex(XM,CU)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(ml)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(f){f.createObjectStore(VE,{keyPath:jU,autoIncrement:!0}).createIndex(sw,VU,{unique:!1}),f.createObjectStore(Bh,{keyPath:LU}).createIndex(JM,zU,{unique:!1}),f.createObjectStore(Uh,{keyPath:BU}).createIndex(ek,UU,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Bh).clear()})).next((()=>{n.objectStore(Uh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(f){f.createObjectStore(LE,{keyPath:HU})})(e)}))),r<18&&i>=18&&IM()&&(l=l.next((()=>{n.objectStore(Bh).clear()})).next((()=>{n.objectStore(Uh).clear()}))),l}wi(e){let n=0;return e.store(ml).ee(((r,i)=>{n+=zg(i)})).next((()=>{const r={byteSize:n};return e.store(Jh).put(aw,r)}))}yi(e){const n=e.store(Zh),r=e.store(Ri);return n.J().next((i=>X.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,Cl],[s.userId,s.lastAcknowledgedBatchId]);return r.J(El,l).next((c=>X.forEach(c,(f=>{Oe(f.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=bl(this.serializer,f);return ij(e,s.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(Tc),r=e.store(ml);return e.store(Ol).get(Pg).next((i=>{const s=[];return r.ee(((l,c)=>{const f=new ft(l),d=(function(p){return[0,Jn(p)]})(f);s.push(n.get(d).next((m=>m?X.resolve():(p=>n.put({targetId:0,path:Jn(p),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>X.waitFor(s)))}))}bi(e,n){e.createObjectStore(ed,{keyPath:NU});const r=n.store(ed),i=new ZE,s=l=>{if(i.add(l)){const c=l.lastSegment(),f=l.popLast();return r.put({collectionId:c,parent:Jn(f)})}};return n.store(ml).ee({X:!0},((l,c)=>{const f=new ft(l);return s(f.popLast())})).next((()=>n.store(Ec).ee({X:!0},(([l,c,f],d)=>{const m=aa(c);return s(m.popLast())}))))}Di(e){const n=e.store(xc);return n.ee(((r,i)=>{const s=Ph(i),l=Jk(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(ml),i=[];return r.ee(((s,l)=>{const c=n.store(Rg),f=(function(p){return p.document?new _e(ft.fromString(p.document.name).popFirst(5)):p.noDocument?_e.fromSegments(p.noDocument.path):p.unknownDocument?_e.fromSegments(p.unknownDocument.path):Ie(36783)})(l).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(d))})).next((()=>X.waitFor(i)))}Fi(e,n){const r=n.store(Ri),i=fj(this.serializer),s=new ex(rv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((f=>{let d=c.get(f.userId)??Ge();bl(this.serializer,f).keys().forEach((m=>d=d.add(m))),c.set(f.userId,d)})),X.forEach(c,((f,d)=>{const m=new Un(d),p=tv.wt(this.serializer,m),v=s.getIndexManager(m),_=nv.wt(m,this.serializer,v,s.referenceDelegate);return new hj(i,_,p,v).recalculateAndSaveOverlaysForDocumentKeys(new lw(n,ci.ce),f).next()}))}))}}function AO(t){t.createObjectStore(Tc,{keyPath:RU}).createIndex(jE,PU,{unique:!0}),t.createObjectStore(xc,{keyPath:"targetId"}).createIndex(ZM,OU,{unique:!0}),t.createObjectStore(Ol)}const Js="IndexedDbPersistence",d_=18e5,m_=5e3,p_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",h7="main";class tx{constructor(e,n,r,i,s,l,c,f,d,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=d,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!tx.v())throw new ye(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new J8(this,i),this.$i=n+h7,this.serializer=new Zk(f),this.Ui=new go(this.$i,this.Ni,new f7(this.serializer)),this.hi=new $8,this.Pi=new Q8(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fj(this.serializer),this.Ii=new U8,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&or(Js,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(se.FAILED_PRECONDITION,p_);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new ci(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Lp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Ro(e))return de(Js,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(Js,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return bh(e).get(Zu).next((n=>X.resolve(this.es(n))))}ts(e){return Lp(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,d_)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=wn(n,Ac);return r.J().next((i=>{const s=this.ss(i,d_),l=i.filter((c=>s.indexOf(c)===-1));return X.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?X.resolve(!0):bh(e).get(Zu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,m_)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ye(se.FAILED_PRECONDITION,p_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lp(e).J().next((r=>this.ss(r,m_).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&de(Js,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[xd,Ac],(e=>{const n=new lw(e,ci.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Lp(e).J().next((n=>this.ss(n,d_).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return nv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new W8(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return tv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){de(Js,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(f){return f===18?YU:f===17?ak:f===16?GU:f===15?zE:f===14?ik:f===13?rk:f===12?KU:f===11?nk:void Ie(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new lw(c,this.ci?this.ci.next():ci.ce),n==="readwrite-primary"?this.Hi(l).next((f=>!!f||this.Yi(l))).next((f=>{if(!f)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ye(se.FAILED_PRECONDITION,GM);return r(l)})).next((f=>this.Xi(l).next((()=>f)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return bh(e).get(Zu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,m_)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ye(se.FAILED_PRECONDITION,p_)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bh(e).put(Zu,n)}static v(){return go.v()}Zi(e){const n=bh(e);return n.get(Zu).next((r=>this.es(r)?(de(Js,"Releasing primary lease."),n.delete(Zu)):X.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(or(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;SM()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return de(Js,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return or(Js,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bh(t){return wn(t,xd)}function Lp(t){return wn(t,Ac)}function d7(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ge(),i=Ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SM()?8:WM(_n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new m7;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(oc()<=et.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(oc()<=et.DEBUG&&de("QueryEngine","Query:",lc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(oc()<=et.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):X.resolve())}ys(e,n){if(WC(n))return X.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Mg(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Ge(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,c);return this.Cs(n,d,l,f.readTime)?this.ys(e,Mg(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return WC(n)||i.isEqual(Me.min())?X.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?X.resolve(null):(oc()<=et.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lc(n)),this.vs(e,l,n,yU(i,Wh)).next((c=>c)))}))}Ds(e,n){let r=new yt(Ak(e));return n.forEach(((i,s)=>{Sd(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return oc()<=et.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",lc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ur.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="LocalStore",p7=3e8;class g7{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new kt(Be),this.xs=new ls((s=>$l(s)),Td),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mj(t,e,n,r){return new g7(t,e,n,r)}async function pj(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let f=Ge();for(const d of i){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of s){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function y7(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,m){const p=d.batch,v=p.keys();let _=X.resolve();return v.forEach((x=>{_=_.next((()=>m.getEntry(f,x))).next((E=>{const T=d.docVersions.get(x);Oe(T!==null,48541),E.version.compareTo(T)<0&&(p.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),m.addEntry(E)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Ge();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function gj(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function v7(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const v=i.get(p);if(!v)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let _=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(mn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(p,_),(function(E,T,O){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=p7?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,_,m)&&c.push(n.Pi.updateTargetData(s,_))}));let f=Lr(),d=Ge();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(b7(s,l,e.documentUpdates).next((m=>{f=m.ks,d=m.qs}))),!r.isEqual(Me.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return X.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,d))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function b7(t,e,n){let r=Ge(),i=Ge();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Lr();return n.forEach(((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):de(rx,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function _7(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function w7(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,X.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Fa(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Ew(t,e,n){const r=Ue(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ro(l))throw l;de(rx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function SO(t,e,n){const r=Ue(t);let i=Me.min(),s=Ge();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,m){const p=Ue(f),v=p.xs.get(m);return v!==void 0?X.resolve(p.Ms.get(v)):p.Pi.getTargetData(d,m)})(r,l,hi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Me.min(),n?s:Ge()))).next((c=>(E7(r,u8(e),c),{documents:c,Qs:s})))))}function E7(t,e,n){let r=t.Os.get(e)||Me.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class IO{constructor(){this.activeTargetIds=p8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this.Mo=new IO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="ConnectivityMonitor";class OO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(CO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(CO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp=null;function xw(){return zp===null?zp=(function(){return 268435456+Math.round(2147483648*Math.random())})():zp++,"0x"+zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="RestConnection",T7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===nd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=xw(),c=this.zo(e,n.toUriEncodedString());de(g_,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:d}=new URL(c),m=iu(d);return this.Jo(e,c,f,r,m).then((p=>(de(g_,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw _c(g_,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=T7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class I7 extends A7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=xw();return new Promise(((c,f)=>{const d=new jM;d.setWithCredentials(!0),d.listenOnce(VM.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ag.NO_ERROR:const p=d.getResponseJson();de(Gn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case ag.TIMEOUT:de(Gn,`RPC '${e}' ${l} timed out`),f(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:const v=d.getStatus();if(de(Gn,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_?.error;if(x&&x.status&&x.message){const E=(function(O){const M=O.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(M)>=0?M:se.UNKNOWN})(x.status);f(new ye(E,x.message))}else f(new ye(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{de(Gn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);de(Gn,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=xw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=BM(),c=zM(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=s.join("");de(Gn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const p=l.createWebChannel(m,f);this.I_(p);let v=!1,_=!1;const x=new S7({Yo:T=>{_?de(Gn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(v||(de(Gn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),de(Gn,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},Zo:()=>p.close()}),E=(T,O,M)=>{T.listen(O,(P=>{try{M(P)}catch($){setTimeout((()=>{throw $}),0)}}))};return E(p,Ch.EventType.OPEN,(()=>{_||(de(Gn,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),E(p,Ch.EventType.CLOSE,(()=>{_||(_=!0,de(Gn,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(p))})),E(p,Ch.EventType.ERROR,(T=>{_||(_=!0,_c(Gn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),x.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))})),E(p,Ch.EventType.MESSAGE,(T=>{if(!_){const O=T.data[0];Oe(!!O,16349);const M=O,P=M?.error||M[0]?.error;if(P){de(Gn,`RPC '${e}' stream ${i} received error:`,P);const $=P.status;let B=(function(N){const j=un[N];if(j!==void 0)return Lk(j)})($),q=P.message;B===void 0&&(B=se.INTERNAL,q="Unknown error status: "+$+" with message "+P.message),_=!0,x.a_(new ye(B,q)),p.close()}else de(Gn,`RPC '${e}' stream ${i} received:`,O),x.u_(O)}})),E(c,LM.STAT_EVENT,(T=>{T.stat===nw.PROXY?de(Gn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===nw.NOPROXY&&de(Gn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(){return typeof window<"u"?window:null}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){return new R8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="PersistentStream";class bj{constructor(e,n,r,i,s,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ye(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(RO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(RO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O7 extends bj{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=D8(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Me.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?ur(l.readTime):Me.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=yw(this.serializer),n.addTarget=(function(s,l){let c;const f=l.target;if(c=Ng(f)?{documents:Kk(s,f)}:{query:Gk(s,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Uk(s,l.resumeToken);const d=pw(s,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=Mc(s,l.snapshotVersion.toTimestamp());const d=pw(s,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=k8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=yw(this.serializer),n.removeTarget=e,this.q_(n)}}class R7 extends bj{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=M8(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>jg(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{}class N7 extends P7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,gw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(se.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,gw(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class D7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="RemoteStore";class M7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{su(this)&&(de(Kl,"Restarting streams for network reachability change."),await(async function(f){const d=Ue(f);d.Ea.add(4),await Cd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await av(d)})(this))}))})),this.Ra=new D7(r,i)}}async function av(t){if(su(t))for(const e of t.da)await e(!0)}async function Cd(t){for(const e of t.da)await e(!1)}function _j(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ox(n)?sx(n):Zc(n).O_()&&ax(n,e))}function ix(t,e){const n=Ue(t),r=Zc(n);n.Ia.delete(e),r.O_()&&wj(n,e),n.Ia.size===0&&(r.O_()?r.L_():su(n)&&n.Ra.set("Unknown"))}function ax(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zc(t).Y_(e)}function wj(t,e){t.Va.Ue(e),Zc(t).Z_(e)}function sx(t){t.Va=new S8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zc(t).start(),t.Ra.ua()}function ox(t){return su(t)&&!Zc(t).x_()&&t.Ia.size>0}function su(t){return Ue(t).Ea.size===0}function Ej(t){t.Va=void 0}async function k7(t){t.Ra.set("Online")}async function j7(t){t.Ia.forEach(((e,n)=>{ax(t,e)}))}async function V7(t,e){Ej(t),ox(t)?(t.Ra.ha(e),sx(t)):t.Ra.set("Unknown")}async function L7(t,e,n){if(t.Ra.set("Online"),e instanceof Bk&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){de(Kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ug(t,r)}else if(e instanceof dg?t.Va.Ze(e):e instanceof zk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const r=await gj(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=s.Ia.get(d);m&&s.Ia.set(d,m.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,d)=>{const m=s.Ia.get(f);if(!m)return;s.Ia.set(f,m.withResumeToken(mn.EMPTY_BYTE_STRING,m.snapshotVersion)),wj(s,f);const p=new Fa(m.target,f,d,m.sequenceNumber);ax(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){de(Kl,"Failed to raise snapshot:",r),await Ug(t,r)}}async function Ug(t,e,n){if(!Ro(e))throw e;t.Ea.add(1),await Cd(t),t.Ra.set("Offline"),n||(n=()=>gj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Kl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await av(t)}))}function xj(t,e){return e().catch((n=>Ug(t,n,e)))}async function Od(t){const e=Ue(t),n=To(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cl;for(;z7(e);)try{const i=await _7(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,B7(e,i)}catch(i){await Ug(e,i)}Tj(e)&&Aj(e)}function z7(t){return su(t)&&t.Ta.length<10}function B7(t,e){t.Ta.push(e);const n=To(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Tj(t){return su(t)&&!To(t).x_()&&t.Ta.length>0}function Aj(t){To(t).start()}async function U7(t){To(t).ra()}async function $7(t){const e=To(t);for(const n of t.Ta)e.ea(n.mutations)}async function q7(t,e,n){const r=t.Ta.shift(),i=GE.from(r,e,n);await xj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Od(t)}async function F7(t,e){e&&To(t).X_&&await(async function(r,i){if((function(l){return x8(l)&&l!==se.ABORTED})(i.code)){const s=r.Ta.shift();To(r).B_(),await xj(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Od(r)}})(t,e),Tj(t)&&Aj(t)}async function PO(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),de(Kl,"RemoteStore received new credentials");const r=su(n);n.Ea.add(3),await Cd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await av(n)}async function H7(t,e){const n=Ue(t);e?(n.Ea.delete(2),await av(n)):e||(n.Ea.add(2),await Cd(n),n.Ra.set("Unknown"))}function Zc(t){return t.ma||(t.ma=(function(n,r,i){const s=Ue(n);return s.sa(),new O7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:k7.bind(null,t),t_:j7.bind(null,t),r_:V7.bind(null,t),H_:L7.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ox(t)?sx(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ej(t))}))),t.ma}function To(t){return t.fa||(t.fa=(function(n,r,i){const s=Ue(n);return s.sa(),new R7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:U7.bind(null,t),r_:F7.bind(null,t),ta:$7.bind(null,t),na:q7.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Od(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Kl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new lx(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ux(t,e){if(or("AsyncQueue",`${e}: ${t}`),Ro(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{static emptySet(e){return new dc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Oh(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.ga=new kt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class kc{constructor(e,n,r,i,s,l,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new kc(e,n,dc.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class G7{constructor(){this.queries=DO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),s=i.queries;i.queries=DO(),s.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function DO(){return new ls((t=>Tk(t)),Qy)}async function cx(t,e){const n=Ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new K7,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=ux(l,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&hx(n)}async function fx(t,e){const n=Ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Y7(t,e){const n=Ue(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&hx(n)}function W7(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function hx(t){t.Ca.forEach((e=>{e.next()}))}var Tw,MO;(MO=Tw||(Tw={})).Ma="default",MO.Cache="cache";class dx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.key=e}}class Ij{constructor(e){this.key=e}}class Q7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Ak(e),this.tu=new dc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new NO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const v=i.get(m),_=Sd(this.query,p)?p:null,x=!!v&&this.mutatedKeys.has(v.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;v&&_?v.data.isEqual(_.data)?x!==E&&(r.track({type:3,doc:_}),T=!0):this.su(v,_)||(r.track({type:2,doc:_}),T=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),T=!0):v&&!_&&(r.track({type:1,doc:v}),T=!0,(f||d)&&(c=!0)),T&&(_?(l=l.add(_),s=E?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(_,x){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:T})}};return E(_)-E(x)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new kc(this.query,e.tu,s,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Ij(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Sj(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mx="SyncEngine";class X7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Z7{constructor(e){this.key=e,this.hu=!1}}class J7{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ls((c=>Tk(c)),Qy),this.Iu=new Map,this.Eu=new Set,this.du=new kt(_e.comparator),this.Au=new Map,this.Ru=new JE,this.Vu={},this.mu=new Map,this.fu=Hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e$(t,e,n=!0){const r=Dj(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Cj(r,e,n,!0),i}async function t$(t,e){const n=Dj(t);await Cj(n,e,!0,!1)}async function Cj(t,e,n,r){const i=await w7(t.localStore,hi(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await n$(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&_j(t.remoteStore,i),c}async function n$(t,e,n,r,i){t.pu=(p,v,_)=>(async function(E,T,O,M){let P=T.view.ru(O);P.Cs&&(P=await SO(E.localStore,T.query,!1).then((({documents:R})=>T.view.ru(R,P))));const $=M&&M.targetChanges.get(T.targetId),B=M&&M.targetMismatches.get(T.targetId)!=null,q=T.view.applyChanges(P,E.isPrimaryClient,$,B);return jO(E,T.targetId,q.au),q.snapshot})(t,p,v,_);const s=await SO(t.localStore,e,!0),l=new Q7(e,s.Qs),c=l.ru(s.documents),f=Id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(c,t.isPrimaryClient,f);jO(t,n,d.au);const m=new X7(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function r$(t,e,n){const r=Ue(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Qy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ew(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ix(r.remoteStore,i.targetId),Aw(r,i.targetId)})).catch(au)):(Aw(r,i.targetId),await Ew(r.localStore,i.targetId,!0))}async function i$(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ix(n.remoteStore,r.targetId))}async function a$(t,e,n){const r=Mj(t);try{const i=await(function(l,c){const f=Ue(l),d=Ke.now(),m=c.reduce(((_,x)=>_.add(x.key)),Ge());let p,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let x=Lr(),E=Ge();return f.Ns.getEntries(_,m).next((T=>{x=T,x.forEach(((O,M)=>{M.isValidDocument()||(E=E.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,x))).next((T=>{p=T;const O=[];for(const M of c){const P=w8(M,p.get(M.key).overlayedDocument);P!=null&&O.push(new us(M.key,P,pk(P.value.mapValue),Hn.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,O,c)})).next((T=>{v=T;const O=T.applyToLocalDocumentSet(p,E);return f.documentOverlayCache.saveOverlays(_,T.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:Ik(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new kt(Be)),d=d.insert(c,f),l.Vu[l.currentUser.toKey()]=d})(r,i.batchId,n),await Rd(r,i.changes),await Od(r.remoteStore)}catch(i){const s=ux(i,"Failed to persist write");n.reject(s)}}async function Oj(t,e){const n=Ue(t);try{const r=await v7(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Oe(l.hu,14607):i.removedDocuments.size>0&&(Oe(l.hu,42227),l.hu=!1))})),await Rd(n,r,e)}catch(r){await au(r)}}function kO(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=Ue(l);f.onlineState=c;let d=!1;f.queries.forEach(((m,p)=>{for(const v of p.Sa)v.va(c)&&(d=!0)})),d&&hx(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s$(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new kt(_e.comparator);l=l.insert(s,qt.newNoDocument(s,Me.min()));const c=Ge().add(s),f=new ev(Me.min(),new Map,new kt(Be),l,c);await Oj(r,f),r.du=r.du.remove(s),r.Au.delete(e),px(r)}else await Ew(r.localStore,e,!1).then((()=>Aw(r,e,n))).catch(au)}async function o$(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await y7(n.localStore,e);Pj(n,r,null),Rj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rd(n,i)}catch(i){await au(i)}}async function l$(t,e,n){const r=Ue(t);try{const i=await(function(l,c){const f=Ue(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,c).next((p=>(Oe(p!==null,37113),m=p.keys(),f.mutationQueue.removeMutationBatch(d,p)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);Pj(r,e,n),Rj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rd(r,i)}catch(i){await au(i)}}function Rj(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Pj(t,e,n){const r=Ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Aw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Nj(t,r)}))}function Nj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ix(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),px(t))}function jO(t,e,n){for(const r of n)r instanceof Sj?(t.Ru.addReference(r.key,e),u$(t,r)):r instanceof Ij?(de(mx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Nj(t,r.key)):Ie(19791,{wu:r})}function u$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(de(mx,"New document in limbo: "+n),t.Eu.add(r),px(t))}function px(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(ft.fromString(e)),r=t.fu.next();t.Au.set(r,new Z7(n)),t.du=t.du.insert(n,r),_j(t.remoteStore,new Fa(hi(Ad(n.path)),r,"TargetPurposeLimboResolution",ci.ce))}}async function Rd(t,e,n){const r=Ue(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){i.push(d);const m=nx.As(f.targetId,d);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,d){const m=Ue(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>X.forEach(d,(v=>X.forEach(v.Es,(_=>m.persistence.referenceDelegate.addReference(p,v.targetId,_))).next((()=>X.forEach(v.ds,(_=>m.persistence.referenceDelegate.removeReference(p,v.targetId,_)))))))))}catch(p){if(!Ro(p))throw p;de(rx,"Failed to update sequence numbers: "+p)}for(const p of d){const v=p.targetId;if(!p.fromCache){const _=m.Ms.get(v),x=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(x);m.Ms=m.Ms.insert(v,E)}}})(r.localStore,s))}async function c$(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){de(mx,"User change. New user:",e.toKey());const r=await pj(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new ye(se.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rd(n,r.Ls)}}function f$(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let i=Ge();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function Dj(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Oj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s$.bind(null,e),e.Pu.H_=Y7.bind(null,e.eventManager),e.Pu.yu=W7.bind(null,e.eventManager),e}function Mj(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l$.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=iv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mj(this.persistence,new dj,e.initialUser,this.serializer)}Cu(e){return new ex(rv.mi,this.serializer)}Du(e){return new yj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class h$ extends od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof Bg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new ex((r=>Bg.mi(r,n)),this.serializer)}}class d$ extends od{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Mj(this.xu.syncEngine),await Od(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return mj(this.persistence,new dj,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new lj(r,e.asyncQueue,n)}Mu(e,n){const r=new wU(n,this.persistence);return new _U(e.asyncQueue,r)}Cu(e){const n=d7(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new tx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,C7(),pg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new yj}}class $g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c$.bind(null,this.syncEngine),await H7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G7})()}createDatastore(e){const n=iv(e.databaseInfo.databaseId),r=(function(s){return new I7(s)})(e.databaseInfo);return(function(s,l,c,f){return new N7(s,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new M7(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>kO(this.syncEngine,n,0)),(function(){return OO.v()?new OO:new x7})())}createSyncEngine(e,n){return(function(i,s,l,c,f,d,m){const p=new J7(i,s,l,c,f,d);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ue(n);de(Kl,"RemoteStore shutting down."),r.Ea.add(5),await Cd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$g.provider={build:()=>new $g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class m${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=DE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{de(Ao,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(Ao,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ux(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function y_(t,e){t.asyncQueue.verifyOperationInProgress(),de(Ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await pj(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function VO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await p$(t);de(Ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>PO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>PO(e.remoteStore,i))),t._onlineComponents=e}async function p$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Ao,"Using user provided OfflineComponentProvider");try{await y_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;_c("Error using user provided cache. Falling back to memory cache: "+n),await y_(t,new od)}}else de(Ao,"Using default OfflineComponentProvider"),await y_(t,new h$(void 0));return t._offlineComponents}async function kj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Ao,"Using user provided OnlineComponentProvider"),await VO(t,t._uninitializedComponentsProvider._online)):(de(Ao,"Using default OnlineComponentProvider"),await VO(t,new $g))),t._onlineComponents}function g$(t){return kj(t).then((e=>e.syncEngine))}async function qg(t){const e=await kj(t),n=e.eventManager;return n.onListen=e$.bind(null,e.syncEngine),n.onUnlisten=r$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i$.bind(null,e.syncEngine),n}function y$(t,e,n={}){const r=new ua;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,d){const m=new gx({next:v=>{m.Nu(),l.enqueueAndForget((()=>fx(s,p)));const _=v.docs.has(c);!_&&v.fromCache?d.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&f&&f.source==="server"?d.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new dx(Ad(c.path),m,{includeMetadataChanges:!0,qa:!0});return cx(s,p)})(await qg(t),t.asyncQueue,e,n,r))),r.promise}function v$(t,e,n={}){const r=new ua;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,d){const m=new gx({next:v=>{m.Nu(),l.enqueueAndForget((()=>fx(s,p))),v.fromCache&&f.source==="server"?d.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new dx(c,m,{includeMetadataChanges:!0,qa:!0});return cx(s,p)})(await qg(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="firestore.googleapis.com",zO=!0;class BO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vj,this.ssl=zO}else this.host=e.host,this.ssl=e.ssl??zO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oj)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jj(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aU;switch(r.type){case"firstParty":return new uU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=LO.get(n);r&&(de("ComponentProvider","Removing Datastore"),LO.delete(n),r.terminate())})(this),Promise.resolve()}}function b$(t,e,n,r={}){t=zr(t,sv);const i=iu(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(OE(`https://${c}`),TM("Firestore",!0)),s.host!==Vj&&s.host!==c&&_c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!wo(f,l)&&(t._setSettings(f),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Un.MOCK_USER;else{d=kz(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Un(p)}t._authCredentials=new sU(new $M(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ed(n,Ft._jsonSchema))return new Ft(e,r||null,new _e(ft.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:cn("string",Ft._jsonSchemaVersion),referencePath:cn("string")};class yo extends cs{constructor(e,n,r){super(e,n,Ad(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new _e(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Pl(t,e,...n){if(t=dn(t),FM("collection","path",e),t instanceof sv){const r=ft.fromString(e,...n);return RC(r),new yo(t,null,r)}{if(!(t instanceof Ft||t instanceof yo))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return RC(r),new yo(t.firestore,null,r)}}function Lt(t,e,...n){if(t=dn(t),arguments.length===1&&(e=DE.newId()),FM("doc","path",e),t instanceof sv){const r=ft.fromString(e,...n);return OC(r),new Ft(t,null,new _e(r))}{if(!(t instanceof Ft||t instanceof yo))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return OC(r),new Ft(t.firestore,t instanceof yo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="AsyncQueue";class $O{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vj(this,"async_queue_retry"),this._c=()=>{const r=pg();r&&de(UO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;de(UO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",qO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=lx.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ie(47125,{Pc:qO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class So extends sv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $O,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $O(e),this._firestoreClient=void 0,await e}}}function _$(t,e,n){n||(n=nd);const r=Uy(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(wo(s,e))return i;throw new ye(se.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ye(se.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oj)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&iu(e.host)&&OE(e.host),r.initialize({options:e,instanceIdentifier:n})}function w$(t,e){const n=typeof t=="object"?t:NM(),r=typeof t=="string"?t:nd,i=Uy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Dz("firestore");s&&b$(i,...s)}return i}function Pd(t){if(t._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E$(t),t._firestoreClient}function E$(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new QU(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,jj(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new m$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(mn.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ui(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ed(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:cn("string",ui._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ca._jsonSchemaVersion}}static fromJSON(e){if(Ed(e,ca._jsonSchema))return new ca(e.latitude,e.longitude)}}ca._jsonSchemaVersion="firestore/geoPoint/1.0",ca._jsonSchema={type:cn("string",ca._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ed(e,fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fa(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fa._jsonSchemaVersion="firestore/vectorValue/1.0",fa._jsonSchema={type:cn("string",fa._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=/^__.*__$/;class T${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}class Lj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:t})}}class yx{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zj(this.Ac)&&x$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||iv(e)}Cc(e,n,r,i=!1){return new yx({Ac:e,methodName:n,Dc:r,path:Vt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ov(t){const e=t._freezeSettings(),n=iv(t._databaseId);return new A$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bj(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);_x("Data must be an object, but it was:",l,r);const c=qj(r,l);let f,d;if(s.merge)f=new br(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const v=Sw(e,p,n);if(!l.contains(v))throw new ye(se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Hj(m,v)||m.push(v)}f=new br(m),d=l.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,d=l.fieldTransforms;return new T$(new Zn(c),f,d)}class lv extends Dd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lv}}class vx extends Dd{_toFieldTransform(e){return new HE(e.path,new Rc)}isEqual(e){return e instanceof vx}}class bx extends Dd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Dc(e.serializer,Rk(e.serializer,this.Fc));return new HE(e.path,n)}isEqual(e){return e instanceof bx&&this.Fc===e.Fc}}function Uj(t,e,n,r){const i=t.Cc(1,e,n);_x("Data must be an object, but it was:",i,r);const s=[],l=Zn.empty();Po(r,((f,d)=>{const m=wx(e,f,n);d=dn(d);const p=i.yc(m);if(d instanceof lv)s.push(m);else{const v=Md(d,p);v!=null&&(s.push(m),l.set(m,v))}}));const c=new br(s);return new Lj(l,c,i.fieldTransforms)}function $j(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[Sw(e,r,n)],f=[i];if(s.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(Sw(e,s[v])),f.push(s[v+1]);const d=[],m=Zn.empty();for(let v=c.length-1;v>=0;--v)if(!Hj(d,c[v])){const _=c[v];let x=f[v];x=dn(x);const E=l.yc(_);if(x instanceof lv)d.push(_);else{const T=Md(x,E);T!=null&&(d.push(_),m.set(_,T))}}const p=new br(d);return new Lj(m,p,l.fieldTransforms)}function S$(t,e,n,r=!1){return Md(n,t.Cc(r?4:3,e))}function Md(t,e){if(Fj(t=dn(t)))return _x("Unsupported field value:",e,t),qj(t,e);if(t instanceof Dd)return(function(r,i){if(!zj(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let f=Md(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ke.fromDate(r);return{timestampValue:Mc(i.serializer,s)}}if(r instanceof Ke){const s=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mc(i.serializer,s)}}if(r instanceof ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ui)return{bytesValue:Uk(i.serializer,r._byteString)};if(r instanceof Ft){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:QE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fa)return(function(l,c){return{mapValue:{fields:{[UE]:{stringValue:$E},[Sc]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return FE(c.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${$y(r)}`)})(t,e)}function qj(t,e){const n={};return sk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,((r,i)=>{const s=Md(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Fj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof ca||t instanceof ui||t instanceof Ft||t instanceof Dd||t instanceof fa)}function _x(t,e,n){if(!Fj(n)||!HM(n)){const r=$y(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Sw(t,e,n){if((e=dn(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return wx(t,e);throw Fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const I$=new RegExp("[~\\*/\\[\\]]");function wx(t,e,n){if(e.search(I$)>=0)throw Fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nd(...e.split("."))._internalPath}catch{throw Fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ye(se.INVALID_ARGUMENT,c+t+f)}function Hj(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C$ extends Kj{data(){return super.data()}}function uv(t,e){return typeof e=="string"?wx(t,e):e instanceof Nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ex{}class xx extends Ex{}function Nh(t,e,...n){let r=[];e instanceof Ex&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof Tx)).length,c=s.filter((f=>f instanceof cv)).length;if(l>1||l>0&&c>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class cv extends xx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cv(e,n,r)}_apply(e){const n=this._parse(e);return Wj(e._query,n),new cs(e.firestore,e.converter,mw(e._query,n))}_parse(e){const n=ov(e.firestore);return(function(s,l,c,f,d,m,p){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){KO(p,m);const x=[];for(const E of p)x.push(HO(f,s,E));v={arrayValue:{values:x}}}else v=HO(f,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||KO(p,m),v=S$(c,l,p,m==="in"||m==="not-in");return tt.create(d,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yj(t,e,n){const r=e,i=uv("where",t);return cv._create(i,r,n)}class Tx extends Ex{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tx(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:gt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const f of c)Wj(l,f),l=mw(l,f)})(e._query,n),new cs(e.firestore,e.converter,mw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ax extends xx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ax(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sd(s,l)})(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new Qc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function O$(t,e="asc"){const n=e,r=uv("orderBy",t);return Ax._create(r,n)}class Sx extends xx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Sx(e,n,r)}_apply(e){return new cs(e.firestore,e.converter,Mg(e._query,this._limit,this._limitType))}}function R$(t){return gU("limit",t),Sx._create("limit",t,"F")}function HO(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xk(e)&&n.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!_e.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return id(t,new _e(r))}if(n instanceof Ft)return id(t,n._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$y(n)}.`)}function KO(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wj(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P${convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Po(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Sc].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new fa(n)}convertGeoPoint(e){return new ca(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const n=Za(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Oe(Xk(r),9688,{name:e});const i=new Ul(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nl extends Kj{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nl._jsonSchema={type:cn("string",Nl._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class gg extends Nl{data(e={}){return super.data(e)}}class Dl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Dh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new gg(this._firestore,this._userDataWriter,r.key,r,new Dh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new gg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Dh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new gg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Dh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:N$(c.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=DE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function N$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){t=zr(t,Ft);const e=zr(t.firestore,So);return y$(Pd(e),t._key).then((n=>Jj(e,t,n)))}Dl._jsonSchemaVersion="firestore/querySnapshot/1.0",Dl._jsonSchema={type:cn("string",Dl._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class Ix extends P${constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function yg(t){t=zr(t,cs);const e=zr(t.firestore,So),n=Pd(e),r=new Ix(e);return Gj(t._query),v$(n,t._query).then((i=>new Dl(e,r,t,i)))}function Xj(t,e,n){t=zr(t,Ft);const r=zr(t.firestore,So),i=Qj(t.converter,e,n);return Ox(r,[Bj(ov(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hn.none())])}function Cx(t,e,n,...r){t=zr(t,Ft);const i=zr(t.firestore,So),s=ov(i);let l;return l=typeof(e=dn(e))=="string"||e instanceof Nd?$j(s,"updateDoc",t._key,e,n,r):Uj(s,"updateDoc",t._key,e),Ox(i,[l.toMutation(t._key,Hn.exists(!0))])}function Zj(t,...e){t=dn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||FO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(FO(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,l,c;if(t instanceof Ft)l=zr(t.firestore,So),c=Ad(t._key.path),s={next:f=>{e[r]&&e[r](Jj(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=zr(t,cs);l=zr(f.firestore,So),c=f._query;const d=new Ix(l);s={next:m=>{e[r]&&e[r](new Dl(l,d,f,m))},error:e[r+1],complete:e[r+2]},Gj(t._query)}return(function(d,m,p,v){const _=new gx(v),x=new dx(m,_,p);return d.asyncQueue.enqueueAndForget((async()=>cx(await qg(d),x))),()=>{_.Nu(),d.asyncQueue.enqueueAndForget((async()=>fx(await qg(d),x)))}})(Pd(l),c,i,s)}function Ox(t,e){return(function(r,i){const s=new ua;return r.asyncQueue.enqueueAndForget((async()=>a$(await g$(r),i,s))),s.promise})(Pd(t),e)}function Jj(t,e,n){const r=n.docs.get(e._key),i=new Ix(t);return new Nl(t,i,e._key,r,new Dh(n.hasPendingWrites,n.fromCache),e.converter)}class D${constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=j$(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function M$(t){return new D$(t)}class k${constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=$g.provider,this._offlineComponentProvider={build:n=>new d$(n,e?.cacheSizeBytes,this.forceOwnership)}}}function j$(t){return new k$(t?.forceOwnership)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ov(e)}set(e,n,r){this._verifyNotCommitted();const i=v_(e,this._firestore),s=Qj(i.converter,n,r),l=Bj(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Hn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=v_(e,this._firestore);let l;return l=typeof(n=dn(n))=="string"||n instanceof Nd?$j(this._dataReader,"WriteBatch.update",s._key,n,r,i):Uj(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=v_(e,this._firestore);return this._mutations=this._mutations.concat(new Jy(n._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function v_(t,e){if((t=dn(t)).firestore!==e)throw new ye(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function jc(){return new vx("serverTimestamp")}function Gl(t){return new bx("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){return Pd(t=zr(t,So)),new V$(t,(e=>Ox(t,e)))}(function(e,n=!0){(function(i){Wc=i})(Yc),bc(new zl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new So(new oU(r.getProvider("auth-internal")),new cU(l,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(d.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),mo(AC,SC,e),mo(AC,SC,"esm2020")})();var L$="firebase",z$="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo(L$,z$,"app");function e4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B$=e4,t4=new _d("auth","Firebase",e4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=new RE("@firebase/auth");function U$(t,...e){Kg.logLevel<=et.WARN&&Kg.warn(`Auth (${Yc}): ${t}`,...e)}function vg(t,...e){Kg.logLevel<=et.ERROR&&Kg.error(`Auth (${Yc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,...e){throw Px(t,...e)}function Mi(t,...e){return Px(t,...e)}function Rx(t,e,n){const r={...B$(),[e]:n};return new _d("auth","Firebase",r).create(e,{appName:t.name})}function vo(t){return Rx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pa(t,"argument-error"),Rx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Px(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t4.create(t,...e)}function ze(t,e,...n){if(!t)throw Px(e,...n)}function Ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vg(e),new Error(e)}function es(t,e){t||Ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof self<"u"&&self.location?.href||""}function q$(){return GO()==="http:"||GO()==="https:"}function GO(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q$()||Bz()||"connection"in navigator)?navigator.onLine:!0}function H$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=Lz()||Uz()}get(){return F$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y$=new kd(3e4,6e4);function fv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jc(t,e,n,r,i={}){return r4(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=wd({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...s};return zz()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&iu(t.emulatorConfig.host)&&(d.credentials="include"),n4.fetch()(await a4(t,t.config.apiHost,n,c),d)})}async function r4(t,e,n){t._canInitEmulator=!1;const r={...K$,...e};try{const i=new W$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Bp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Bp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Bp(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Rx(t,m,d);pa(t,m)}}catch(i){if(i instanceof os)throw i;pa(t,"network-request-failed",{message:String(i)})}}async function i4(t,e,n,r,i={}){const s=await Jc(t,e,n,r,i);return"mfaPendingCredential"in s&&pa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function a4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?Nx(t.config,i):`${t.config.apiScheme}://${i}`;return G$.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class W${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),Y$.get())})}}function Bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q$(t,e){return Jc(t,"POST","/v1/accounts:delete",e)}async function Gg(t,e){return Jc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X$(t,e=!1){const n=dn(t),r=await n.getIdToken(e),i=Dx(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Kh(b_(i.auth_time)),issuedAtTime:Kh(b_(i.iat)),expirationTime:Kh(b_(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function b_(t){return Number(t)*1e3}function Dx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=bM(n);return i?JSON.parse(i):(vg("Failed to decode base64 JWT payload"),null)}catch(i){return vg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YO(t){const e=Dx(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof os&&Z$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kh(this.lastLoginAt),this.creationTime=Kh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yg(t){const e=t.auth,n=await t.getIdToken(),r=await ld(t,Gg(e,{idToken:n}));ze(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?s4(i.providerUserInfo):[],l=tq(t.providerData,s),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,d=c?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Cw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function eq(t){const e=dn(t);await Yg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nq(t,e){const n=await r4(t,{},async()=>{const r=wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await a4(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&iu(t.emulatorConfig.host)&&(f.credentials="include"),n4.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rq(t,e){return Jc(t,"POST","/v2/accounts:revokeToken",fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=YO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await nq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new mc;return r&&(ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(ze(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mc,this.toJSON())}_performRefresh(){return Ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new J$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ld(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X$(this,e)}reload(){return eq(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await ld(this,Q$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:_,providerData:x,stsTokenManager:E}=n;ze(p&&E,e,"internal-error");const T=mc.fromJSON(this.name,E);ze(typeof p=="string",e,"internal-error"),eo(r,e.name),eo(i,e.name),ze(typeof v=="boolean",e,"internal-error"),ze(typeof _=="boolean",e,"internal-error"),eo(s,e.name),eo(l,e.name),eo(c,e.name),eo(f,e.name),eo(d,e.name),eo(m,e.name);const O=new Di({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:T,createdAt:d,lastLoginAt:m});return x&&Array.isArray(x)&&(O.providerData=x.map(M=>({...M}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new mc;i.updateFromServerResponse(n);const s=new Di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?s4(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new mc;c.updateFromIdToken(r);const f=new Di({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Cw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Map;function Ka(t){es(t instanceof Function,"Expected a class definition");let e=WO.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}o4.type="NONE";const QO=o4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e,n){return`firebase:${t}:${e}:${n}`}class pc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bg(this.userKey,i.apiKey,s),this.fullPersistenceKey=bg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gg(this.auth,{idToken:e}).catch(()=>{});return n?Di._fromGetAccountInfoResponse(this.auth,n,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pc(Ka(QO),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Ka(QO);const l=bg(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(l);if(m){let p;if(typeof m=="string"){const v=await Gg(e,{idToken:m}).catch(()=>{});if(!v)break;p=await Di._fromGetAccountInfoResponse(e,v,m)}else p=Di._fromJSON(e,m);d!==s&&(c=p),s=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new pc(s,e,r):(s=f[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(l)}catch{}})),new pc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d4(e))return"Blackberry";if(m4(e))return"Webos";if(u4(e))return"Safari";if((e.includes("chrome/")||c4(e))&&!e.includes("edge/"))return"Chrome";if(h4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function l4(t=_n()){return/firefox\//i.test(t)}function u4(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c4(t=_n()){return/crios\//i.test(t)}function f4(t=_n()){return/iemobile/i.test(t)}function h4(t=_n()){return/android/i.test(t)}function d4(t=_n()){return/blackberry/i.test(t)}function m4(t=_n()){return/webos/i.test(t)}function Mx(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iq(t=_n()){return Mx(t)&&!!window.navigator?.standalone}function aq(){return $z()&&document.documentMode===10}function p4(t=_n()){return Mx(t)||h4(t)||m4(t)||d4(t)||/windows phone/i.test(t)||f4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e=[]){let n;switch(t){case"Browser":n=XO(_n());break;case"Worker":n=`${XO(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const f=e(s);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oq(t,e={}){return Jc(t,"GET","/v2/passwordPolicy",fv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=6;class uq{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZO(this),this.idTokenSubscription=new ZO(this),this.beforeStateQueue=new sq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ka(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gg(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(vo(this));const n=e?dn(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ka(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oq(this),n=new uq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _d("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rq(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ka(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await pc.create(this,[Ka(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jd(t){return dn(t)}class ZO{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yz(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fq(t){kx=t}function hq(t){return kx.loadJS(t)}function dq(){return kx.gapiScript}function mq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(t,e){const n=Uy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(wo(s,e??{}))return i;pa(i,"already-initialized")}return n.initialize({options:e})}function gq(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ka);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function yq(t,e,n){const r=jd(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=y4(e),{host:l,port:c}=vq(e),f=c===null?"":`:${c}`,d={url:`${s}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(wo(d,r.config.emulator)&&wo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,iu(l)?(OE(`${s}//${l}${f}`),TM("Auth",!0)):bq()}function y4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vq(t){const e=y4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:JO(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:JO(l)}}}function JO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ha("not implemented")}_getIdTokenResponse(e){return Ha("not implemented")}_linkToIdToken(e,n){return Ha("not implemented")}_getReauthenticationResolver(e){return Ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t,e){return i4(t,"POST","/v1/accounts:signInWithIdp",fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="http://localhost";class Yl extends v4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Yl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return gc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gc(e,n)}buildRequest(){const e={requestUri:_q,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends jx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Vd{constructor(){super("facebook.com")}static credential(e){return Yl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yl._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ua.credential(n,r)}catch{return null}}}Ua.GOOGLE_SIGN_IN_METHOD="google.com";Ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Vd{constructor(){super("github.com")}static credential(e){return Yl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Vd{constructor(){super("twitter.com")}static credential(e,n){return Yl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return so.credential(n,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Di._fromIdTokenResponse(e,r,i),l=eR(r);return new Wl({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eR(r);return new Wl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends os{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wg(e,n,r,i)}}function b4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wg._fromErrorAndOperation(t,s,e,r):s})}async function wq(t,e,n=!1){const r=await ld(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(t,e,n=!1){const{auth:r}=t;if(li(r.app))return Promise.reject(vo(r));const i="reauthenticate";try{const s=await ld(t,b4(r,i,e,t),n);ze(s.idToken,r,"internal-error");const l=Dx(s.idToken);ze(l,r,"internal-error");const{sub:c}=l;return ze(t.uid===c,r,"user-mismatch"),Wl._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&pa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xq(t,e,n=!1){if(li(t.app))return Promise.reject(vo(t));const r="signIn",i=await b4(t,r,e),s=await Wl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(t,e){return i4(t,"POST","/v1/accounts:signInWithCustomToken",fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aq(t,e){if(li(t.app))return Promise.reject(vo(t));const n=jd(t),r=await Tq(n,{token:e,returnSecureToken:!0}),i=await Wl._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function Sq(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function Iq(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function Cq(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function Oq(t){return dn(t).signOut()}const Qg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qg,"1"),this.storage.removeItem(Qg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=1e3,Pq=10;class w4 extends _4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);aq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Pq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Rq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w4.type="LOCAL";const Nq=w4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4 extends _4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E4.type="SESSION";const x4=E4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async d=>d(n.origin,s)),f=await Dq(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,f)=>{const d=Vx("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return window}function kq(t){ha().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){return typeof ha().WorkerGlobalScope<"u"&&typeof ha().importScripts=="function"}async function jq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vq(){return navigator?.serviceWorker?.controller||null}function Lq(){return T4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="firebaseLocalStorageDb",zq=1,Xg="firebaseLocalStorage",S4="fbase_key";class Ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dv(t,e){return t.transaction([Xg],e?"readwrite":"readonly").objectStore(Xg)}function Bq(){const t=indexedDB.deleteDatabase(A4);return new Ld(t).toPromise()}function Ow(){const t=indexedDB.open(A4,zq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xg,{keyPath:S4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xg)?e(r):(r.close(),await Bq(),e(await Ow()))})})}async function tR(t,e,n){const r=dv(t,!0).put({[S4]:e,value:n});return new Ld(r).toPromise()}async function Uq(t,e){const n=dv(t,!1).get(e),r=await new Ld(n).toPromise();return r===void 0?null:r.value}function nR(t,e){const n=dv(t,!0).delete(e);return new Ld(n).toPromise()}const $q=800,qq=3;class I4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ow(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hv._getInstance(Lq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jq(),!this.activeServiceWorker)return;this.sender=new Mq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Vq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ow();return await tR(e,Qg,"1"),await nR(e,Qg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Uq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dv(i,!1).getAll();return new Ld(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$q)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I4.type="LOCAL";const Fq=I4;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e){return e?Ka(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends v4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hq(t){return xq(t.auth,new Lx(t),t.bypassAuthState)}function Kq(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),Eq(n,new Lx(t),t.bypassAuthState)}async function Gq(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),wq(n,new Lx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hq;case"linkViaPopup":case"linkViaRedirect":return Gq;case"reauthViaPopup":case"reauthViaRedirect":return Kq;default:pa(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=new kd(2e3,1e4);async function Wq(t,e,n){if(li(t.app))return Promise.reject(Mi(t,"operation-not-supported-in-this-environment"));const r=jd(t);$$(t,e,jx);const i=C4(r,n);return new xl(r,"signInViaPopup",e,i).executeNotNull()}class xl extends O4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Vx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yq.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="pendingRedirect",_g=new Map;class Xq extends O4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_g.get(this.auth._key());if(!e){try{const r=await Zq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_g.set(this.auth._key(),e)}return this.bypassAuthState||_g.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zq(t,e){const n=tF(e),r=eF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Jq(t,e){_g.set(t._key(),e)}function eF(t){return Ka(t._redirectPersistence)}function tF(t){return bg(Qq,t.config.apiKey,t.name)}async function nF(t,e,n=!1){if(li(t.app))return Promise.reject(vo(t));const r=jd(t),i=C4(r,e),l=await new Xq(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=600*1e3;class iF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!R4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rF&&this.cachedEventUids.clear(),this.cachedEventUids.has(rR(e))}saveEventToCache(e){this.cachedEventUids.add(rR(e)),this.lastProcessedEventTime=Date.now()}}function rR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function R4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e={}){return Jc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lF=/^https?/;async function uF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sF(t);for(const n of e)try{if(cF(n))return}catch{}pa(t,"unauthorized-domain")}function cF(t){const e=Iw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!lF.test(n))return!1;if(oF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=new kd(3e4,6e4);function iR(){const t=ha().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hF(t){return new Promise((e,n)=>{function r(){iR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iR(),n(Mi(t,"network-request-failed"))},timeout:fF.get()})}if(ha().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ha().gapi?.load)r();else{const i=mq("iframefcb");return ha()[i]=()=>{gapi.load?r():n(Mi(t,"network-request-failed"))},hq(`${dq()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw wg=null,e})}let wg=null;function dF(t){return wg=wg||hF(t),wg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=new kd(5e3,15e3),pF="__/auth/iframe",gF="emulator/auth/iframe",yF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bF(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nx(e,gF):`https://${t.config.authDomain}/${pF}`,r={apiKey:e.apiKey,appName:t.name,v:Yc},i=vF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wd(r).slice(1)}`}async function _F(t){const e=await dF(t),n=ha().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:bF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Mi(t,"network-request-failed"),c=ha().setTimeout(()=>{s(l)},mF.get());function f(){ha().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EF=500,xF=600,TF="_blank",AF="http://localhost";class aR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SF(t,e,n,r=EF,i=xF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...wF,width:r.toString(),height:i.toString(),top:s,left:l},d=_n().toLowerCase();n&&(c=c4(d)?TF:n),l4(d)&&(e=e||AF,f.scrollbars="yes");const m=Object.entries(f).reduce((v,[_,x])=>`${v}${_}=${x},`,"");if(iq(d)&&c!=="_self")return IF(e||"",c),new aR(null);const p=window.open(e||"",c,m);ze(p,t,"popup-blocked");try{p.focus()}catch{}return new aR(p)}function IF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="__/auth/handler",OF="emulator/auth/handler",RF=encodeURIComponent("fac");async function sR(t,e,n,r,i,s){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yc,eventId:i};if(e instanceof jx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Gz(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Vd){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),d=f?`#${RF}=${encodeURIComponent(f)}`:"";return`${PF(t)}?${wd(c).slice(1)}${d}`}function PF({config:t}){return t.emulator?Nx(t,OF):`https://${t.authDomain}/${CF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="webStorageSupport";class NF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x4,this._completeRedirectFn=nF,this._overrideRedirectResult=Jq}async _openPopup(e,n,r,i){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await sR(e,n,r,Iw(),i);return SF(e,s,Vx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await sR(e,n,r,Iw(),i);return kq(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(es(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _F(e),r=new iF(e);return n.register("authEvent",i=>(ze(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(__,{type:__},i=>{const s=i?.[0]?.[__];s!==void 0&&n(!!s),pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p4()||u4()||Mx()}}const DF=NF;var oR="@firebase/auth",lR="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jF(t){bc(new zl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g4(t)},d=new cq(r,i,s,f);return gq(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bc(new zl("auth-internal",e=>{const n=jd(e.getProvider("auth").getImmediate());return(r=>new MF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(oR,lR,kF(t)),mo(oR,lR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=300,LF=xM("authIdTokenMaxAge")||VF;let uR=null;const zF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LF)return;const i=n?.token;uR!==i&&(uR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BF(t=NM()){const e=Uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pq(t,{popupRedirectResolver:DF,persistence:[Fq,Nq,x4]}),r=xM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=zF(s.toString());Iq(n,l,()=>l(n.currentUser)),Sq(n,c=>l(c))}}const i=wM("auth");return i&&yq(n,`http://${i}`),n}function UF(){return document.getElementsByTagName("head")?.[0]??document}fq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",UF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jF("Browser");const $F={apiKey:"AIzaSyDRAXBINfaepUUJgZDo-0XDwQdTTaNEpIA",authDomain:"pantrypal-4ebee.firebaseapp.com",projectId:"pantrypal-4ebee",storageBucket:"pantrypal-4ebee.firebasestorage.app",messagingSenderId:"266489467931",appId:"1:266489467931:web:11a5d8c7dc6958f03a94be",measurementId:"G-S05F5BZ8T8"},qF=typeof __firebase_config<"u"?__firebase_config:JSON.stringify($F),cR=typeof __initial_auth_token<"u"?__initial_auth_token:null,FF=typeof __app_id<"u"?__app_id:"local-pantrypal-app";let Vc,Up;try{if(Up=JSON.parse(qF),!Up.apiKey||Up.apiKey.startsWith("YOUR_"))throw new Error("Firebase apiKey is missing or still a placeholder. Please check your firebaseConfig.js.");Vc=PM(Up)}catch(t){throw console.error("CRITICAL: Failed to initialize Firebase App. Check config.",t),t}const mv=BF(Vc);let Ye;try{Ye=_$(Vc,{localCache:M$()}),console.log("Firestore offline persistence enabled (using persistentLocalCache).")}catch(t){console.error("Firestore Persistence Error:",t),console.warn("Falling back to in-memory Firestore cache."),Ye=w$(Vc)}const HF=new Ua,KF=async()=>{try{if(!Vc)throw new Error("Firebase App not initialized.");const e=(await Wq(mv,HF)).user;return console.log("Signed in with Google:",e.displayName,e.uid),e}catch(t){throw console.error("Google Sign-In Error:",t.code,t.message),(t.code==="auth/invalid-api-key"||t.message.includes("api-key-not-valid"))&&alert("Configuration Error: The Firebase API Key is invalid. Please check your setup."),t}},GF=async()=>{try{await Oq(mv),console.log("User signed out.")}catch(t){throw console.error("Sign Out Error:",t),t}};let fR=!1;const YF=async()=>{if(!(fR||!Vc))if(fR=!0,cR)try{await Aq(mv,cR),console.log("Firebase Auth: Signed in with custom token.")}catch(t){console.error("Firebase Auth: Custom token sign-in error:",t)}else console.log("Firebase Auth: No custom token found. Waiting for user sign-in or existing session.")},zx=(t,e)=>{const[n,r]=A.useState(null),[i,s]=A.useState(!0),[l,c]=A.useState(null);A.useEffect(()=>{if(!t||!e){s(!1);return}s(!0),c(null);try{const d=Lt(Ye,t,e),m=Zj(d,p=>{p.exists()?r({id:p.id,...p.data()}):r(null),s(!1)},p=>{console.error(`Error fetching document ${t}/${e}:`,p),c(p),s(!1)});return()=>m()}catch(d){console.error(`Error setting up document listener ${t}/${e}:`,d),c(d),s(!1)}},[t,e]);const f=A.useCallback(async(d,m={merge:!1})=>{if(!t||!e)return;const p=Lt(Ye,t,e);try{m.merge?await Xj(p,d,{merge:!0}):await Cx(p,d)}catch(v){throw console.error("Error updating document:",v),v}},[t,e]);return{data:n,isLoading:i,error:l,updateDocument:f}},ba=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(null);return A.useEffect(()=>{let i;return(async()=>{try{await YF(),i=Cq(mv,l=>{r(l),l?console.log("User is signed in with UID:",l.uid):console.log("User is signed out."),e(!0)})}catch(l){console.error("Failed to initialize auth:",l),e(!0)}})(),()=>i&&i()},[]),{isAuthReady:t,user:n,userId:n?.uid,appId:FF}},ic={ocean:{name:"Ocean",css:{"--color-background":"#f0f9ff","--color-text":"#1e293b","--color-text-secondary":"#64748b","--color-primary":"#3b82f6","--color-primary-text":"#ffffff","--color-primary-hover":"#2563eb","--color-glass":"rgba(255, 255, 255, 0.6)","--color-border":"#e2e8f0","--color-input":"rgba(255, 255, 255, 0.8)","--color-icon":"#3b82f6"}},obsidian:{name:"Obsidian",css:{"--color-background":"#1e293b","--color-text":"#e2e8f0","--color-text-secondary":"#94a3b8","--color-primary":"#06b6d4","--color-primary-text":"#0f172a","--color-primary-hover":"#0891b2","--color-glass":"rgba(51, 65, 85, 0.6)","--color-border":"#475569","--color-input":"rgba(51, 65, 85, 0.8)","--color-icon":"#06b6d4"}},sunset:{name:"Sunset",css:{"--color-background":"#fff7ed","--color-text":"#1e293b","--color-text-secondary":"#64748b","--color-primary":"#f97316","--color-primary-text":"#ffffff","--color-primary-hover":"#ea580c","--color-glass":"rgba(255, 255, 255, 0.6)","--color-border":"#e2e8f0","--color-input":"rgba(255, 255, 255, 0.8)","--color-icon":"#f97316"}},midnight:{name:"Midnight",css:{"--color-background":"#111827","--color-text":"#f3f4f6","--color-text-secondary":"#9ca3af","--color-primary":"#ec4899","--color-primary-text":"#ffffff","--color-primary-hover":"#db2777","--color-glass":"rgba(31, 41, 55, 0.6)","--color-border":"#374151","--color-input":"rgba(55, 65, 81, 0.8)","--color-icon":"#ec4899"}},mint:{name:"Mint",css:{"--color-background":"#f0fdf4","--color-text":"#1f2937","--color-text-secondary":"#6b7280","--color-primary":"#10b981","--color-primary-text":"#ffffff","--color-primary-hover":"#059669","--color-glass":"rgba(236, 253, 245, 0.7)","--color-border":"#d1fae5","--color-input":"rgba(255, 255, 255, 0.8)","--color-icon":"#10b981"}},serenity:{name:"Serenity",css:{"--color-background":"#2c2a3e","--color-text":"#e5e7eb","--color-text-secondary":"#a1a1aa","--color-primary":"#a88aac","--color-primary-text":"#1f2937","--color-primary-hover":"#9f7d9f","--color-glass":"rgba(71, 68, 92, 0.6)","--color-border":"#5c5a70","--color-input":"rgba(71, 68, 92, 0.8)","--color-icon":"#a88aac"}},elegance:{name:"Elegance",css:{"--color-background":"#f8f6f4","--color-text":"#3a3633","--color-text-secondary":"#8c8783","--color-primary":"#d1a39a","--color-primary-text":"#3a3633","--color-primary-hover":"#c1938a","--color-glass":"rgba(232, 229, 226, 0.7)","--color-border":"#dcd8d4","--color-input":"rgba(255, 255, 255, 0.9)","--color-icon":"#d1a39a"}},mocha:{name:"Mocha",css:{"--color-background":"#3f322a","--color-text":"#f5f5f4","--color-text-secondary":"#a8a29e","--color-primary":"#d1a39a","--color-primary-text":"#292524","--color-primary-hover":"#c1938a","--color-glass":"rgba(68, 64, 60, 0.6)","--color-border":"#57534e","--color-input":"rgba(68, 64, 60, 0.8)","--color-icon":"#d1a39a"}}},P4=A.createContext(),_a=()=>A.useContext(P4),hR=({children:t})=>{const[e,n]=A.useState("ocean"),{userId:r,appId:i}=ba(),{data:s,updateDocument:l}=zx(r&&i?`artifacts/${i}/users/${r}/profile`:null,r);A.useEffect(()=>{s?.theme&&ic[s.theme]&&n(s.theme)},[s]),A.useEffect(()=>{const d=ic[e]?.css||ic.ocean.css,m=document.documentElement;Object.keys(d).forEach(p=>{m.style.setProperty(p,d[p])})},[e]);const c=async d=>{if(ic[d]&&(n(d),r&&l))try{await l({theme:d},{merge:!0})}catch(m){console.error("Failed to save theme:",m)}},f=A.useMemo(()=>({theme:ic[e],setCurrentTheme:c,themes:ic,themeName:e}),[e]);return I.jsx(P4.Provider,{value:f,children:I.jsx("div",{className:"w-full min-h-screen bg-background text-text font-sans transition-colors duration-300",children:t})})},WF=()=>{const[t,e]=A.useState(navigator.onLine);return A.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dR=t=>{const e=XF(t);return e.charAt(0).toUpperCase()+e.slice(1)},N4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),ZF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},f)=>A.createElement("svg",{ref:f,...JF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:N4("lucide",i),...!s&&!ZF(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,m])=>A.createElement(d,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(eH,{ref:s,iconNode:e,className:N4(`lucide-${QF(dR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=dR(t),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],nH=Le("apple",tH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],iH=Le("arrow-down",rH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],sH=Le("arrow-up",aH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M16.4 13.7A6.5 6.5 0 1 0 6.28 6.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3",key:"cisjcv"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1-2.29 7.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"5byaag"}],["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}]],lH=Le("beef",oH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],D4=Le("calendar",uH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 0 0-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46",key:"rfqxbe"}],["path",{d:"M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z",key:"6b25w4"}],["path",{d:"M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z",key:"fn65lo"}]],fH=Le("carrot",cH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],M4=Le("chart-column",hH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],k4=Le("check",dH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],pH=Le("cookie",mH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"u0tga0"}],["path",{d:"m4 8 16-4",key:"16g0ng"}],["path",{d:"m8.86 6.78-.45-1.81a2 2 0 0 1 1.45-2.43l1.94-.48a2 2 0 0 1 2.43 1.46l.45 1.8",key:"12cejc"}]],yH=Le("cooking-pot",gH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bH=Le("copy",vH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M10.2 18H4.774a1.5 1.5 0 0 1-1.352-.97 11 11 0 0 1 .132-6.487",key:"14kkz9"}],["path",{d:"M18 10.2V4.774a1.5 1.5 0 0 0-.97-1.352 11 11 0 0 0-6.486.132",key:"1g7v07"}],["path",{d:"M18 5a4 3 0 0 1 4 3 2 2 0 0 1-2 2 10 10 0 0 0-5.139 1.42",key:"ratg6b"}],["path",{d:"M5 18a3 4 0 0 0 3 4 2 2 0 0 0 2-2 10 10 0 0 1 1.42-5.14",key:"4454f0"}],["path",{d:"M8.709 2.554a10 10 0 0 0-6.155 6.155 1.5 1.5 0 0 0 .676 1.626l9.807 5.42a2 2 0 0 0 2.718-2.718l-5.42-9.807a1.5 1.5 0 0 0-1.626-.676",key:"qmemie"}]],wH=Le("croissant",_H);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],j4=Le("download",EH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TH=Le("eye",xH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],SH=Le("fish",AH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],V4=Le("funnel",IH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]],OH=Le("glass-water",CH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],mR=Le("hash",RH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M8.62 13.8A2.25 2.25 0 1 1 12 10.836a2.25 2.25 0 1 1 3.38 2.966l-2.626 2.856a.998.998 0 0 1-1.507 0z",key:"n9s7kx"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],NH=Le("house-heart",PH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Bx=Le("info",DH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],L4=Le("layout-dashboard",MH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],z4=Le("leaf",kH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],VH=Le("list-checks",jH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_r=Le("loader-circle",LH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BH=Le("log-out",zH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]],$H=Le("milk",UH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M5 12h14",key:"1ays0h"}]],pR=Le("minus",qH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],B4=Le("pen",FH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],U4=Le("pencil",HH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ux=Le("plus",KH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$x=Le("save",GH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$4=Le("search",YH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q4=Le("settings",WH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],XH=Le("shopping-basket",QH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],zd=Le("shopping-cart",ZH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],eK=Le("sparkles",JH);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nK=Le("square-check-big",tK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],iK=Le("square-plus",rK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],sK=Le("square",aK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],F4=Le("store",oK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qx=Le("trash-2",lK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],H4=Le("triangle-alert",uK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fK=Le("upload",cK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dK=Le("user",hK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],pK=Le("wheat",mK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yK=Le("wifi-off",gK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],bK=Le("wifi",vK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bd=Le("x",_K),wK=({children:t,currentPage:e,setCurrentPage:n,setIsModalOpen:r})=>{const{theme:i}=_a(),{userId:s}=ba(),l=WF();return I.jsxs("div",{className:"flex w-full min-h-screen",children:[I.jsxs("div",{className:"hidden md:flex md:w-64 flex-shrink-0",children:[" ",I.jsx(EK,{currentPage:e,setCurrentPage:n,userId:s,isOnline:l})]}),I.jsxs("main",{className:"flex-1 p-4 md:p-8 max-h-screen overflow-y-auto pb-24 md:pb-8",children:[" ",t]}),I.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50",children:[" ",I.jsx(xK,{currentPage:e,setCurrentPage:n,setIsModalOpen:r,isOnline:l})]}),I.jsx("div",{className:"hidden md:block fixed bottom-8 right-8 z-40 bg-primary text-primary-text p-4 rounded-full shadow-lg cursor-pointer primary-hover transition-all duration-300 transform hover:scale-110",onClick:()=>r(!0),"aria-label":"Add New Purchase Entry",children:I.jsx(Ux,{size:28})})]})},K4=({isOnline:t})=>I.jsxs("div",{className:`flex items-center gap-1 text-xs ${t?"text-green-600 dark:text-green-400":"text-red-500 dark:text-red-400"}`,children:[t?I.jsx(bK,{size:12}):I.jsx(yK,{size:12}),I.jsx("span",{children:t?"Online":"Offline"})]}),EK=({currentPage:t,setCurrentPage:e,userId:n,isOnline:r})=>I.jsxs("nav",{className:"w-64 min-h-screen bg-glass border-r border-border p-6 flex flex-col justify-between shadow-lg",children:[I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2 mb-10 text-icon cursor-pointer",onClick:()=>e("dashboard"),children:[I.jsx(z4,{size:32}),I.jsx("span",{className:"text-2xl font-bold text-text",children:"PantryPal"})]}),I.jsxs("ul",{className:"space-y-3",children:[I.jsx(co,{label:"Dashboard",icon:L4,isActive:t==="dashboard",onClick:()=>e("dashboard")}),I.jsx(co,{label:"Smart List",icon:zd,isActive:t==="smart-list",onClick:()=>e("smart-list")}),I.jsx(co,{label:"Reports",icon:M4,isActive:t==="reports",onClick:()=>e("reports")}),I.jsx(co,{label:"Settings",icon:q4,isActive:t==="settings",onClick:()=>e("settings")})]})]}),I.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-black/5 dark:bg-white/5",children:[I.jsx("div",{className:"p-2 rounded-full bg-glass border border-border flex-shrink-0",children:I.jsx(dK,{size:20})}),I.jsxs("div",{className:"flex-1 overflow-hidden",children:[I.jsx("span",{className:"text-xs font-medium",children:"User ID"}),I.jsx("p",{className:"text-xs truncate",title:n,children:n||"Loading..."})]}),I.jsx(K4,{isOnline:r})]})]}),xK=({currentPage:t,setCurrentPage:e,setIsModalOpen:n,isOnline:r})=>I.jsxs("nav",{className:"bg-glass/80 backdrop-blur-md border-t border-border flex justify-around items-center p-2 shadow-lg",children:[I.jsx(co,{label:"Dashboard",icon:L4,isActive:t==="dashboard",onClick:()=>e("dashboard"),isMobile:!0}),I.jsx(co,{label:"Smart List",icon:zd,isActive:t==="smart-list",onClick:()=>e("smart-list"),isMobile:!0}),I.jsx("div",{className:"-mt-10 z-[60] bg-primary text-primary-text p-4 rounded-full shadow-lg cursor-pointer primary-hover transition-all duration-300 transform hover:scale-110",onClick:()=>n(!0),"aria-label":"Add New Purchase Entry",children:I.jsx(Ux,{size:32})}),I.jsx(co,{label:"Reports",icon:M4,isActive:t==="reports",onClick:()=>e("reports"),isMobile:!0}),I.jsx(co,{label:"Settings",icon:q4,isActive:t==="settings",onClick:()=>e("settings"),isMobile:!0}),I.jsx("div",{className:"absolute bottom-1 right-1"}),I.jsx(K4,{isOnline:r})]}),co=({label:t,icon:e,isActive:n,onClick:r,isMobile:i})=>i?I.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center p-2 rounded-lg w-16 h-14 ${n?"text-primary":"text-text-secondary hover:text-primary"} transition-colors duration-200`,"aria-label":t,children:[I.jsx(e,{size:22,strokeWidth:n?2.5:2})," ",I.jsx("span",{className:"text-xs font-medium",children:t})]}):I.jsx("li",{children:I.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 p-3 rounded-lg font-medium ${n?"bg-primary text-primary-text shadow-md":"text-text-secondary hover:text-text hover:bg-black/5 dark:hover:bg-white/5"} transition-all duration-200`,children:[I.jsx(e,{size:20}),I.jsx("span",{children:t})]})});let TK={data:""},AK=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||TK},SK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,IK=/\/\*[^]*?\*\/|  +/g,gR=/\n+/g,oo=(t,e)=>{let n="",r="",i="";for(let s in t){let l=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+l+";":r+=s[1]=="f"?oo(l,s):s+"{"+oo(l,s[1]=="k"?"":e)+"}":typeof l=="object"?r+=oo(l,e?e.replace(/([^,])+/g,c=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=oo.p?oo.p(s,l):s+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ba={},G4=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+G4(t[n]);return e}return t},CK=(t,e,n,r,i)=>{let s=G4(t),l=Ba[s]||(Ba[s]=(f=>{let d=0,m=11;for(;d<f.length;)m=101*m+f.charCodeAt(d++)>>>0;return"go"+m})(s));if(!Ba[l]){let f=s!==t?t:(d=>{let m,p,v=[{}];for(;m=SK.exec(d.replace(IK,""));)m[4]?v.shift():m[3]?(p=m[3].replace(gR," ").trim(),v.unshift(v[0][p]=v[0][p]||{})):v[0][m[1]]=m[2].replace(gR," ").trim();return v[0]})(t);Ba[l]=oo(i?{["@keyframes "+l]:f}:f,n?"":"."+l)}let c=n&&Ba.g?Ba.g:null;return n&&(Ba.g=Ba[l]),((f,d,m,p)=>{p?d.data=d.data.replace(p,f):d.data.indexOf(f)===-1&&(d.data=m?f+d.data:d.data+f)})(Ba[l],e,r,c),l},OK=(t,e,n)=>t.reduce((r,i,s)=>{let l=e[s];if(l&&l.call){let c=l(n),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=f?"."+f:c&&typeof c=="object"?c.props?"":oo(c,""):c===!1?"":c}return r+i+(l??"")},"");function pv(t){let e=this||{},n=t.call?t(e.p):t;return CK(n.unshift?n.raw?OK(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,AK(e.target),e.g,e.o,e.k)}let Y4,Rw,Pw;pv.bind({g:1});let ts=pv.bind({k:1});function RK(t,e,n,r){oo.p=e,Y4=t,Rw=n,Pw=r}function No(t,e){let n=this||{};return function(){let r=arguments;function i(s,l){let c=Object.assign({},s),f=c.className||i.className;n.p=Object.assign({theme:Rw&&Rw()},c),n.o=/ *go\d+/.test(f),c.className=pv.apply(n,r)+(f?" "+f:"");let d=t;return t[0]&&(d=c.as||t,delete c.as),Pw&&d[0]&&Pw(c),Y4(d,c)}return i}}var PK=t=>typeof t=="function",Zg=(t,e)=>PK(t)?t(e):t,NK=(()=>{let t=0;return()=>(++t).toString()})(),W4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),DK=20,Fx="default",Q4=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return Q4(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},Eg=[],X4={toasts:[],pausedAt:void 0,settings:{toastLimit:DK}},oa={},Z4=(t,e=Fx)=>{oa[e]=Q4(oa[e]||X4,t),Eg.forEach(([n,r])=>{n===e&&r(oa[e])})},J4=t=>Object.keys(oa).forEach(e=>Z4(t,e)),MK=t=>Object.keys(oa).find(e=>oa[e].toasts.some(n=>n.id===t)),gv=(t=Fx)=>e=>{Z4(e,t)},kK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jK=(t={},e=Fx)=>{let[n,r]=A.useState(oa[e]||X4),i=A.useRef(oa[e]);A.useEffect(()=>(i.current!==oa[e]&&r(oa[e]),Eg.push([e,r]),()=>{let l=Eg.findIndex(([c])=>c===e);l>-1&&Eg.splice(l,1)}),[e]);let s=n.toasts.map(l=>{var c,f,d;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||t?.duration||kK[l.type],style:{...t.style,...(d=t[l.type])==null?void 0:d.style,...l.style}}});return{...n,toasts:s}},VK=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||NK()}),Ud=t=>(e,n)=>{let r=VK(e,t,n);return gv(r.toasterId||MK(r.id))({type:2,toast:r}),r.id},bn=(t,e)=>Ud("blank")(t,e);bn.error=Ud("error");bn.success=Ud("success");bn.loading=Ud("loading");bn.custom=Ud("custom");bn.dismiss=(t,e)=>{let n={type:3,toastId:t};e?gv(e)(n):J4(n)};bn.dismissAll=t=>bn.dismiss(void 0,t);bn.remove=(t,e)=>{let n={type:4,toastId:t};e?gv(e)(n):J4(n)};bn.removeAll=t=>bn.remove(void 0,t);bn.promise=(t,e,n)=>{let r=bn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Zg(e.success,i):void 0;return s?bn.success(s,{id:r,...n,...n?.success}):bn.dismiss(r),i}).catch(i=>{let s=e.error?Zg(e.error,i):void 0;s?bn.error(s,{id:r,...n,...n?.error}):bn.dismiss(r)}),t};var LK=1e3,zK=(t,e="default")=>{let{toasts:n,pausedAt:r}=jK(t,e),i=A.useRef(new Map).current,s=A.useCallback((p,v=LK)=>{if(i.has(p))return;let _=setTimeout(()=>{i.delete(p),l({type:4,toastId:p})},v);i.set(p,_)},[]);A.useEffect(()=>{if(r)return;let p=Date.now(),v=n.map(_=>{if(_.duration===1/0)return;let x=(_.duration||0)+_.pauseDuration-(p-_.createdAt);if(x<0){_.visible&&bn.dismiss(_.id);return}return setTimeout(()=>bn.dismiss(_.id,e),x)});return()=>{v.forEach(_=>_&&clearTimeout(_))}},[n,r,e]);let l=A.useCallback(gv(e),[e]),c=A.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=A.useCallback((p,v)=>{l({type:1,toast:{id:p,height:v}})},[l]),d=A.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=A.useCallback((p,v)=>{let{reverseOrder:_=!1,gutter:x=8,defaultPosition:E}=v||{},T=n.filter(P=>(P.position||E)===(p.position||E)&&P.height),O=T.findIndex(P=>P.id===p.id),M=T.filter((P,$)=>$<O&&P.visible).length;return T.filter(P=>P.visible).slice(..._?[M+1]:[0,M]).reduce((P,$)=>P+($.height||0)+x,0)},[n]);return A.useEffect(()=>{n.forEach(p=>{if(p.dismissed)s(p.id,p.removeDelay);else{let v=i.get(p.id);v&&(clearTimeout(v),i.delete(p.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:f,startPause:c,endPause:d,calculateOffset:m}}},BK=ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,UK=ts`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$K=ts`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qK=No("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${UK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$K} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,FK=ts`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HK=No("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${FK} 1s linear infinite;
`,KK=ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GK=ts`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,YK=No("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WK=No("div")`
  position: absolute;
`,QK=No("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,XK=ts`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZK=No("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${XK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,JK=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?A.createElement(ZK,null,e):e:n==="blank"?null:A.createElement(QK,null,A.createElement(HK,{...r}),n!=="loading"&&A.createElement(WK,null,n==="error"?A.createElement(qK,{...r}):A.createElement(YK,{...r})))},eG=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tG=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,nG="0%{opacity:0;} 100%{opacity:1;}",rG="0%{opacity:1;} 100%{opacity:0;}",iG=No("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aG=No("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sG=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=W4()?[nG,rG]:[eG(n),tG(n)];return{animation:e?`${ts(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ts(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oG=A.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?sG(t.position||e||"top-center",t.visible):{opacity:0},s=A.createElement(JK,{toast:t}),l=A.createElement(aG,{...t.ariaProps},Zg(t.message,t));return A.createElement(iG,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:l}):A.createElement(A.Fragment,null,s,l))});RK(A.createElement);var lG=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=A.useCallback(l=>{if(l){let c=()=>{let f=l.getBoundingClientRect().height;r(t,f)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return A.createElement("div",{ref:s,className:e,style:n},i)},uG=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:W4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},cG=pv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$p=16,fG=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:d}=zK(n,s);return A.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:$p,left:$p,right:$p,bottom:$p,pointerEvents:"none",...l},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(m=>{let p=m.position||e,v=d.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),_=uG(p,v);return A.createElement(lG,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?cG:"",style:_},m.type==="custom"?Zg(m.message,m):i?i(m):A.createElement(oG,{toast:m,position:p}))}))},st=bn;const Qn=t=>t==null?"":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Ml=t=>{if(!t)return"N/A";const e=t?.toDate?t.toDate():t instanceof Date?t:new Date(t);if(isNaN(e))return"Invalid Date";const n=e.getDate(),r=e.toLocaleDateString("en-GB",{month:"long"}),i=e.getFullYear();let s="th";return n===1||n===21||n===31?s="st":n===2||n===22?s="nd":(n===3||n===23)&&(s="rd"),`${n}${s} ${r} ${i}`},hG=t=>{if(!t)return"N/A";const e=new Date,n=t?.toDate?t.toDate():t instanceof Date?t:new Date(t);if(isNaN(n))return"Invalid Date";const r=Math.floor((e-n)/1e3);let i=r/31536e3;return i>1?Math.floor(i)+" years ago":(i=r/2592e3,i>1?Math.floor(i)+" months ago":(i=r/86400,i>1?Math.floor(i)+" days ago":(i=r/3600,i>1?Math.floor(i)+" hours ago":(i=r/60,i>1?Math.floor(i)+" minutes ago":"Just now"))))};function Hx(t){if(typeof t!="string"||!t.match(/^\d{4}-\d{2}-\d{2}$/))return console.warn("Invalid date string, falling back to server timestamp:",t),jc();const e=t.split("-").map(Number),n=new Date(e[0],e[1]-1,e[2]);return isNaN(n.getTime())?(console.warn("Invalid date created, falling back to server timestamp:",t),jc()):Ke.fromDate(n)}const dG=async(t,e,n)=>{if(!e||!n)throw new Error("User or App ID is missing.");const{shopName:r,purchaseDate:i,totalBill:s}=t,l=`/artifacts/${n}/users/${e}/bills`,c=Lt(Pl(Ye,l)),f=Hx(i);return await Xj(c,{shopName:r.trim(),purchaseDate:f,totalBill:s!==""&&!isNaN(parseFloat(s))?parseFloat(s):null,itemCount:0,createdAt:jc(),userId:e}),c.id},mG=async(t,e,n,r)=>{if(!n||!r||!t)throw new Error("Missing ID for bill update.");const{shopName:i,purchaseDate:s,totalBill:l}=e,c=`/artifacts/${r}/users/${n}/bills`,f=Lt(Ye,c,t),d=Hx(s);await Cx(f,{shopName:i.trim(),purchaseDate:d,totalBill:l!==""&&!isNaN(parseFloat(l))?parseFloat(l):null})},pG=async(t,e,n,r,i)=>{if(!r||!i||!e||!t||t.length===0)throw new Error("Missing required data to save items.");const s=Hx(n),l=5,c=500;let f=Io(Ye),d=0;const m=`/artifacts/${i}/users/${r}/purchases`,p=`/artifacts/${i}/users/${r}/unique_items`,v=`/artifacts/${i}/users/${r}/bills`,_=Lt(Ye,v,e),x=t.map(M=>Lt(Ye,p,M.name.trim().toLowerCase())),E=await Promise.all(x.map(M=>Hg(M))),T=new Map;E.forEach(M=>{M.exists()&&T.set(M.id,M.data())});const O=async()=>{await f.commit(),f=Io(Ye),d=0};for(const M of t){const P=Lt(Pl(Ye,m));f.set(P,{billId:e,name:M.name.trim().toLowerCase(),displayName:M.name.trim(),quantity:M.quantity,unit:M.unit,price:M.price,category:M.category,purchaseDate:s,createdAt:jc(),userId:r}),d++;const $=M.name.trim().toLowerCase(),B=Lt(Ye,p,$),R=T.get($)?.priceHistory||[],j=[{price:M.price,date:s},...R].slice(0,l),z={name:$,displayName:M.name.trim(),category:M.category,lastPurchaseDate:s,purchaseCount:Gl(1),priceHistory:j,isMarkedForShopping:!1};f.set(B,z,{merge:!0}),d++,d>=c-1&&await O()}f.update(_,{itemCount:Gl(t.length)}),d++,d>0&&await f.commit()},gG=async(t,e,n,r,i)=>{if(!r||!i||!t||!e||!n)throw new Error("Missing data for item deletion.");const s=Io(Ye),l=`/artifacts/${i}/users/${r}/purchases`,c=Lt(Ye,l,t);s.delete(c);const f=`/artifacts/${i}/users/${r}/bills`,d=Lt(Ye,f,e);s.update(d,{itemCount:Gl(-1)});const m=`/artifacts/${i}/users/${r}/unique_items`,p=n.name.trim().toLowerCase(),v=Lt(Ye,m,p);s.update(v,{purchaseCount:Gl(-1)}),await s.commit()},yG=async(t,e,n,r,i)=>{if(!r||!i||!t||!e||!n)throw new Error("Missing data for item update.");const s=Io(Ye),l=`/artifacts/${i}/users/${r}/purchases`,c=`/artifacts/${i}/users/${r}/unique_items`,f=Lt(Ye,l,t);s.update(f,{name:n.name.trim().toLowerCase(),displayName:n.name.trim(),quantity:n.quantity,unit:n.unit,price:n.price,category:n.category});const d=n.name.trim().toLowerCase(),m=e.name.trim().toLowerCase();if(d!==m){const p=Lt(Ye,c,m);s.update(p,{purchaseCount:Gl(-1)});const v=Lt(Ye,c,d),_=await Hg(v),x=_.exists()?_.data():{};s.set(v,{...x,name:d,displayName:n.name.trim(),category:n.category,purchaseCount:Gl(1)},{merge:!0})}else{const p=Lt(Ye,c,d),v=await Hg(p);if(v.exists()){const _=v.data(),x={};_.displayName!==n.name.trim()&&(x.displayName=n.name.trim()),_.category!==n.category&&(x.category=n.category),Object.keys(x).length>0&&s.update(p,x)}}await s.commit()},vG=async(t,e,n)=>{if(!e||!n||!t)throw new Error("Missing ID for bill deletion.");const r=500;let i=Io(Ye),s=0;const l=async()=>{await i.commit(),i=Io(Ye),s=0,console.log("Committed batch during bill deletion.")},c=async E=>{i.delete(E),s++,s>=r&&await l()},f=`/artifacts/${n}/users/${e}/purchases`,d=Nh(Pl(Ye,f),Yj("billId","==",t)),m=await yg(d),p=new Map;for(const E of m.docs){await c(E.ref);const O=E.data().name?.trim().toLowerCase();O&&p.set(O,(p.get(O)||0)+1)}const v=`/artifacts/${n}/users/${e}/unique_items`;for(const[E,T]of p.entries()){const O=Lt(Ye,v,E);i.update(O,{purchaseCount:Gl(-T)}),s++,s>=r-1&&await l()}const _=`/artifacts/${n}/users/${e}/bills`,x=Lt(Ye,_,t);await c(x),s>0&&(console.log(`Committing final ${s} deletes for bill ${t}`),await i.commit())},bG=async(t,e)=>{if(!t||!e)throw new Error("User or App ID is missing for backup.");const n=`/artifacts/${e}/users/${t}/purchases`,r=`/artifacts/${e}/users/${t}/unique_items`,i=`/artifacts/${e}/users/${t}/bills`,s=`/artifacts/${e}/users/${t}/profile`,l=Lt(Ye,s,t);try{const[c,f,d,m]=await Promise.all([yg(Pl(Ye,n)),yg(Pl(Ye,r)),yg(Pl(Ye,i)),Hg(l)]),p={profile:m.exists()?m.data():null,bills:d.docs.map(M=>({id:M.id,...M.data()})),purchases:c.docs.map(M=>({id:M.id,...M.data()})),unique_items:f.docs.map(M=>({id:M.id,...M.data()}))},_=JSON.stringify(p,(M,P)=>P instanceof Ke?{__datatype__:"timestamp",value:P.toDate().toISOString()}:P,2),x=new Blob([_],{type:"application/json;charset=utf-8"}),E=URL.createObjectURL(x),T=document.createElement("a");T.href=E;const O=new Date().toISOString().split("T")[0];T.download=`pantrypal_backup_${O}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(E)}catch(c){throw console.error("Backup process failed:",c),new Error("Failed to create backup file.")}},_G=async(t,e,n)=>{if(!t||!e||!n)throw new Error("Missing file, user, or app ID for restore.");return new Promise((r,i)=>{const s=new FileReader;s.onload=async l=>{try{const c=l.target.result,d=JSON.parse(c,(E,T)=>{if(T&&typeof T=="object"&&T.type==="firestore/timestamp/1.0"&&typeof T.seconds=="number"&&typeof T.nanoseconds=="number")try{return new Ke(T.seconds,T.nanoseconds)}catch(O){return console.warn(`Error creating Timestamp from seconds/nanos for key "${E}":`,T,O),jc()}if(T&&typeof T=="object"&&T.__datatype__==="timestamp"){const O=new Date(T.value);return isNaN(O)?(console.warn(`Invalid date string encountered for key "${E}":`,T.value),jc()):Ke.fromDate(O)}return T});if(!d||!d.profile&&!d.bills&&!d.purchases&&!d.unique_items)throw new Error("Invalid backup file format. Missing expected data sections.");const m=499;let p=Io(Ye),v=0;const _=async()=>{await p.commit(),p=Io(Ye),v=0,console.log("Committed batch during restore.")},x=async(E,T)=>{const O=Object.entries(T).reduce((M,[P,$])=>($!==void 0&&(M[P]=$),M),{});p.set(E,O),v++,v>=m&&await _()};if(d.profile){const E=`/artifacts/${n}/users/${e}/profile`,T=Lt(Ye,E,e);await x(T,d.profile)}if(d.bills&&Array.isArray(d.bills)){const E=`/artifacts/${n}/users/${e}/bills`;for(const T of d.bills){if(!T.id)continue;const O=Lt(Ye,E,T.id),{id:M,...P}=T;await x(O,P)}}if(d.purchases&&Array.isArray(d.purchases)){const E=`/artifacts/${n}/users/${e}/purchases`;for(const T of d.purchases){if(!T.id)continue;const O=Lt(Ye,E,T.id),{id:M,...P}=T;await x(O,P)}}if(d.unique_items&&Array.isArray(d.unique_items)){const E=`/artifacts/${n}/users/${e}/unique_items`;for(const T of d.unique_items){if(!T.id)continue;const O=Lt(Ye,E,T.id),{id:M,...P}=T;P.isMarkedForShopping===void 0&&(P.isMarkedForShopping=!1),await x(O,P)}}v>0&&(console.log(`Committing final ${v} writes...`),await p.commit()),r()}catch(c){console.error("Restore process failed:",c),i(new Error(`Failed to parse or restore data: ${c.message}`))}},s.onerror=l=>{console.error("Error reading file:",l),i(new Error("Failed to read the backup file."))},s.readAsText(t)})},wG=(t,e)=>{if(!t||t.length===0){st.error("No purchase data available for the selected month to export.");return}try{const n=["Date","Item","Category","Quantity","Unit","Price"],r=t.map(f=>{const d=m=>{if(m==null)return"";let p=String(m);return(p.includes(",")||p.includes('"')||p.includes(`
`))&&(p=`"${p.replace(/"/g,'""')}"`),p};return[d(Ml(f.purchaseDate)),d(f.displayName),d(f.category),d(f.quantity),d(f.unit),String(f.price||0)].join(",")}),i=[n.join(","),...r].join(`
`),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=`pantrypal_report_${e}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l),st.success("Report exported successfully!")}catch(n){console.error("CSV Export failed:",n),st.error(`CSV Export failed: ${n.message}`)}},EG=async(t,e,n,r)=>{if(!n||!r||!t)throw new Error("Missing required data to update shopping list item.");const i=`/artifacts/${r}/users/${n}/unique_items`,s=Lt(Ye,i,t);try{await Cx(s,{isMarkedForShopping:e})}catch(l){throw console.error(`Error updating shopping list status for item ${t}:`,l),st.error(`Failed to update item status: ${l.message}`),l}},yR=t=>{if(!t)return"";const e=t instanceof Date?t:t.toDate?t.toDate():new Date(t);if(isNaN(e))return"";const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`},e3=({isOpen:t,onClose:e,onSuccess:n,initialData:r})=>{const{theme:i}=_a(),{userId:s,appId:l}=ba(),c=!!r,[f,d]=A.useState(""),[m,p]=A.useState(""),[v,_]=A.useState(""),[x,E]=A.useState(!1),[T,O]=A.useState(null);A.useEffect(()=>{t&&(c&&r?(d(r.shopName||""),p(yR(r.purchaseDate)),_(r.totalBill!==null&&r.totalBill!==void 0?String(r.totalBill):"")):(d(""),p(yR(new Date)),_("")),O(null))},[t,c,r]);const M=()=>{x||e()},P=async $=>{if($.preventDefault(),O(null),!f.trim()){O("Please enter a shop name.");return}if(!m){O("Please select a purchase date.");return}E(!0);try{const B={shopName:f.trim(),purchaseDate:m,totalBill:v};if(c)await mG(r.id,B,s,l),st.success("Bill updated successfully!"),n(r.id,B);else{const q=await dG(B,s,l);st.success("Bill created successfully! Now add items."),n(q,B)}M()}catch(B){console.error("Error saving/updating bill: ",B),O(`Failed to ${c?"update":"save"} bill. Please try again.`),st.error(`Error: ${B.message||`Failed to ${c?"update":"save"} bill.`}`)}finally{E(!1)}};return t?I.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 flex items-center justify-center p-4",onClick:M,children:I.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl bg-glass border border-border shadow-xl z-50",onClick:$=>$.stopPropagation(),children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsx("h2",{className:"text-2xl font-bold",children:c?"Edit Purchase Entry":"New Purchase Entry"}),I.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-black/10 dark:hover:bg-white/10",disabled:x,children:I.jsx(Bd,{size:20})})]}),I.jsxs("form",{className:"space-y-4",onSubmit:P,children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"shopName",className:"block text-sm font-medium mb-1",children:"Shop Name"}),I.jsxs("div",{className:"relative",children:[I.jsx(F4,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary"}),I.jsx("input",{id:"shopName",type:"text",placeholder:"e.g., Local Supermarket",className:"w-full p-3 pl-10 rounded-lg bg-input border border-border focus:ring-2 focus:ring-primary focus:outline-none",value:f,onChange:$=>d($.target.value),disabled:x,required:!0})]})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"purchaseDate",className:"block text-sm font-medium mb-1",children:"Date of Purchase"}),I.jsxs("div",{className:"relative",children:[I.jsx(D4,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary"}),I.jsx("input",{id:"purchaseDate",type:"date",className:"w-full p-3 pl-10 rounded-lg bg-input border border-border focus:ring-2 focus:ring-primary focus:outline-none",value:m,onChange:$=>p($.target.value),disabled:x,required:!0})]})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"totalBill",className:"block text-sm font-medium mb-1",children:"Total Bill Amount (Optional)"}),I.jsxs("div",{className:"relative",children:[I.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary font-semibold",children:"₹"}),I.jsx("input",{id:"totalBill",type:"number",step:"0.01",min:"0",placeholder:"e.g., 1500.50",className:"w-full p-3 pl-8 rounded-lg bg-input border border-border focus:ring-2 focus:ring-primary focus:outline-none",value:v,onChange:$=>_($.target.value),disabled:x})]})]}),T&&I.jsx("p",{className:"text-sm text-red-500 font-medium",children:T}),I.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[I.jsx("button",{type:"button",onClick:M,className:"px-5 py-2 rounded-lg font-medium hover:bg-black/10 dark:hover:bg-white/10 transition-colors",disabled:x,children:"Cancel"}),I.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 px-5 py-2 rounded-lg font-medium bg-primary text-primary-text primary-hover transition-colors disabled:opacity-70",disabled:x,children:[x?I.jsx(_r,{size:18,className:"animate-spin"}):c?I.jsx($x,{size:18}):I.jsx("span",{className:"text-lg font-bold",children:"→"}),x?"Saving...":c?"Save Changes":"Next: Add Items"]})]})]})]})}):null},bo=(t,e={})=>{const[n,r]=A.useState(null),[i,s]=A.useState(!0),[l,c]=A.useState(null);return A.useEffect(()=>{if(!t){s(!1);return}s(!0),c(null);try{let f=Nh(Pl(Ye,t));e.whereClauses&&e.whereClauses.forEach(m=>{f=Nh(f,Yj(...m))}),e.orderByClauses&&e.orderByClauses.forEach(m=>{f=Nh(f,O$(...m))}),e.docLimit&&(f=Nh(f,R$(e.docLimit)));const d=Zj(f,m=>{const p=[];m.forEach(v=>{p.push({id:v.id,...v.data()})}),r(p),s(!1)},m=>{console.error(`Error fetching collection ${t}:`,m),c(m),s(!1)});return()=>d()}catch(f){console.error(`Error setting up collection listener ${t}:`,f),c(f),s(!1)}},[t,JSON.stringify(e)]),{data:n,isLoading:i,error:l}},Tl=[{name:"Bakery",icon:wH},{name:"Beverages",icon:OH},{name:"Dairy",icon:$H},{name:"Fruits",icon:nH},{name:"Household",icon:NH},{name:"Meat & Egg",icon:lH},{name:"Other",icon:zd},{name:"Personal Care",icon:eK},{name:"Seafood",icon:SH},{name:"Snacks",icon:pH},{name:"Spices",icon:yH},{name:"Staples",icon:pK},{name:"Vegetables",icon:fH}].sort((t,e)=>t.name.localeCompare(e.name)),Mh=["pcs","g","kg","ml","L","pack","dozen","can","bottle","box","bunch","roll","jar","bag"].sort(),Kx=t=>{const e=Tl.find(n=>n.name===t);return e?e.icon:zd},xG=({item:t,onEdit:e,onDelete:n})=>{const r=Kx(t.category);return I.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded-md border border-border",children:[I.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[I.jsx(r,{size:16,className:"text-icon flex-shrink-0"}),I.jsxs("div",{className:"overflow-hidden",children:[I.jsx("p",{className:"font-medium truncate",title:t.name,children:t.name}),I.jsxs("p",{className:"text-xs text-text-secondary",children:[t.quantity," ",t.unit," • ",Qn(t.price)]})]})]}),I.jsxs("div",{className:"flex flex-shrink-0 gap-1",children:[I.jsx("button",{type:"button",onClick:()=>e(t),className:"p-1 text-text-secondary hover:text-primary rounded",title:"Edit Item",children:I.jsx(B4,{size:14})}),I.jsx("button",{type:"button",onClick:()=>n(t.id),className:"p-1 text-text-secondary hover:text-red-500 rounded",title:"Delete Item",children:I.jsx(qx,{size:14})})]})]})},TG=({isOpen:t,onClose:e,billId:n,billDate:r})=>{const{theme:i}=_a(),{userId:s,appId:l}=ba(),c=A.useRef(null),f=A.useRef(null),{data:d}=bo(t&&s&&l?`artifacts/${l}/users/${s}/unique_items`:null),[m,p]=A.useState(""),[v,_]=A.useState(1),[x,E]=A.useState(Mh[0]),[T,O]=A.useState(Tl[0].name),[M,P]=A.useState(""),[$,B]=A.useState(null),[q,R]=A.useState([]),[N,j]=A.useState(!1),[z,V]=A.useState(Mh[0]),[U,k]=A.useState(Tl[0].name),[ce,we]=A.useState([]),[Q,W]=A.useState(null),[fe,me]=A.useState(!1);A.useEffect(()=>{t&&(Se(!0),we([]),me(!1),R([]),j(!1))},[t]);const Se=(G=!1)=>{p(""),_(1),E(G?Mh[0]:z),O(G?Tl[0].name:U),P(""),W(null),B(null),j(!1)},H=G=>{const Ee=G.target.value;if(p(Ee),B(null),Ee.length>0&&d){const Ve=d.filter(he=>he.displayName.toLowerCase().includes(Ee.toLowerCase())).slice(0,5);R(Ve),j(Ve.length>0)}else R([]),j(!1)},re=G=>{p(G.displayName),O(G.category||U),E(z);const Ve=G.priceHistory?.[0]?.price??G.lastPrice;P(Ve!==void 0?String(Ve):""),j(!1),R([]),document.getElementById("itemQty")?.focus()};A.useEffect(()=>{const G=Ee=>{N&&f.current&&!f.current.contains(Ee.target)&&c.current&&!c.current.contains(Ee.target)&&j(!1)};return N&&document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[N]);const pe=G=>{if(G.preventDefault(),B(null),j(!1),!m.trim()||!M||isNaN(parseFloat(M))||parseFloat(M)<0||!v||isNaN(parseFloat(v))||parseFloat(v)<=0){B("Please enter a valid name, price, and quantity.");return}const Ee={id:Q||crypto.randomUUID(),name:m.trim(),quantity:parseFloat(v),unit:x,category:T,price:parseFloat(M)};V(x),k(T),Q?(we(ce.map(Ve=>Ve.id===Q?Ee:Ve)),st.success("Item updated",{duration:1500})):we([Ee,...ce]),Se(!1),f.current?.focus()},be=G=>{W(G.id),p(G.name),_(G.quantity),E(G.unit),O(G.category),P(G.price),j(!1),f.current?.focus()},xe=G=>{we(ce.filter(Ee=>Ee.id!==G)),G===Q&&Se(!1)},je=async()=>{if(ce.length===0){B("No items to save. Add at least one item.");return}me(!0),B(null);try{await pG(ce,n,r,s,l),st.success(`Successfully saved ${ce.length} item(s)!`),ge()}catch(G){console.error("Error saving items:",G),B(`Failed to save items: ${G.message}`),st.error(`Error saving items: ${G.message}`)}finally{me(!1)}},ge=()=>{fe||e()},De=A.useMemo(()=>ce.reduce((G,Ee)=>G+(Ee.price||0),0),[ce]);return t?I.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 flex items-center justify-center p-4",onClick:ge,children:I.jsxs("div",{className:"w-full max-w-2xl p-6 rounded-2xl bg-glass border border-border shadow-xl z-50 flex flex-col max-h-[90vh] pb-24 md:pb-6",onClick:G=>G.stopPropagation(),children:[I.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-border flex-shrink-0",children:[I.jsx("h2",{className:"text-2xl font-bold",children:Q?"Edit Item":"Add Items to Bill"}),I.jsx("button",{onClick:ge,className:"p-2 rounded-full hover:bg-black/10 dark:hover:bg-white/10",disabled:fe,"aria-label":"Close modal",children:I.jsx(Bd,{size:20})})]}),I.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end mb-4 flex-shrink-0",onSubmit:pe,children:[I.jsxs("div",{className:"md:col-span-2 relative",children:[I.jsx("label",{htmlFor:"itemName",className:"block text-xs font-medium mb-1",children:"Item Name"}),I.jsx("input",{id:"itemName",type:"text",placeholder:"e.g., Apple",className:"w-full p-2 rounded-lg bg-input border border-border text-sm focus:ring-2 focus:ring-primary focus:outline-none",value:m,onChange:H,onFocus:()=>m.length>0&&j(q.length>0),ref:f,autoComplete:"off",required:!0}),N&&q.length>0&&I.jsx("div",{ref:c,className:"absolute top-full left-0 mt-1 w-full max-h-40 overflow-y-auto bg-input border border-border rounded-md shadow-lg z-20",children:q.map(G=>I.jsxs("button",{type:"button",onClick:()=>re(G),className:"block w-full text-left px-3 py-1.5 text-sm hover:bg-primary/10 transition-colors duration-100",children:[G.displayName," ",I.jsxs("span",{className:"text-xs text-text-secondary",children:["(",G.category,")"]})]},G.id))})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"itemQty",className:"block text-xs font-medium mb-1",children:"Qty"}),I.jsx("input",{id:"itemQty",type:"number",step:"0.1",min:"0.1",placeholder:"1",className:"w-full p-2 rounded-lg bg-input border border-border text-sm focus:ring-2 focus:ring-primary focus:outline-none",value:v,onChange:G=>_(G.target.value),required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"itemUnit",className:"block text-xs font-medium mb-1",children:"Unit"}),I.jsx("select",{id:"itemUnit",className:"w-full p-2 rounded-lg bg-input border border-border text-sm focus:ring-2 focus:ring-primary focus:outline-none appearance-none",value:x,onChange:G=>E(G.target.value),children:Mh.map(G=>I.jsx("option",{value:G,children:G},G))})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"itemCat",className:"block text-xs font-medium mb-1",children:"Category"}),I.jsx("select",{id:"itemCat",className:"w-full p-2 rounded-lg bg-input border border-border text-sm focus:ring-2 focus:ring-primary focus:outline-none appearance-none",value:T,onChange:G=>O(G.target.value),children:Tl.map(G=>I.jsx("option",{value:G.name,children:G.name},G.name))})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"itemPrice",className:"block text-xs font-medium mb-1",children:"Total Price"}),I.jsx("input",{id:"itemPrice",type:"number",step:"0.01",min:"0",placeholder:"0.00",className:"w-full p-2 rounded-lg bg-input border border-border text-sm focus:ring-2 focus:ring-primary focus:outline-none",value:M,onChange:G=>P(G.target.value),required:!0})]}),I.jsxs("button",{type:"submit",className:`flex items-center justify-center gap-2 p-2 rounded-lg font-medium ${Q?"bg-amber-500 hover:bg-amber-600 text-white":"bg-primary text-primary-text primary-hover"} transition-colors text-sm`,"aria-label":Q?"Update item":"Add item",children:[Q?I.jsx(B4,{size:16}):I.jsx(Ux,{size:16}),Q?"Update":"Add"]})]}),$&&I.jsx("p",{className:"text-sm text-red-500 font-medium mb-2 text-center flex-shrink-0",children:$}),I.jsx("div",{className:"border-t border-border mb-4 flex-shrink-0"}),I.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2 min-h-0 pb-24 md:pb-2",children:ce.length===0?I.jsx("p",{className:"text-center text-text-secondary py-10",children:"No items added yet."}):ce.map(G=>I.jsx(xG,{item:G,onEdit:be,onDelete:xe},G.id))}),I.jsxs("div",{className:"flex justify-between items-center pt-4 mt-auto border-t border-border flex-shrink-0",children:[I.jsxs("div",{className:"text-sm",children:[I.jsx("span",{className:"font-semibold",children:"Items: "}),ce.length,I.jsx("span",{className:"font-semibold ml-4",children:"Total: "}),Qn(De)]}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{type:"button",onClick:ge,className:"px-4 py-2 rounded-lg font-medium hover:bg-black/10 dark:hover:bg-white/10 transition-colors",disabled:fe,children:"Cancel"}),I.jsxs("button",{type:"button",onClick:je,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium bg-green-600 text-white hover:bg-green-700 transition-colors disabled:opacity-70",disabled:fe||ce.length===0,children:[fe?I.jsx(_r,{size:18,className:"animate-spin"}):I.jsx($x,{size:18}),fe?"Saving...":`Save All (${ce.length}) Items`]})]})]})]})}):null},AG=()=>I.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-cyan-50 to-blue-100 text-slate-800 flex flex-col gap-4 items-center justify-center",children:[I.jsx("div",{className:"text-blue-500 animate-spin",children:I.jsx(_r,{size:48})}),I.jsx("h1",{className:"text-2xl font-bold",children:"PantryPal"}),I.jsx("p",{className:"text-lg",children:"Initializing your pantry..."})]}),t3=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmText:s="Delete",isDestructive:l=!0})=>{const{theme:c}=_a();return t?I.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:I.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl bg-glass border border-border shadow-xl z-50",onClick:f=>f.stopPropagation(),children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l&&I.jsx(H4,{className:"text-red-500",size:20}),r||"Confirm Action"]}),I.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10",children:I.jsx(Bd,{size:18})})]}),I.jsx("p",{className:"text-text-secondary mb-6",children:i||"Are you sure you want to proceed?"}),I.jsxs("div",{className:"flex justify-end gap-3",children:[I.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg font-medium hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:"Cancel"}),I.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 rounded-lg font-medium ${l?"bg-red-600 hover:bg-red-700 text-white":"bg-primary text-primary-text primary-hover"} transition-colors`,children:s})]})]})}):null},SG=()=>I.jsx("div",{className:"flex justify-center items-center py-10",children:I.jsx(_r,{size:24,className:"animate-spin text-icon opacity-70"})}),IG=({item:t,onSave:e,onCancel:n})=>{const{theme:r}=_a(),[i,s]=A.useState({name:t.displayName||"",quantity:t.quantity||1,unit:t.unit||"pcs",category:t.category||"Other",price:t.price||0}),[l,c]=A.useState(!1),f=m=>{const{name:p,value:v,type:_}=m.target;s(x=>({...x,[p]:_==="number"?parseFloat(v)||0:v}))},d=async()=>{if(!i.name.trim()||i.quantity<=0||i.price<0){st.error("Please enter a valid name, quantity, and price.");return}c(!0);try{await e(t.id,t,i)}catch{c(!1)}};return I.jsxs("div",{className:"p-2 bg-input rounded-lg border border-primary space-y-2",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[I.jsx("input",{type:"text",name:"name",placeholder:"Item Name",value:i.name,onChange:f,className:"col-span-2 w-full p-2 rounded-md bg-background border border-border text-sm",disabled:l}),I.jsx("input",{type:"number",name:"price",step:"0.01",placeholder:"Price",value:i.price,onChange:f,className:"w-full p-2 rounded-md bg-background border border-border text-sm",disabled:l}),I.jsx("input",{type:"number",name:"quantity",placeholder:"Qty",value:i.quantity,onChange:f,className:"w-full p-2 rounded-md bg-background border border-border text-sm",disabled:l}),I.jsx("select",{name:"unit",value:i.unit,onChange:f,className:"w-full p-2 rounded-md bg-background border border-border text-sm",disabled:l,children:Mh.map(m=>I.jsx("option",{value:m,children:m},m))}),I.jsx("select",{name:"category",value:i.category,onChange:f,className:"col-span-2 sm:col-span-1 w-full p-2 rounded-md bg-background border border-border text-sm",disabled:l,children:Tl.map(m=>I.jsx("option",{value:m.name,children:m.name},m.name))})]}),I.jsxs("div",{className:"flex justify-end gap-2",children:[I.jsx("button",{onClick:n,disabled:l,className:"p-1 text-text-secondary hover:text-red-500 transition-colors",children:I.jsx(Bd,{size:18})}),I.jsx("button",{onClick:d,disabled:l,className:"p-1 text-text-secondary hover:text-green-500 transition-colors",children:l?I.jsx(_r,{size:18,className:"animate-spin"}):I.jsx(k4,{size:18})})]})]})},CG=({item:t,onEdit:e,onDelete:n})=>{const r=Kx(t.category);return I.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded group",children:[I.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[I.jsx(r,{size:18,className:"text-icon flex-shrink-0"}),I.jsxs("div",{className:"overflow-hidden",children:[I.jsx("p",{className:"font-medium truncate",title:t.displayName,children:t.displayName}),I.jsxs("p",{className:"text-xs text-text-secondary",children:[t.quantity," ",t.unit," - ",t.category]})]})]}),I.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[I.jsx("p",{className:"font-semibold text-sm",children:Qn(t.price||0)}),I.jsx("button",{onClick:e,title:"Edit Item",className:"p-1 text-text-secondary opacity-0 group-hover:opacity-100 transition-opacity rounded hover:text-primary hover:bg-primary/10",children:I.jsx(U4,{size:16})}),I.jsx("button",{onClick:n,title:"Delete Item",className:"p-1 text-red-500 opacity-0 group-hover:opacity-100 transition-opacity rounded hover:bg-red-500/10",children:I.jsx(qx,{size:16})})]})]})},OG=({isOpen:t,onClose:e,bill:n})=>{const{theme:r}=_a(),{userId:i,appId:s}=ba(),[l,c]=A.useState(!1),[f,d]=A.useState(null),[m,p]=A.useState(null),[v,_]=A.useState(!1),{data:x,isLoading:E,error:T}=bo(t&&n?.id&&i&&s?`artifacts/${s}/users/${i}/purchases`:null,{whereClauses:[["billId","==",n?.id]]}),O=A.useMemo(()=>x?[...x].sort((z,V)=>z.displayName.localeCompare(V.displayName)):[],[x]),M=(z,V)=>{d({id:z,data:V}),c(!0)},P=()=>{c(!1),d(null)},$=async()=>{if(!f)return;const{id:z,data:V}=f,U=n?.id;P();try{await gG(z,U,V,i,s),st.success(`Deleted item: ${V.displayName}`)}catch(k){console.error("Failed to delete item:",k),st.error(`Error deleting item: ${k.message}`)}},B=z=>{p(z)},q=()=>{p(null)},R=async(z,V,U)=>{_(!0);try{await yG(z,V,U,i,s),st.success("Item updated successfully!"),p(null)}catch(k){console.error("Failed to update item:",k),st.error(`Error updating item: ${k.message}`)}finally{_(!1)}};if(!t||!n)return null;const N=Ml(n.purchaseDate),j=n.totalBill!==null&&n.totalBill!==void 0?Qn(n.totalBill):"Not set";return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 flex items-center justify-center p-4",onClick:e,children:I.jsxs("div",{className:"w-full max-w-lg p-6 rounded-2xl bg-glass border border-border shadow-xl z-50 flex flex-col max-h-[80vh]",onClick:z=>z.stopPropagation(),children:[I.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-border",children:[I.jsx("h2",{className:"text-2xl font-bold",children:"Purchase Details"}),I.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10",children:I.jsx(Bd,{size:20})})]}),I.jsxs("div",{className:"mb-4 space-y-2 text-sm",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(F4,{size:16,className:"text-icon opacity-80"}),I.jsx("span",{className:"font-semibold",children:"Shop:"}),I.jsx("span",{children:n.shopName})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(D4,{size:16,className:"text-icon opacity-80"}),I.jsx("span",{className:"font-semibold",children:"Date:"}),I.jsx("span",{children:N})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(mR,{size:16,className:"text-icon opacity-80"}),I.jsx("span",{className:"font-semibold",children:"Total Bill:"}),I.jsx("span",{children:j})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(mR,{size:16,className:"text-icon opacity-80"}),I.jsx("span",{className:"font-semibold",children:"Items Logged:"}),I.jsx("span",{children:n.itemCount||0})]})]}),I.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Items (",E?"...":x?.length||0,")"]}),I.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2 bg-input/50 p-3 rounded-lg border border-border",children:[E&&I.jsx(SG,{}),T&&I.jsxs("p",{className:"text-red-500",children:["Error loading items: ",T.message]}),!E&&!T&&O&&O.length>0?O.map(z=>m===z.id?I.jsx(IG,{item:z,onSave:R,onCancel:q},z.id):I.jsx(CG,{item:z,onEdit:()=>B(z.id),onDelete:()=>M(z.id,z)},z.id)):!E&&!T&&I.jsx("p",{className:"text-center text-text-secondary py-4",children:"No items found for this bill."})]}),I.jsx("div",{className:"flex justify-end pt-4 mt-4 border-t border-border",children:I.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg font-medium hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:"Close"})})]})}),I.jsx(t3,{isOpen:l,onClose:P,onConfirm:$,title:"Delete Item?",message:`Are you sure you want to delete "${f?.data.displayName}"? This action cannot be undone.`,confirmText:"Yes, Delete Item"})]})};function n3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=n3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=n3(t))&&(r&&(r+=" "),r+=e);return r}var RG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Gx(t){if(typeof t!="string")return!1;var e=RG;return e.includes(t)}var PG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function r3(t){if(typeof t!="string")return!1;var e=PG;return e.includes(t)}function i3(t){return typeof t=="string"&&t.startsWith("data-")}function ki(t){var e=Object.entries(t).filter(n=>{var[r]=n;return r3(r)||i3(r)});return Object.fromEntries(e)}function ud(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ki(e)}return typeof t=="object"&&!Array.isArray(t)?ki(t):null}function di(t){var e=Object.entries(t).filter(n=>{var[r]=n;return r3(r)||i3(r)||Gx(r)});return Object.fromEntries(e)}var NG=["children","width","height","viewBox","className","style","title","desc"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(null,arguments)}function DG(t,e){if(t==null)return{};var n,r,i=MG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var a3=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:f,desc:d}=t,m=DG(t,NG),p=s||{width:r,height:i,x:0,y:0},v=xt("recharts-surface",l);return A.createElement("svg",Nw({},di(m),{className:v,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,f),A.createElement("desc",null,d),n)}),kG=["children","className"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(null,arguments)}function jG(t,e){if(t==null)return{};var n,r,i=VG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Er=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=jG(t,kG),s=xt("recharts-layer",r);return A.createElement("g",Dw({className:s},di(i),{ref:e}),n)}),LG=gM(),zG=A.createContext(null);function St(t){return function(){return t}}const s3=Math.cos,Jg=Math.sin,ji=Math.sqrt,ey=Math.PI,yv=2*ey,Mw=Math.PI,kw=2*Mw,pl=1e-6,BG=kw-pl;function o3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function UG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return o3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $G{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?o3:UG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=r-e,d=i-n,m=l-e,p=c-n,v=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>pl)if(!(Math.abs(p*f-d*m)>pl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,x=i-c,E=f*f+d*d,T=_*_+x*x,O=Math.sqrt(E),M=Math.sqrt(v),P=s*Math.tan((Mw-Math.acos((E+v-T)/(2*O*M)))/2),$=P/M,B=P/O;Math.abs($-1)>pl&&this._append`L${e+$*m},${n+$*p}`,this._append`A${s},${s},0,0,${+(p*_>m*x)},${this._x1=e+B*f},${this._y1=n+B*d}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),d=e+c,m=n+f,p=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>pl||Math.abs(this._y1-m)>pl)&&this._append`L${d},${m}`,r&&(v<0&&(v=v%kw+kw),v>BG?this._append`A${r},${r},0,1,${p},${e-c},${n-f}A${r},${r},0,1,${p},${this._x1=d},${this._y1=m}`:v>pl&&this._append`A${r},${r},0,${+(v>=Mw)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Yx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $G(e)}function Wx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function l3(t){this._context=t}l3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vv(t){return new l3(t)}function u3(t){return t[0]}function c3(t){return t[1]}function f3(t,e){var n=St(!0),r=null,i=vv,s=null,l=Yx(c);t=typeof t=="function"?t:t===void 0?u3:St(t),e=typeof e=="function"?e:e===void 0?c3:St(e);function c(f){var d,m=(f=Wx(f)).length,p,v=!1,_;for(r==null&&(s=i(_=l())),d=0;d<=m;++d)!(d<m&&n(p=f[d],d,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(p,d,f),+e(p,d,f));if(_)return s=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:St(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),c):r},c}function qp(t,e,n){var r=null,i=St(!0),s=null,l=vv,c=null,f=Yx(d);t=typeof t=="function"?t:t===void 0?u3:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?c3:St(+n);function d(p){var v,_,x,E=(p=Wx(p)).length,T,O=!1,M,P=new Array(E),$=new Array(E);for(s==null&&(c=l(M=f())),v=0;v<=E;++v){if(!(v<E&&i(T=p[v],v,p))===O)if(O=!O)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),x=v-1;x>=_;--x)c.point(P[x],$[x]);c.lineEnd(),c.areaEnd()}O&&(P[v]=+t(T,v,p),$[v]=+e(T,v,p),c.point(r?+r(T,v,p):P[v],n?+n(T,v,p):$[v]))}if(M)return c=null,M+""||null}function m(){return f3().defined(i).curve(l).context(s)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:St(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:St(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:St(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:St(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:St(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:St(+p),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:St(!!p),d):i},d.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),d):l},d.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),d):s},d}class h3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qG(t){return new h3(t,!0)}function FG(t){return new h3(t,!1)}const Qx={draw(t,e){const n=ji(e/ey);t.moveTo(n,0),t.arc(0,0,n,0,yv)}},HG={draw(t,e){const n=ji(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},d3=ji(1/3),KG=d3*2,GG={draw(t,e){const n=ji(e/KG),r=n*d3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},YG={draw(t,e){const n=ji(e),r=-n/2;t.rect(r,r,n,n)}},WG=.8908130915292852,m3=Jg(ey/10)/Jg(7*ey/10),QG=Jg(yv/10)*m3,XG=-s3(yv/10)*m3,ZG={draw(t,e){const n=ji(e*WG),r=QG*n,i=XG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=yv*s/5,c=s3(l),f=Jg(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},w_=ji(3),JG={draw(t,e){const n=-ji(e/(w_*3));t.moveTo(0,n*2),t.lineTo(-w_*n,-n),t.lineTo(w_*n,-n),t.closePath()}},ii=-.5,ai=ji(3)/2,jw=1/ji(12),eY=(jw/2+1)*3,tY={draw(t,e){const n=ji(e/eY),r=n/2,i=n*jw,s=r,l=n*jw+n,c=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,f),t.lineTo(ii*r-ai*i,ai*r+ii*i),t.lineTo(ii*s-ai*l,ai*s+ii*l),t.lineTo(ii*c-ai*f,ai*c+ii*f),t.lineTo(ii*r+ai*i,ii*i-ai*r),t.lineTo(ii*s+ai*l,ii*l-ai*s),t.lineTo(ii*c+ai*f,ii*f-ai*c),t.closePath()}};function nY(t,e){let n=null,r=Yx(i);t=typeof t=="function"?t:St(t||Qx),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:St(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:St(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function ty(){}function ny(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function p3(t){this._context=t}p3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ny(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ny(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rY(t){return new p3(t)}function g3(t){this._context=t}g3.prototype={areaStart:ty,areaEnd:ty,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ny(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iY(t){return new g3(t)}function y3(t){this._context=t}y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ny(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aY(t){return new y3(t)}function v3(t){this._context=t}v3.prototype={areaStart:ty,areaEnd:ty,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sY(t){return new v3(t)}function vR(t){return t<0?-1:1}function bR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(vR(s)+vR(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function _R(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function E_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function ry(t){this._context=t}ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E_(this,this._t0,_R(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,E_(this,_R(this,n=bR(this,t,e)),n);break;default:E_(this,this._t0,n=bR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function b3(t){this._context=new _3(t)}(b3.prototype=Object.create(ry.prototype)).point=function(t,e){ry.prototype.point.call(this,e,t)};function _3(t){this._context=t}_3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function oY(t){return new ry(t)}function lY(t){return new b3(t)}function w3(t){this._context=t}w3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wR(t),i=wR(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wR(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function uY(t){return new w3(t)}function bv(t,e){this._context=t,this._t=e}bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function cY(t){return new bv(t,.5)}function fY(t){return new bv(t,0)}function hY(t){return new bv(t,1)}function Lc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dY(t,e){return t[e]}function mY(t){const e=[];return e.key=t,e}function pY(){var t=St([]),e=Vw,n=Lc,r=dY;function i(s){var l=Array.from(t.apply(this,arguments),mY),c,f=l.length,d=-1,m;for(const p of s)for(c=0,++d;c<f;++c)(l[c][d]=[0,+r(p,l[c].key,d,s)]).data=p;for(c=0,m=Wx(e(l));c<f;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:St(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:St(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Vw:typeof s=="function"?s:St(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Lc,i):n},i}function gY(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Lc(t,e)}}function yY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Lc(t,e)}}function vY(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,f=0,d=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,v=m[r-1][1]||0,_=(p-v)/2,x=0;x<c;++x){var E=t[e[x]],T=E[r][1]||0,O=E[r-1][1]||0;_+=T-O}f+=p,d+=_*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Lc(t,e)}}var x_={},T_={},ER;function bY(){return ER||(ER=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(T_)),T_}var A_={},xR;function E3(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(A_)),A_}var S_={},TR;function Xx(){return TR||(TR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(S_)),S_}var I_={},C_={},AR;function _Y(){return AR||(AR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(C_)),C_}var SR;function Zx(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Y(),n=Xx();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,f="",d="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];d?p==="\\"&&c+1<l?(c++,f+=i[c]):p===d?d="":f+=p:m?p==='"'||p==="'"?d=p:p==="]"?(m=!1,s.push(f),f=""):f+=p:p==="["?(m=!0,f&&(s.push(f),f="")):p==="."?f&&(s.push(f),f=""):f+=p,c++}return f&&s.push(f),s}t.toPath=r})(I_)),I_}var IR;function Jx(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bY(),n=E3(),r=Xx(),i=Zx();function s(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const m=c[f];return m===void 0?n.isDeepKey(f)?s(c,i.toPath(f),d):d:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=c[f];return m===void 0?d:m}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const m=c[f];return m===void 0?d:m}}}function l(c,f,d){if(f.length===0)return d;let m=c;for(let p=0;p<f.length;p++){if(m==null||e.isUnsafeProperty(f[p]))return d;m=m[f[p]]}return m===void 0?d:m}t.get=s})(x_)),x_}var O_,CR;function wY(){return CR||(CR=1,O_=Jx().get),O_}var EY=wY();const Ql=va(EY);var Pn=t=>t===0?0:t>0?1:-1,mi=t=>typeof t=="number"&&t!=+t,ns=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!mi(t),ga=t=>Re(t)||typeof t=="string",xY=0,cd=t=>{var e=++xY;return"".concat(t||"").concat(e)},er=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var s;if(ns(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return mi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},x3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Fn(t,e,n){return Re(t)&&Re(e)?t+n*(e-t):e}function TY(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ql(r,e))===n)}var Nn=t=>t===null||typeof t>"u",$d=t=>Nn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),AY=["type","size","sizeType"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(null,arguments)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){SY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SY(t,e,n){return(e=IY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IY(t){var e=CY(t,"string");return typeof e=="symbol"?e:e+""}function CY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OY(t,e){if(t==null)return{};var n,r,i=RY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T3={symbolCircle:Qx,symbolCross:HG,symbolDiamond:GG,symbolSquare:YG,symbolStar:ZG,symbolTriangle:JG,symbolWye:tY},PY=Math.PI/180,NY=t=>{var e="symbol".concat($d(t));return T3[e]||Qx},DY=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*PY;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},MY=(t,e)=>{T3["symbol".concat($d(t))]=e},A3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=OY(t,AY),s=RR(RR({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var v=NY(l),_=nY().type(v).size(DY(n,r,l)),x=_();if(x!==null)return x},{className:f,cx:d,cy:m}=s,p=di(s);return d===+d&&m===+m&&n===+n?A.createElement("path",Lw({},p,{className:xt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(m,")"),d:c()})):null};A3.registerSymbol=MY;var kY=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Gx(i)&&(r[i]=(s=>n[i](n,s)))}),r},jY=(t,e,n)=>r=>(t(e,n,r),null),_v=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];Gx(i)&&typeof s=="function"&&(r||(r={}),r[i]=jY(s,e,n))}),r},R_={},P_={},PR;function VY(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(P_)),P_}var N_={},NR;function S3(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(N_)),N_}var D_={},M_={},k_={},DR;function LY(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(k_)),k_}var MR;function eT(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LY();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(M_)),M_}var j_={},kR;function zY(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(j_)),j_}var jR;function BY(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eT(),n=zY();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(D_)),D_}var V_={},L_={},VR;function UY(){return VR||(VR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jx();function n(r){return function(i){return e.get(i,r)}}t.property=n})(L_)),L_}var z_={},B_={},U_={},$_={},LR;function I3(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})($_)),$_}var q_={},zR;function C3(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(q_)),q_}var F_={},BR;function O3(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(F_)),F_}var UR;function $Y(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I3(),n=C3(),r=O3();function i(m,p,v){return typeof v!="function"?i(m,p,()=>{}):s(m,p,function _(x,E,T,O,M,P){const $=v(x,E,T,O,M,P);return $!==void 0?!!$:s(x,E,_,P)},new Map)}function s(m,p,v,_){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,v,_);case"function":return Object.keys(p).length>0?s(m,{...p},v,_):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,v,_){if(p==null)return!0;if(Array.isArray(p))return f(m,p,v,_);if(p instanceof Map)return c(m,p,v,_);if(p instanceof Set)return d(m,p,v,_);const x=Object.keys(p);if(m==null)return x.length===0;if(x.length===0)return!0;if(_?.has(p))return _.get(p)===m;_?.set(p,m);try{for(let E=0;E<x.length;E++){const T=x[E];if(!n.isPrimitive(m)&&!(T in m)||p[T]===void 0&&m[T]!==void 0||p[T]===null&&m[T]!==null||!v(m[T],p[T],T,m,p,_))return!1}return!0}finally{_?.delete(p)}}function c(m,p,v,_){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[x,E]of p.entries()){const T=m.get(x);if(v(T,E,x,m,p,_)===!1)return!1}return!0}function f(m,p,v,_){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const x=new Set;for(let E=0;E<p.length;E++){const T=p[E];let O=!1;for(let M=0;M<m.length;M++){if(x.has(M))continue;const P=m[M];let $=!1;if(v(P,T,E,m,p,_)&&($=!0),$){x.add(M),O=!0;break}}if(!O)return!1}return!0}function d(m,p,v,_){return p.size===0?!0:m instanceof Set?f([...m],[...p],v,_):!1}t.isMatchWith=i,t.isSetMatch=d})(U_)),U_}var $R;function R3(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Y();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(B_)),B_}var H_={},K_={},G_={},qR;function qY(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(G_)),G_}var Y_={},FR;function P3(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Y_)),Y_}var W_={},HR;function N3(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",m="[object Array]",p="[object Function]",v="[object ArrayBuffer]",_="[object Object]",x="[object Error]",E="[object DataView]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",P="[object Uint32Array]",$="[object BigUint64Array]",B="[object Int8Array]",q="[object Int16Array]",R="[object Int32Array]",N="[object BigInt64Array]",j="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=$,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=x,t.float32ArrayTag=j,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=q,t.int32ArrayTag=R,t.int8ArrayTag=B,t.mapTag=f,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=M,t.uint32ArrayTag=P,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=O})(W_)),W_}var Q_={},KR;function FY(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Q_)),Q_}var GR;function D3(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qY(),n=P3(),r=N3(),i=C3(),s=FY();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,v,_=new Map,x=void 0){const E=x?.(m,p,v,_);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const T=new Array(m.length);_.set(m,T);for(let O=0;O<m.length;O++)T[O]=c(m[O],O,v,_,x);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;_.set(m,T);for(const[O,M]of m)T.set(O,c(M,O,v,_,x));return T}if(m instanceof Set){const T=new Set;_.set(m,T);for(const O of m)T.add(c(O,void 0,v,_,x));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,T);for(let O=0;O<m.length;O++)T[O]=c(m[O],O,v,_,x);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,T),f(T,m,v,_,x),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return _.set(m,T),f(T,m,v,_,x),T}if(typeof Blob<"u"&&m instanceof Blob){const T=new Blob([m],{type:m.type});return _.set(m,T),f(T,m,v,_,x),T}if(m instanceof Error){const T=new m.constructor;return _.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,f(T,m,v,_,x),T}if(m instanceof Boolean){const T=new Boolean(m.valueOf());return _.set(m,T),f(T,m,v,_,x),T}if(m instanceof Number){const T=new Number(m.valueOf());return _.set(m,T),f(T,m,v,_,x),T}if(m instanceof String){const T=new String(m.valueOf());return _.set(m,T),f(T,m,v,_,x),T}if(typeof m=="object"&&d(m)){const T=Object.create(Object.getPrototypeOf(m));return _.set(m,T),f(T,m,v,_,x),T}return m}function f(m,p,v=m,_,x){const E=[...Object.keys(p),...e.getSymbols(p)];for(let T=0;T<E.length;T++){const O=E[T],M=Object.getOwnPropertyDescriptor(m,O);(M==null||M.writable)&&(m[O]=c(p[O],O,v,_,x))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f})(K_)),K_}var YR;function HY(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(H_)),H_}var WR;function KY(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R3(),n=HY();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(z_)),z_}var X_={},Z_={},J_={},QR;function GY(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D3(),n=N3();function r(i,s){return e.cloneDeepWith(i,(l,c,f,d)=>{const m=s?.(l,c,f,d);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(J_)),J_}var XR;function YY(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GY();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Z_)),Z_}var e1={},t1={},ZR;function M3(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(t1)),t1}var n1={},JR;function WY(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P3();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(n1)),n1}var eP;function QY(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E3(),n=M3(),r=WY(),i=Zx();function s(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?f=i.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let m=0;m<f.length;m++){const p=f[m];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=s})(e1)),e1}var tP;function XY(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R3(),n=Xx(),r=YY(),i=Jx(),s=QY();function l(c,f){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(d){const m=i.get(d,c);return m===void 0?s.has(d,c):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=l})(X_)),X_}var nP;function ZY(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S3(),n=UY(),r=KY(),i=XY();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(V_)),V_}var rP;function JY(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VY(),n=S3(),r=BY(),i=ZY();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(R_)),R_}var r1,iP;function eW(){return iP||(iP=1,r1=JY().uniqBy),r1}var tW=eW();const aP=va(tW);function nW(t,e,n){return e===!0?aP(t,n):typeof e=="function"?aP(t,e):t}var i1={exports:{}},a1={},s1={exports:{}},o1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function rW(){if(sP)return o1;sP=1;var t=Gc();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,v){var _=v(),x=r({inst:{value:_,getSnapshot:v}}),E=x[0].inst,T=x[1];return s(function(){E.value=_,E.getSnapshot=v,f(E)&&T({inst:E})},[p,_,v]),i(function(){return f(E)&&T({inst:E}),p(function(){f(E)&&T({inst:E})})},[p]),l(_),_}function f(p){var v=p.getSnapshot;p=p.value;try{var _=v();return!n(p,_)}catch{return!0}}function d(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return o1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,o1}var oP;function iW(){return oP||(oP=1,s1.exports=rW()),s1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function aW(){if(lP)return a1;lP=1;var t=Gc(),e=iW();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return a1.useSyncExternalStoreWithSelector=function(d,m,p,v,_){var x=s(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=c(function(){function O(q){if(!M){if(M=!0,P=q,q=v(q),_!==void 0&&E.hasValue){var R=E.value;if(_(R,q))return $=R}return $=q}if(R=$,r(P,q))return R;var N=v(q);return _!==void 0&&_(R,N)?(P=q,R):(P=q,$=N)}var M=!1,P,$,B=p===void 0?null:p;return[function(){return O(m())},B===null?void 0:function(){return O(B())}]},[m,p,v,_]);var T=i(d,x[0],x[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),f(T),T},a1}var uP;function sW(){return uP||(uP=1,i1.exports=aW()),i1.exports}var oW=sW(),tT=A.createContext(null),lW=t=>t,Ht=()=>{var t=A.useContext(tT);return t?t.store.dispatch:lW},xg=()=>{},uW=()=>xg,cW=(t,e)=>t===e;function Pe(t){var e=A.useContext(tT);return oW.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:uW,e?e.store.getState:xg,e?e.store.getState:xg,e?t:xg,cW)}function fW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function hW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function dW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var cP=t=>Array.isArray(t)?t:[t];function mW(t){const e=Array.isArray(t[0])?t[0]:t;return dW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function pW(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var gW=class{constructor(t){this.value=t}deref(){return this.value}},yW=typeof WeakRef<"u"?WeakRef:gW,vW=0,fP=1;function Fp(){return{s:vW,v:void 0,o:null,p:null}}function k3(t,e={}){let n=Fp();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let c=n;const{length:f}=arguments;for(let p=0,v=f;p<v;p++){const _=arguments[p];if(typeof _=="function"||typeof _=="object"&&_!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const E=x.get(_);E===void 0?(c=Fp(),x.set(_,c)):c=E}else{let x=c.p;x===null&&(c.p=x=new Map);const E=x.get(_);E===void 0?(c=Fp(),x.set(_,c)):c=E}}const d=c;let m;if(c.s===fP)m=c.v;else if(m=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new yW(m):m}return d.s=fP,d.v=m,m}return l.clearCache=()=>{n=Fp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function bW(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),fW(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...f},{memoize:p,memoizeOptions:v=[],argsMemoize:_=k3,argsMemoizeOptions:x=[]}=m,E=cP(v),T=cP(x),O=mW(i),M=p(function(){return s++,d.apply(null,arguments)},...E),P=_(function(){l++;const B=pW(O,arguments);return c=M.apply(null,B),c},...T);return Object.assign(P,{resultFunc:d,memoizedResultFunc:M,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ne=bW(k3),_W=Object.assign((t,e=ne)=>{hW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>_W}),l1={},u1={},c1={},hP;function wW(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(c1)),c1}var f1={},h1={},dP;function j3(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(h1)),h1}var mP;function EW(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(f1)),f1}var pP;function xW(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wW(),n=EW(),r=Zx();function i(s,l,c,f){if(s==null)return[];c=f?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,x)=>{let E=_;for(let T=0;T<x.length&&E!=null;++T)E=E[x[T]];return E},m=(_,x)=>x==null||_==null?x:typeof _=="object"&&"key"in _?Object.hasOwn(x,_.key)?x[_.key]:d(x,_.path):typeof _=="function"?_(x):Array.isArray(_)?d(x,_):typeof x=="object"?x[_]:x,p=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:p.map(x=>m(x,_))})).slice().sort((_,x)=>{for(let E=0;E<p.length;E++){const T=e.compareValues(_.criteria[E],x.criteria[E],c[E]);if(T!==0)return T}return 0}).map(_=>_.original)}t.orderBy=i})(u1)),u1}var d1={},gP;function TW(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,f)=>{for(let d=0;d<c.length;d++){const m=c[d];Array.isArray(m)&&f<s?l(m,f+1):i.push(m)}};return l(n,0),i}t.flatten=e})(d1)),d1}var m1={},yP;function V3(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M3(),n=eT(),r=I3(),i=O3();function s(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}t.isIterateeCall=s})(m1)),m1}var vP;function AW(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xW(),n=TW(),r=V3();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(l1)),l1}var p1,bP;function SW(){return bP||(bP=1,p1=AW().sortBy),p1}var IW=SW();const wv=va(IW);var L3=t=>t.legend.settings,CW=t=>t.legend.size,OW=t=>t.legend.payload;ne([OW,L3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?wv(r,n):r});var Hp=1;function RW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Hp||Math.abs(l.left-e.left)>Hp||Math.abs(l.top-e.top)>Hp||Math.abs(l.width-e.width)>Hp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Bn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PW=typeof Symbol=="function"&&Symbol.observable||"@@observable",_P=PW,g1=()=>Math.random().toString(36).substring(7).split("").join("."),NW={INIT:`@@redux/INIT${g1()}`,REPLACE:`@@redux/REPLACE${g1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${g1()}`},iy=NW;function nT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function z3(t,e,n){if(typeof t!="function")throw new Error(Bn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Bn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Bn(1));return n(z3)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,f=!1;function d(){l===s&&(l=new Map,s.forEach((T,O)=>{l.set(O,T)}))}function m(){if(f)throw new Error(Bn(3));return i}function p(T){if(typeof T!="function")throw new Error(Bn(4));if(f)throw new Error(Bn(5));let O=!0;d();const M=c++;return l.set(M,T),function(){if(O){if(f)throw new Error(Bn(6));O=!1,d(),l.delete(M),s=null}}}function v(T){if(!nT(T))throw new Error(Bn(7));if(typeof T.type>"u")throw new Error(Bn(8));if(typeof T.type!="string")throw new Error(Bn(17));if(f)throw new Error(Bn(9));try{f=!0,i=r(i,T)}finally{f=!1}return(s=l).forEach(M=>{M()}),T}function _(T){if(typeof T!="function")throw new Error(Bn(10));r=T,v({type:iy.REPLACE})}function x(){const T=p;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Bn(11));function M(){const $=O;$.next&&$.next(m())}return M(),{unsubscribe:T(M)}},[_P](){return this}}}return v({type:iy.INIT}),{dispatch:v,subscribe:p,getState:m,replaceReducer:_,[_P]:x}}function DW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:iy.INIT})>"u")throw new Error(Bn(12));if(typeof n(void 0,{type:iy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bn(13))})}function B3(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{DW(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let f=!1;const d={};for(let m=0;m<r.length;m++){const p=r[m],v=n[p],_=l[p],x=v(_,c);if(typeof x>"u")throw c&&c.type,new Error(Bn(14));d[p]=x,f=f||x!==_}return f=f||r.length!==Object.keys(l).length,f?d:l}}function ay(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MW(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Bn(15))};const l={getState:i.getState,dispatch:(f,...d)=>s(f,...d)},c=t.map(f=>f(l));return s=ay(...c)(i.dispatch),{...i,dispatch:s}}}function U3(t){return nT(t)&&"type"in t&&typeof t.type=="string"}var $3=Symbol.for("immer-nothing"),wP=Symbol.for("immer-draftable"),$r=Symbol.for("immer-state");function Pi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zc=Object.getPrototypeOf;function Xl(t){return!!t&&!!t[$r]}function rs(t){return t?q3(t)||Array.isArray(t)||!!t[wP]||!!t.constructor?.[wP]||qd(t)||xv(t):!1}var kW=Object.prototype.constructor.toString();function q3(t){if(!t||typeof t!="object")return!1;const e=zc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===kW}function sy(t,e){Ev(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Ev(t){const e=t[$r];return e?e.type_:Array.isArray(t)?1:qd(t)?2:xv(t)?3:0}function zw(t,e){return Ev(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function F3(t,e,n){const r=Ev(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function jW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qd(t){return t instanceof Map}function xv(t){return t instanceof Set}function gl(t){return t.copy_||t.base_}function Bw(t,e){if(qd(t))return new Map(t);if(xv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=q3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[$r];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(zc(t),r)}else{const r=zc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function rT(t,e=!1){return Tv(t)||Xl(t)||!rs(t)||(Ev(t)>1&&Object.defineProperties(t,{set:{value:Kp},add:{value:Kp},clear:{value:Kp},delete:{value:Kp}}),Object.freeze(t),e&&Object.values(t).forEach(n=>rT(n,!0))),t}function Kp(){Pi(2)}function Tv(t){return Object.isFrozen(t)}var VW={};function Zl(t){const e=VW[t];return e||Pi(0,t),e}var fd;function H3(){return fd}function LW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function EP(t,e){e&&(Zl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Uw(t){$w(t),t.drafts_.forEach(zW),t.drafts_=null}function $w(t){t===fd&&(fd=t.parent_)}function xP(t){return fd=LW(fd,t)}function zW(t){const e=t[$r];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[$r].modified_&&(Uw(e),Pi(4)),rs(t)&&(t=oy(e,t),e.parent_||ly(e,t)),e.patches_&&Zl("Patches").generateReplacementPatches_(n[$r].base_,t,e.patches_,e.inversePatches_)):t=oy(e,n,[]),Uw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==$3?t:void 0}function oy(t,e,n){if(Tv(e))return e;const r=e[$r];if(!r)return sy(e,(i,s)=>AP(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ly(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,l=!1;r.type_===3&&(s=new Set(i),i.clear(),l=!0),sy(s,(c,f)=>AP(t,r,i,c,f,n,l)),ly(t,i,!1),n&&t.patches_&&Zl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function AP(t,e,n,r,i,s,l){if(Xl(i)){const c=s&&e&&e.type_!==3&&!zw(e.assigned_,r)?s.concat(r):void 0,f=oy(t,i,c);if(F3(n,r,f),Xl(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(rs(i)&&!Tv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;oy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(qd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ly(t,i)}}function ly(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rT(e,n)}function BW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:H3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=iT;n&&(i=[r],s=hd);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var iT={get(t,e){if(e===$r)return t;const n=gl(t);if(!zw(n,e))return UW(t,n,e);const r=n[e];return t.finalized_||!rs(r)?r:r===y1(t.base_,e)?(v1(t),t.copy_[e]=Fw(r,t)):r},has(t,e){return e in gl(t)},ownKeys(t){return Reflect.ownKeys(gl(t))},set(t,e,n){const r=K3(gl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=y1(gl(t),e),s=i?.[$r];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(jW(n,i)&&(n!==void 0||zw(t.base_,e)))return!0;v1(t),qw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return y1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,v1(t),qw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=gl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Pi(11)},getPrototypeOf(t){return zc(t.base_)},setPrototypeOf(){Pi(12)}},hd={};sy(iT,(t,e)=>{hd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hd.deleteProperty=function(t,e){return hd.set.call(this,t,e,void 0)};hd.set=function(t,e,n){return iT.set.call(this,t[0],e,n,t[0])};function y1(t,e){const n=t[$r];return(n?gl(n):t)[e]}function UW(t,e,n){const r=K3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function K3(t,e){if(!(e in t))return;let n=zc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=zc(n)}}function qw(t){t.modified_||(t.modified_=!0,t.parent_&&qw(t.parent_))}function v1(t){t.copy_||(t.copy_=Bw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $W=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...d){return l.produce(f,m=>n.call(this,m,...d))}}typeof n!="function"&&Pi(6),r!==void 0&&typeof r!="function"&&Pi(7);let i;if(rs(e)){const s=xP(this),l=Fw(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Uw(s):$w(s)}return EP(s,r),TP(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===$3&&(i=void 0),this.autoFreeze_&&rT(i,!0),r){const s=[],l=[];Zl("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else Pi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){rs(t)||Pi(8),Xl(t)&&(t=Wa(t));const e=xP(this),n=Fw(t,void 0);return n[$r].isManual_=!0,$w(e),n}finishDraft(t,e){const n=t&&t[$r];(!n||!n.isManual_)&&Pi(9);const{scope_:r}=n;return EP(r,e),TP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zl("Patches").applyPatches_;return Xl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Fw(t,e){const n=qd(t)?Zl("MapSet").proxyMap_(t,e):xv(t)?Zl("MapSet").proxySet_(t,e):BW(t,e);return(e?e.scope_:H3()).drafts_.push(n),n}function Wa(t){return Xl(t)||Pi(10,t),G3(t)}function G3(t){if(!rs(t)||Tv(t))return t;const e=t[$r];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Bw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Bw(t,!0);return sy(n,(r,i)=>{F3(n,r,G3(i))}),e&&(e.finalized_=!1),n}var qW=new $W,Y3=qW.produce;function W3(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var FW=W3(),HW=W3,KW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ay:ay.apply(null,arguments)};function pi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Br(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>U3(r)&&r.type===t,n}var Q3=class kh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,kh.prototype)}static get[Symbol.species](){return kh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new kh(...e[0].concat(this)):new kh(...e.concat(this))}};function SP(t){return rs(t)?Y3(t,()=>{}):t}function Gp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function GW(t){return typeof t=="boolean"}var YW=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new Q3;return n&&(GW(n)?l.push(FW):l.push(HW(n.extraArgument))),l},X3="RTK_autoBatch",ar=()=>t=>({payload:t,meta:{[X3]:!0}}),IP=t=>e=>{setTimeout(e,t)},Z3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IP(10):t.type==="callback"?t.queueNotification:IP(t.timeout),d=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),v=r.subscribe(p);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[X3],s=!i,s&&(l||(l=!0,f(d))),r.dispatch(m)}finally{i=!0}}})},WW=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Q3(t);return r&&i.push(Z3(typeof r=="object"?r:void 0)),i};function QW(t){const e=YW(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(nT(n))c=B3(n);else throw new Error(Br(1));let f;typeof r=="function"?f=r(e):f=e();let d=ay;i&&(d=KW({trace:!1,...typeof i=="object"&&i}));const m=MW(...f),p=WW(m);let v=typeof l=="function"?l(p):p();const _=d(...v);return z3(c,s,_)}function J3(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Br(28));if(c in e)throw new Error(Br(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function XW(t){return typeof t=="function"}function ZW(t,e){let[n,r,i]=J3(e),s;if(XW(t))s=()=>SP(t());else{const c=SP(t);s=()=>c}function l(c=s(),f){let d=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[i]),d.reduce((m,p)=>{if(p)if(Xl(m)){const _=p(m,f);return _===void 0?m:_}else{if(rs(m))return Y3(m,v=>p(v,f));{const v=p(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return l.getInitialState=s,l}var JW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eQ=(t=21)=>{let e="",n=t;for(;n--;)e+=JW[Math.random()*64|0];return e},tQ=Symbol.for("rtk-slice-createasyncthunk");function nQ(t,e){return`${t}/${e}`}function rQ({creators:t}={}){const e=t?.asyncThunk?.[tQ];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Br(11));const l=(typeof r.reducers=="function"?r.reducers(aQ()):r.reducers)||{},c=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,$){const B=typeof P=="string"?P:P.type;if(!B)throw new Error(Br(12));if(B in f.sliceCaseReducersByType)throw new Error(Br(13));return f.sliceCaseReducersByType[B]=$,d},addMatcher(P,$){return f.sliceMatchers.push({matcher:P,reducer:$}),d},exposeAction(P,$){return f.actionCreators[P]=$,d},exposeCaseReducer(P,$){return f.sliceCaseReducersByName[P]=$,d}};c.forEach(P=>{const $=l[P],B={reducerName:P,type:nQ(i,P),createNotation:typeof r.reducers=="function"};oQ($)?uQ(B,$,d,e):sQ(B,$,d)});function m(){const[P={},$=[],B=void 0]=typeof r.extraReducers=="function"?J3(r.extraReducers):[r.extraReducers],q={...P,...f.sliceCaseReducersByType};return ZW(r.initialState,R=>{for(let N in q)R.addCase(N,q[N]);for(let N of f.sliceMatchers)R.addMatcher(N.matcher,N.reducer);for(let N of $)R.addMatcher(N.matcher,N.reducer);B&&R.addDefaultCase(B)})}const p=P=>P,v=new Map,_=new WeakMap;let x;function E(P,$){return x||(x=m()),x(P,$)}function T(){return x||(x=m()),x.getInitialState()}function O(P,$=!1){function B(R){let N=R[P];return typeof N>"u"&&$&&(N=Gp(_,B,T)),N}function q(R=p){const N=Gp(v,$,()=>new WeakMap);return Gp(N,R,()=>{const j={};for(const[z,V]of Object.entries(r.selectors??{}))j[z]=iQ(V,R,()=>Gp(_,R,T),$);return j})}return{reducerPath:P,getSelectors:q,get selectors(){return q(B)},selectSlice:B}}const M={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:T,...O(s),injectInto(P,{reducerPath:$,...B}={}){const q=$??s;return P.inject({reducerPath:q,reducer:E},B),{...M,...O(q,!0)}}};return M}}function iQ(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var qr=rQ();function aQ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function sQ({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!lQ(r))throw new Error(Br(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?pi(t,l):pi(t))}function oQ(t){return t._reducerDefinitionType==="asyncThunk"}function lQ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function uQ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Br(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:f,settled:d,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),f&&r.addCase(p.rejected,f),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Yp,pending:c||Yp,rejected:f||Yp,settled:d||Yp})}function Yp(){}var cQ="task",e5="listener",t5="completed",aT="cancelled",fQ=`task-${aT}`,hQ=`task-${t5}`,Hw=`${e5}-${aT}`,dQ=`${e5}-${t5}`,Av=class{constructor(t){this.code=t,this.message=`${cQ} ${aT} (reason: ${t})`}name="TaskAbortError";message},sT=(t,e)=>{if(typeof t!="function")throw new TypeError(Br(32))},uy=()=>{},n5=(t,e=uy)=>(t.catch(e),t),r5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),kl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},jl=t=>{if(t.aborted){const{reason:e}=t;throw new Av(e)}};function i5(t,e){let n=uy;return new Promise((r,i)=>{const s=()=>i(new Av(t.reason));if(t.aborted){s();return}n=r5(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=uy})}var mQ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Av?"cancelled":"rejected",error:n}}finally{e?.()}},cy=t=>e=>n5(i5(t,e).then(n=>(jl(t),n))),a5=t=>{const e=cy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:yc}=Object,CP={},Sv="listenerMiddleware",pQ=(t,e)=>{const n=r=>r5(t,()=>kl(r,t.reason));return(r,i)=>{sT(r);const s=new AbortController;n(s);const l=mQ(async()=>{jl(t),jl(s.signal);const c=await r({pause:cy(s.signal),delay:a5(s.signal),signal:s.signal});return jl(s.signal),c},()=>kl(s,hQ));return i?.autoJoin&&e.push(l.catch(uy)),{result:cy(t)(l),cancel(){kl(s,fQ)}}}},gQ=(t,e)=>{const n=async(r,i)=>{jl(e);let s=()=>{};const c=[new Promise((f,d)=>{let m=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),f([p,v.getState(),v.getOriginalState()])}});s=()=>{m(),d()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await i5(e,Promise.race(c));return jl(e),f}finally{s()}};return(r,i)=>n5(n(r,i))},s5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=pi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Br(21));return sT(s),{predicate:i,type:e,effect:s}},o5=yc(t=>{const{type:e,predicate:n,effect:r}=s5(t);return{id:eQ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Br(22))}}},{withTypes:()=>o5}),OP=(t,e)=>{const{type:n,effect:r,predicate:i}=s5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Kw=t=>{t.pending.forEach(e=>{kl(e,Hw)})},yQ=(t,e)=>()=>{for(const n of e.keys())Kw(n);t.clear()},RP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},l5=yc(pi(`${Sv}/add`),{withTypes:()=>l5}),vQ=pi(`${Sv}/removeAll`),u5=yc(pi(`${Sv}/remove`),{withTypes:()=>u5}),bQ=(...t)=>{console.error(`${Sv}/error`,...t)},Fd=(t={})=>{const e=new Map,n=new Map,r=_=>{const x=n.get(_)??0;n.set(_,x+1)},i=_=>{const x=n.get(_)??1;x===1?n.delete(_):n.set(_,x-1)},{extra:s,onError:l=bQ}=t;sT(l);const c=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),x=>{_.unsubscribe(),x?.cancelActive&&Kw(_)}),f=_=>{const x=OP(e,_)??o5(_);return c(x)};yc(f,{withTypes:()=>f});const d=_=>{const x=OP(e,_);return x&&(x.unsubscribe(),_.cancelActive&&Kw(x)),!!x};yc(d,{withTypes:()=>d});const m=async(_,x,E,T)=>{const O=new AbortController,M=gQ(f,O.signal),P=[];try{_.pending.add(O),r(_),await Promise.resolve(_.effect(x,yc({},E,{getOriginalState:T,condition:($,B)=>M($,B).then(Boolean),take:M,delay:a5(O.signal),pause:cy(O.signal),extra:s,signal:O.signal,fork:pQ(O.signal,P),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach(($,B,q)=>{$!==O&&(kl($,Hw),q.delete($))})},cancel:()=>{kl(O,Hw),_.pending.delete(O)},throwIfCancelled:()=>{jl(O.signal)}})))}catch($){$ instanceof Av||RP(l,$,{raisedBy:"effect"})}finally{await Promise.all(P),kl(O,dQ),i(_),_.pending.delete(O)}},p=yQ(e,n);return{middleware:_=>x=>E=>{if(!U3(E))return x(E);if(l5.match(E))return f(E.payload);if(vQ.match(E)){p();return}if(u5.match(E))return d(E.payload);let T=_.getState();const O=()=>{if(T===CP)throw new Error(Br(23));return T};let M;try{if(M=x(E),e.size>0){const P=_.getState(),$=Array.from(e.values());for(const B of $){let q=!1;try{q=B.predicate(E,P,T)}catch(R){q=!1,RP(l,R,{raisedBy:"predicate"})}q&&m(B,E,_,O)}}}finally{T=CP}return M},startListening:f,stopListening:d,clearListeners:p}};function Br(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _Q={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},c5=qr({name:"chartLayout",initialState:_Q,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:wQ,setLayout:EQ,setChartSize:xQ,setScale:TQ}=c5.actions,AQ=c5.reducer;function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){SQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e,n){return(e=IQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=CQ(t,"string");return typeof e=="symbol"?e:e+""}function CQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fy=Math.PI/180,OQ=t=>t*180/Math.PI,fn=(t,e,n,r)=>({x:t+Math.cos(-fy*r)*n,y:e+Math.sin(-fy*r)*n}),f5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},RQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},PQ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=RQ({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>s&&(f=2*Math.PI-f),{radius:l,angle:OQ(f),angleInRadian:f}},NQ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},DQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},MQ=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=PQ({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:d}=NQ(e),m=s,p;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}return p?NP(NP({},e),{},{radius:i,angle:DQ(m,e)}):null};function h5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){kQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kQ(t,e,n){return(e=jQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=VQ(t,"string");return typeof e=="symbol"?e:e+""}function VQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zt(t,e,n){return Nn(t)||Nn(e)?n:ga(e)?Ql(t,e,n):typeof e=="function"?e(t):n}var LQ=(t,e,n,r,i)=>{var s,l=-1,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var d=f>0?n[f-1].coordinate:n[c-1].coordinate,m=n[f].coordinate,p=f>=c-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Pn(m-d)!==Pn(p-m)){var _=[];if(Pn(p-m)===Pn(i[1]-i[0])){v=p;var x=m+i[1]-i[0];_[0]=Math.min(x,(x+d)/2),_[1]=Math.max(x,(x+d)/2)}else{v=d;var E=p+i[1]-i[0];_[0]=Math.min(m,(E+m)/2),_[1]=Math.max(m,(E+m)/2)}var T=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>T[0]&&t<=T[1]||t>=_[0]&&t<=_[1]){({index:l}=n[f]);break}}else{var O=Math.min(d,p),M=Math.max(d,p);if(t>(O+m)/2&&t<=(M+m)/2){({index:l}=n[f]);break}}}else if(e){for(var P=0;P<c;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<c-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===c-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:l}=e[P]);break}}return l},zQ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&Re(t[s]))return oi(oi({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&Re(t[l]))return oi(oi({},t),{},{[l]:t[l]+(i||0)})}return t},ou=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",d5=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,s,l=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate));return i||l.push(e),s||l.push(n),l},m5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:c,isCategorical:f,categoricalDomain:d,tickCount:m,ticks:p,niceTicks:v,axisType:_}=t;if(!l)return null;var x=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/x:0;if(E=_==="angleAxis"&&s&&s.length>=2?Pn(s[0]-s[1])*2*E:E,p||v){var T=(p||v||[]).map((O,M)=>{var P=r?r.indexOf(O):O;return{coordinate:l(P)+E,value:O,offset:E,index:M}});return T.filter(O=>!mi(O.coordinate))}return f&&d?d.map((O,M)=>({coordinate:l(O)+E,value:O,index:M,offset:E})):l.ticks&&m!=null?l.ticks(m).map((O,M)=>({coordinate:l(O)+E,value:O,offset:E,index:M})):l.domain().map((O,M)=>({coordinate:l(O)+E,value:r?r[O]:O,index:M,offset:E}))},MP=1e-4,BQ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-MP,s=Math.max(r[0],r[1])+MP,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},UQ=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(i[0]=n),(!Re(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},$Q=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,l=0;l<e;++l){var c=mi(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},qQ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var l=mi(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},FQ={sign:$Q,expand:gY,none:Lc,silhouette:yY,wiggle:vY,positive:qQ},HQ=(t,e,n)=>{var r=FQ[n],i=pY().keys(e).value((s,l)=>+zt(s,l,0)).order(Vw).offset(r);return i(t)};function KQ(t){return t==null?void 0:String(t)}var kP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=zt(s,e.dataKey,e.scale.domain()[l]);return Nn(c)?null:e.scale(c)-i/2+r},GQ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},YQ=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},WQ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],QQ=(t,e,n)=>{if(t!=null)return WQ(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:l}=s,c=l.reduce((f,d)=>{var m=h5(d,e,n),p=YQ(m);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},jP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oT=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=wv(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var f=i[l],d=i[l-1];s=Math.min((f.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function LP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return oi(oi({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Iv(t,e){if(t)return String(t);if(typeof e=="string")return e}function XQ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?MQ({x:t,y:e},r):null}var ZQ=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:l}=r;return oi(oi(oi({},r),fn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:f}=r;return oi(oi(oi({},r),fn(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{x:0,y:0}},JQ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,fs=t=>t.layout.width,hs=t=>t.layout.height,eX=t=>t.layout.scale,p5=t=>t.layout.margin,Cv=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Ov=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),g5="data-recharts-item-index",y5="data-recharts-item-data-key",Hd=60;function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iX=t=>t.brush.height;function aX(t){var e=Ov(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hd;return n+i}return n},0)}function sX(t){var e=Ov(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hd;return n+i}return n},0)}function oX(t){var e=Cv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function lX(t){var e=Cv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var En=ne([fs,hs,p5,iX,aX,sX,oX,lX,L3,CW],(t,e,n,r,i,s,l,c,f,d)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},v=Wp(Wp({},p),m),_=v.bottom;v.bottom+=r,v=zQ(v,f,d);var x=t-v.left-v.right,E=e-v.top-v.bottom;return Wp(Wp({brushBottom:_},v),{},{width:Math.max(x,0),height:Math.max(E,0)})}),uX=ne(En,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),lT=ne(fs,hs,(t,e)=>({x:0,y:0,width:t,height:e})),cX=A.createContext(null),Fr=()=>A.useContext(cX)!=null,Rv=t=>t.brush,Pv=ne([Rv,En,p5],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Re(t.width)?t.width:e.width})),b1={},_1={},w1={},BP;function fX(){return BP||(BP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const f=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{d&&m(),E()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},x=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{x(),l=void 0,c=null},T=()=>{m()},O=function(...M){if(i?.aborted)return;l=this,c=M;const P=v==null;_(),f&&P&&m()};return O.schedule=_,O.cancel=E,O.flush=T,i?.addEventListener("abort",E,{once:!0}),O}t.debounce=e})(w1)),w1}var UP;function hX(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fX();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:f}=s,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let m,p=null;const v=e.debounce(function(...E){m=r.apply(this,E),p=null},i,{edges:d}),_=function(...E){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(m=r.apply(this,E),p=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,E),m)},x=()=>(v.flush(),m);return _.cancel=v.cancel,_.flush=x,_}t.debounce=n})(_1)),_1}var $P;function dX(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hX();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(b1)),b1}var E1,qP;function mX(){return qP||(qP=1,E1=dX().throttle),E1}var pX=mX();const gX=va(pX);var hy=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},v5=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=ns(r)?t:Number(r),f=ns(i)?e:Number(i);return s&&s>0&&(c?f=c/s:f&&(c=f*s),l&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},yX={width:0,height:0,overflow:"visible"},vX={width:0,overflowX:"visible"},bX={height:0,overflowY:"visible"},_X={},wX=t=>{var{width:e,height:n}=t,r=ns(e),i=ns(n);return r&&i?yX:r?vX:i?bX:_X};function EX(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function tr(t){return Number.isFinite(t)}function Bc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){xX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xX(t,e,n){return(e=TX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=AX(t,"string");return typeof e=="symbol"?e:e+""}function AX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b5=A.createContext({width:-1,height:-1});function _5(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:A.createElement(b5.Provider,{value:i},e)}var uT=()=>A.useContext(b5),SX=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:f,children:d,debounce:m=0,id:p,className:v,onResize:_,style:x={}}=t,E=A.useRef(null),T=A.useRef();T.current=_,A.useImperativeHandle(e,()=>E.current);var[O,M]=A.useState({containerWidth:r.width,containerHeight:r.height}),P=A.useCallback((N,j)=>{M(z=>{var V=Math.round(N),U=Math.round(j);return z.containerWidth===V&&z.containerHeight===U?z:{containerWidth:V,containerHeight:U}})},[]);A.useEffect(()=>{var N=U=>{var k,{width:ce,height:we}=U[0].contentRect;P(ce,we),(k=T.current)===null||k===void 0||k.call(T,ce,we)};m>0&&(N=gX(N,m,{trailing:!0,leading:!1}));var j=new ResizeObserver(N),{width:z,height:V}=E.current.getBoundingClientRect();return P(z,V),j.observe(E.current),()=>{j.disconnect()}},[P,m]);var{containerWidth:$,containerHeight:B}=O;hy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:q,calculatedHeight:R}=v5($,B,{width:i,height:s,aspect:n,maxHeight:f});return hy(q>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,R,i,s,l,c,n),A.createElement("div",{id:p?"".concat(p):void 0,className:xt("recharts-responsive-container",v),style:HP(HP({},x),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:f}),ref:E},A.createElement("div",{style:wX({width:i,height:s})},A.createElement(_5,{width:q,height:R},d)))}),Yw=A.forwardRef((t,e)=>{var n=uT();if(Bc(n.width)&&Bc(n.height))return t.children;var{width:r,height:i}=EX({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=v5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Re(s)&&Re(l)?A.createElement(_5,{width:s,height:l},t.children):A.createElement(SX,Gw({},t,{width:r,height:i,ref:e}))}),Nv=()=>{var t,e=Fr(),n=Pe(uX),r=Pe(Pv),i=(t=Pe(Rv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},IX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},w5=()=>{var t;return(t=Pe(En))!==null&&t!==void 0?t:IX},E5=()=>Pe(fs),x5=()=>Pe(hs),lt=t=>t.layout.layoutType,cT=()=>Pe(lt),Dv=t=>{var e=Ht(),n=Fr(),{width:r,height:i}=t,s=uT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),A.useEffect(()=>{!n&&Bc(l)&&Bc(c)&&e(xQ({width:l,height:c}))},[e,n,l,c]),null},CX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T5=qr({name:"legend",initialState:CX,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:ar()},removeLegendPayload:{reducer(t,e){var n=Wa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:ar()}}}),{setLegendSize:tfe,setLegendSettings:nfe,addLegendPayload:A5,removeLegendPayload:S5}=T5.actions,OX=T5.reducer;function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return(e=PX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PX(t){var e=NX(t,"string");return typeof e=="symbol"?e:e+""}function NX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DX(t){return Array.isArray(t)&&ga(t[0])&&ga(t[1])?t.join(" ~ "):t}var MX=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:m,labelFormatter:p,accessibilityLayer:v=!1}=t,_=()=>{if(s&&s.length){var B={padding:0,margin:0},q=(c?wv(s,c):s).map((R,N)=>{if(R.type==="none")return null;var j=R.formatter||l||DX,{value:z,name:V}=R,U=z,k=V;if(j){var ce=j(z,V,R,N,s);if(Array.isArray(ce))[U,k]=ce;else if(ce!=null)U=ce;else return null}var we=x1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:we},ga(k)?A.createElement("span",{className:"recharts-tooltip-item-name"},k):null,ga(k)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},U),A.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:B},q)}return null},x=x1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=x1({margin:0},i),T=!Nn(m),O=T?m:"",M=xt("recharts-default-tooltip",f),P=xt("recharts-tooltip-label",d);T&&p&&s!==void 0&&s!==null&&(O=p(m,s));var $=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Ww({className:M,style:x},$),A.createElement("p",{className:P,style:E},A.isValidElement(O)?O:"".concat(O)),_())},_h="recharts-tooltip-wrapper",kX={visibility:"hidden"};function jX(t){var{coordinate:e,translateX:n,translateY:r}=t;return xt(_h,{["".concat(_h,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat(_h,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat(_h,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat(_h,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function GP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=t;if(s&&Re(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var v=f[r];if(v==null)return 0;if(l[r]){var _=m,x=v;return _<x?Math.max(p,v):Math.max(m,v)}if(d==null)return 0;var E=p+c,T=v+d;return E>T?Math.max(m,v):Math.max(p,v)}function VX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function LX(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:f}=t,d,m,p;return l.height>0&&l.width>0&&n?(m=GP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),p=GP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=VX({translateX:m,translateY:p,useTranslate3d:c})):d=kX,{cssProperties:d,cssClasses:jX({translateX:m,translateY:p,coordinate:n})}}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){Qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qw(t,e,n){return(e=zX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zX(t){var e=BX(t,"string");return typeof e=="symbol"?e:e+""}function BX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class UX extends A.PureComponent{constructor(){super(...arguments),Qw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Qw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:m,reverseDirection:p,useTranslate3d:v,viewBox:_,wrapperStyle:x,lastBoundingBox:E,innerRef:T,hasPortalFromProps:O}=this.props,{cssClasses:M,cssProperties:P}=LX({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:m,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:_}),$=O?{}:Qp(Qp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),B=Qp(Qp({},$),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:B,ref:T},s)}}var $X=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lu={devToolsEnabled:!1,isSsr:$X()},I5=()=>Pe(t=>t.rootProps.accessibilityLayer);function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(null,arguments)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){qX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qX(t,e,n){return(e=FX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=HX(t,"string");return typeof e=="symbol"?e:e+""}function HX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XP={curveBasisClosed:iY,curveBasisOpen:aY,curveBasis:rY,curveBumpX:qG,curveBumpY:FG,curveLinearClosed:sY,curveLinear:vv,curveMonotoneX:oY,curveMonotoneY:lY,curveNatural:uY,curveStep:cY,curveStepAfter:hY,curveStepBefore:fY},Xp=t=>tr(t.x)&&tr(t.y),wh=t=>t.x,Eh=t=>t.y,KX=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($d(t));return(n==="curveMonotone"||n==="curveBump")&&e?XP["".concat(n).concat(e==="vertical"?"Y":"X")]:XP[n]||vv},GX=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=KX(e,i),c=s?n.filter(Xp):n,f;if(Array.isArray(r)){var d=s?r.filter(p=>Xp(p)):r,m=c.map((p,v)=>QP(QP({},p),{},{base:d[v]}));return i==="vertical"?f=qp().y(Eh).x1(wh).x0(p=>p.base.x):f=qp().x(wh).y1(Eh).y0(p=>p.base.y),f.defined(Xp).curve(l),f(m)}return i==="vertical"&&Re(r)?f=qp().y(Eh).x1(wh).x0(r):Re(r)?f=qp().x(wh).y1(Eh).y0(r):f=f3().x(wh).y(Eh),f.defined(Xp).curve(l),f(c)},C5=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?GX(t):r;return A.createElement("path",Xw({},ki(t),kY(t),{className:xt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},YX=["x","y","top","left","width","height","className"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){QX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QX(t,e,n){return(e=XX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XX(t){var e=ZX(t,"string");return typeof e=="symbol"?e:e+""}function ZX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JX(t,e){if(t==null)return{};var n,r,i=eZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tZ=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),nZ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,f=JX(t,YX),d=WX({x:e,y:n,top:r,left:i,width:s,height:l},f);return!Re(e)||!Re(n)||!Re(s)||!Re(l)||!Re(r)||!Re(i)?null:A.createElement("path",Zw({},di(d),{className:xt("recharts-cross",c),d:tZ(e,n,s,l,r,i)}))};function rZ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){aZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aZ(t,e,n){return(e=sZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sZ(t){var e=oZ(t,"string");return typeof e=="symbol"?e:e+""}function oZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cr(t,e){var n=iZ({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}function lZ(){}function uZ(t){return t!=null}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){cZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cZ(t,e,n){return(e=fZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fZ(t){var e=hZ(t,"string");return typeof e=="symbol"?e:e+""}function hZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dZ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),O5=(t,e,n)=>t.map(r=>"".concat(dZ(r)," ").concat(e,"ms ").concat(n)).join(","),mZ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),dd=(t,e)=>Object.keys(e).reduce((n,r)=>tN(tN({},n),{},{[r]:t(r,e[r])}),{});function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dy=(t,e,n)=>t+(e-t)*n,Jw=t=>{var{from:e,to:n}=t;return e!==n},R5=(t,e,n)=>{var r=dd((i,s)=>{if(Jw(s)){var[l,c]=t(s.from,s.to,s.velocity);return qn(qn({},s),{},{from:l,velocity:c})}return s},e);return n<1?dd((i,s)=>Jw(s)?qn(qn({},s),{},{velocity:dy(s.velocity,r[i].velocity,n),from:dy(s.from,r[i].from,n)}):s,e):R5(t,r,n-1)};function vZ(t,e,n,r,i,s){var l,c=r.reduce((v,_)=>qn(qn({},v),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),f=()=>dd((v,_)=>_.from,c),d=()=>!Object.values(c).filter(Jw).length,m=null,p=v=>{l||(l=v);var _=v-l,x=_/n.dt;c=R5(n,c,x),i(qn(qn(qn({},t),e),f())),l=v,d()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{m()})}function bZ(t,e,n,r,i,s,l){var c=null,f=i.reduce((p,v)=>qn(qn({},p),{},{[v]:[t[v],e[v]]}),{}),d,m=p=>{d||(d=p);var v=(p-d)/r,_=dd((E,T)=>dy(...T,n(v)),f);if(s(qn(qn(qn({},t),e),_)),v<1)c=l.setTimeout(m);else{var x=dd((E,T)=>dy(...T,n(1)),f);s(qn(qn(qn({},t),e),x))}};return()=>(c=l.setTimeout(m),()=>{c()})}const _Z=(t,e,n,r,i,s)=>{var l=mZ(t,e);return n.isStepper===!0?vZ(t,e,n,l,i,s):bZ(t,e,n,r,l,i,s)};var my=1e-4,P5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],N5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),rN=(t,e)=>n=>{var r=P5(t,e);return N5(r,n)},wZ=(t,e)=>n=>{var r=P5(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return N5(i,n)},iN=function(){for(var e,n,r,i,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else l.length===4&&([e,r,n,i]=l);var d=rN(e,n),m=rN(r,i),p=wZ(e,n),v=x=>x>1?1:x<0?0:x,_=x=>{for(var E=x>1?1:x,T=E,O=0;O<8;++O){var M=d(T)-E,P=p(T);if(Math.abs(M-E)<my||P<my)return m(T);T=v(T-M/P)}return m(T)};return _.isStepper=!1,_},EZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,f)=>{var d=-(l-c)*n,m=f*r,p=f+(d-m)*i/1e3,v=f*i/1e3+l;return Math.abs(v-c)<my&&Math.abs(p)<my?[c,0]:[v,p]};return s.isStepper=!0,s.dt=i,s},xZ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iN(t);case"spring":return EZ();default:if(t.split("(")[0]==="cubic-bezier")return iN(t)}return typeof t=="function"?t:null};function TZ(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){i=t.setTimeout(s.bind(null,d),f);return}s(f),i=t.setTimeout(s.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class AZ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function SZ(){return TZ(new AZ)}var IZ=A.createContext(SZ);function CZ(t,e){var n=A.useContext(IZ);return A.useMemo(()=>e??n(t),[t,e,n])}var OZ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aN={t:0},T1={t:1};function Mv(t){var e=cr(t,OZ),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:f,children:d}=e,m=CZ(e.animationId,e.animationManager),[p,v]=A.useState(n?aN:T1),_=A.useRef(null);return A.useEffect(()=>{n||v(T1)},[n]),A.useEffect(()=>{if(!n||!r)return lZ;var x=_Z(aN,T1,xZ(s),i,v,m.getTimeoutController()),E=()=>{_.current=x()};return m.start([f,l,E,i,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,i,s,l,f,c,m]),d(p.t)}function kv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(cd(e)),r=A.useRef(t);return r.current!==t&&(n.current=cd(e),r.current=t),n.current}var RZ=["radius"],PZ=["radius"];function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){NZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NZ(t,e,n){return(e=DZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DZ(t){var e=MZ(t,"string");return typeof e=="symbol"?e:e+""}function MZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(null,arguments)}function lN(t,e){if(t==null)return{};var n,r,i=kZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uN=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,v=4;p<v;p++)m[p]=i[p]>s?s:i[p];d="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+c*m[0],",").concat(e)),d+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*m[1])),d+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),d+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*m[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);d="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*_," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},jZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D5=t=>{var e=cr(t,jZ),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var W=n.current.getTotalLength();W&&i(W)}catch{}},[]);var{x:s,y:l,width:c,height:f,radius:d,className:m}=e,{animationEasing:p,animationDuration:v,animationBegin:_,isAnimationActive:x,isUpdateAnimationActive:E}=e,T=A.useRef(c),O=A.useRef(f),M=A.useRef(s),P=A.useRef(l),$=A.useMemo(()=>({x:s,y:l,width:c,height:f,radius:d}),[s,l,c,f,d]),B=kv($,"rectangle-");if(s!==+s||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var q=xt("recharts-rectangle",m);if(!E){var R=di(e),{radius:N}=R,j=lN(R,RZ);return A.createElement("path",py({},j,{radius:typeof d=="number"?d:void 0,className:q,d:uN(s,l,c,f,d)}))}var z=T.current,V=O.current,U=M.current,k=P.current,ce="0px ".concat(r===-1?1:r,"px"),we="".concat(r,"px 0px"),Q=O5(["strokeDasharray"],v,typeof p=="string"?p:void 0);return A.createElement(Mv,{animationId:B,key:B,canBegin:r>0,duration:v,easing:p,isActive:E,begin:_},W=>{var fe=Fn(z,c,W),me=Fn(V,f,W),Se=Fn(U,s,W),H=Fn(k,l,W);n.current&&(T.current=fe,O.current=me,M.current=Se,P.current=H);var re;x?W>0?re={transition:Q,strokeDasharray:we}:re={strokeDasharray:ce}:re={strokeDasharray:we};var pe=di(e),{radius:be}=pe,xe=lN(pe,PZ);return A.createElement("path",py({},xe,{radius:typeof d=="number"?d:void 0,className:q,d:uN(Se,H,fe,me,d),ref:n,style:oN(oN({},re),e.style)}))})};function M5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=fn(e,n,r,i),c=fn(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}var VZ=(t,e)=>{var n=Pn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Zp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,d=c*(l?1:-1)+r,m=Math.asin(c/d)/fy,p=f?i:i+s*m,v=fn(e,n,d,p),_=fn(e,n,r,p),x=f?i-s*m:i,E=fn(e,n,d*Math.cos(m*fy),x);return{center:v,circleTangency:_,lineTangency:E,theta:m}},k5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=VZ(s,l),f=s+c,d=fn(e,n,i,s),m=fn(e,n,i,f),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=fn(e,n,r,s),_=fn(e,n,r,f);p+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},LZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=t,m=Pn(d-f),{circleTangency:p,lineTangency:v,theta:_}=Zp({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:x,lineTangency:E,theta:T}=Zp({cx:e,cy:n,radius:i,angle:d,sign:-m,cornerRadius:s,cornerIsExternal:c}),O=c?Math.abs(f-d):Math.abs(f-d)-_-T;if(O<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):k5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var M="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:$,theta:B}=Zp({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:q,lineTangency:R,theta:N}=Zp({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),j=c?Math.abs(f-d):Math.abs(f-d)-B-N;if(j<0&&s===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,"Z")}else M+="L".concat(e,",").concat(n,"Z");return M},zZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},j5=t=>{var e=cr(t,zZ),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:m,className:p}=e;if(s<i||d===m)return null;var v=xt("recharts-sector",p),_=s-i,x=er(l,_,0,!0),E;return x>0&&Math.abs(d-m)<360?E=LZ({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,_/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:m}):E=k5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:m}),A.createElement("path",eE({},di(e),{className:v,d:E}))};function BZ(t,e,n){var r,i,s,l;if(t==="horizontal")r=e.x,s=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:f,innerRadius:d,outerRadius:m,angle:p}=e,v=fn(c,f,d,p),_=fn(c,f,m,p);r=v.x,i=v.y,s=_.x,l=_.y}else return M5(e);return[{x:r,y:i},{x:s,y:l}]}var A1={},S1={},I1={},cN;function UZ(){return cN||(cN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(I1)),I1}var fN;function $Z(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UZ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(S1)),S1}var hN;function qZ(){return hN||(hN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V3(),n=$Z();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=i,i+=l;return f}t.range=r})(A1)),A1}var C1,dN;function FZ(){return dN||(dN=1,C1=qZ().range),C1}var HZ=FZ();const V5=va(HZ);function _o(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fT(t){let e,n,r;t.length!==2?(e=_o,n=(c,f)=>_o(t(c),f),r=(c,f)=>t(c)-f):(e=t===_o||t===KZ?t:GZ,n=t,r=t);function i(c,f,d=0,m=c.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(c[p],f)<0?d=p+1:m=p}while(d<m)}return d}function s(c,f,d=0,m=c.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(c[p],f)<=0?d=p+1:m=p}while(d<m)}return d}function l(c,f,d=0,m=c.length){const p=i(c,f,d,m-1);return p>d&&r(c[p-1],f)>-r(c[p],f)?p-1:p}return{left:i,center:l,right:s}}function GZ(){return 0}function L5(t){return t===null?NaN:+t}function*YZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const WZ=fT(_o),Kd=WZ.right;fT(L5).center;class mN extends Map{constructor(e,n=ZZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(pN(this,e))}has(e){return super.has(pN(this,e))}set(e,n){return super.set(QZ(this,e),n)}delete(e){return super.delete(XZ(this,e))}}function pN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function QZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ZZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function JZ(t=_o){if(t===_o)return z5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function z5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eJ=Math.sqrt(50),tJ=Math.sqrt(10),nJ=Math.sqrt(2);function gy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=eJ?10:s>=tJ?5:s>=nJ?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/l,c=Math.round(t*d),f=Math.round(e*d),c/d<t&&++c,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,c=Math.round(t/d),f=Math.round(e/d),c*d<t&&++c,f*d>e&&--f),f<c&&.5<=n&&n<2?gy(t,e,n*2):[c,f,d]}function tE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?gy(e,t,n):gy(t,e,n);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)f[d]=(s-d)/-l;else for(let d=0;d<c;++d)f[d]=(s-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(i+d)/-l;else for(let d=0;d<c;++d)f[d]=(i+d)*l;return f}function nE(t,e,n){return e=+e,t=+t,n=+n,gy(t,e,n)[2]}function rE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?nE(e,t,n):nE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function B5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?z5:JZ(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,m=Math.log(f),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(f-p)/f)*(d-f/2<0?-1:1),_=Math.max(n,Math.floor(e-d*p/f+v)),x=Math.min(r,Math.floor(e+(f-d)*p/f+v));B5(t,e,_,x,i)}const s=t[e];let l=n,c=r;for(xh(t,n,e),i(t[r],s)>0&&xh(t,n,r);l<c;){for(xh(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?xh(t,n,c):(++c,xh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function xh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rJ(t,e,n){if(t=Float64Array.from(YZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yN(t);if(e>=1)return gN(t);var r,i=(r-1)*e,s=Math.floor(i),l=gN(B5(t,s).subarray(0,s+1)),c=yN(t.subarray(s+1));return l+(c-l)*(i-s)}}function iJ(t,e,n=L5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function aJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ds(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iE=Symbol("implicit");function hT(){var t=new mN,e=[],n=[],r=iE;function i(s){let l=t.get(s);if(l===void 0){if(r!==iE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new mN;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return hT(e,n).unknown(r)},yi.apply(i,arguments),i}function dT(){var t=hT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,f=0,d=0,m=.5;delete t.unknown;function p(){var v=e().length,_=i<r,x=_?i:r,E=_?r:i;s=(E-x)/Math.max(1,v-f+d*2),c&&(s=Math.floor(s)),x+=(E-x-s*(v-f))*m,l=s*(1-f),c&&(x=Math.round(x),l=Math.round(l));var T=aJ(v).map(function(O){return x+s*O});return n(_?T.reverse():T)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(v){return arguments.length?(c=!!v,p()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),p()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),p()):f},t.paddingOuter=function(v){return arguments.length?(d=+v,p()):d},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),p()):m},t.copy=function(){return dT(e(),[r,i]).round(c).paddingInner(f).paddingOuter(d).align(m)},yi.apply(p(),arguments)}function U5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return U5(e())},t}function sJ(){return U5(dT.apply(null,arguments).paddingInner(1))}function mT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gd(){}var md=.7,yy=1/md,vc="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oJ=/^#([0-9a-f]{3,8})$/,lJ=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),uJ=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),cJ=new RegExp(`^rgba\\(${vc},${vc},${vc},${pd}\\)$`),fJ=new RegExp(`^rgba\\(${da},${da},${da},${pd}\\)$`),hJ=new RegExp(`^hsl\\(${pd},${da},${da}\\)$`),dJ=new RegExp(`^hsla\\(${pd},${da},${da},${pd}\\)$`),vN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mT(Gd,gd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bN,formatHex:bN,formatHex8:mJ,formatHsl:pJ,formatRgb:_N,toString:_N});function bN(){return this.rgb().formatHex()}function mJ(){return this.rgb().formatHex8()}function pJ(){return q5(this).formatHsl()}function _N(){return this.rgb().formatRgb()}function gd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?wN(e):n===3?new wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lJ.exec(t))?new wr(e[1],e[2],e[3],1):(e=uJ.exec(t))?new wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cJ.exec(t))?Jp(e[1],e[2],e[3],e[4]):(e=fJ.exec(t))?Jp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hJ.exec(t))?TN(e[1],e[2]/100,e[3]/100,1):(e=dJ.exec(t))?TN(e[1],e[2]/100,e[3]/100,e[4]):vN.hasOwnProperty(t)?wN(vN[t]):t==="transparent"?new wr(NaN,NaN,NaN,0):null}function wN(t){return new wr(t>>16&255,t>>8&255,t&255,1)}function Jp(t,e,n,r){return r<=0&&(t=e=n=NaN),new wr(t,e,n,r)}function gJ(t){return t instanceof Gd||(t=gd(t)),t?(t=t.rgb(),new wr(t.r,t.g,t.b,t.opacity)):new wr}function aE(t,e,n,r){return arguments.length===1?gJ(t):new wr(t,e,n,r??1)}function wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mT(wr,aE,$5(Gd,{brighter(t){return t=t==null?yy:Math.pow(yy,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?md:Math.pow(md,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wr(Vl(this.r),Vl(this.g),Vl(this.b),vy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EN,formatHex:EN,formatHex8:yJ,formatRgb:xN,toString:xN}));function EN(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}`}function yJ(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}${Al((isNaN(this.opacity)?1:this.opacity)*255)}`}function xN(){const t=vy(this.opacity);return`${t===1?"rgb(":"rgba("}${Vl(this.r)}, ${Vl(this.g)}, ${Vl(this.b)}${t===1?")":`, ${t})`}`}function vy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Al(t){return t=Vl(t),(t<16?"0":"")+t.toString(16)}function TN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ni(t,e,n,r)}function q5(t){if(t instanceof Ni)return new Ni(t.h,t.s,t.l,t.opacity);if(t instanceof Gd||(t=gd(t)),!t)return new Ni;if(t instanceof Ni)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,f=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?s+i:2-s-i,l*=60):c=f>0&&f<1?0:l,new Ni(l,c,f,t.opacity)}function vJ(t,e,n,r){return arguments.length===1?q5(t):new Ni(t,e,n,r??1)}function Ni(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mT(Ni,vJ,$5(Gd,{brighter(t){return t=t==null?yy:Math.pow(yy,t),new Ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?md:Math.pow(md,t),new Ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wr(O1(t>=240?t-240:t+120,i,r),O1(t,i,r),O1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ni(AN(this.h),eg(this.s),eg(this.l),vy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vy(this.opacity);return`${t===1?"hsl(":"hsla("}${AN(this.h)}, ${eg(this.s)*100}%, ${eg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function AN(t){return t=(t||0)%360,t<0?t+360:t}function eg(t){return Math.max(0,Math.min(1,t||0))}function O1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pT=t=>()=>t;function bJ(t,e){return function(n){return t+n*e}}function _J(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wJ(t){return(t=+t)==1?F5:function(e,n){return n-e?_J(e,n,t):pT(isNaN(e)?n:e)}}function F5(t,e){var n=e-t;return n?bJ(t,n):pT(isNaN(t)?e:t)}const SN=(function t(e){var n=wJ(e);function r(i,s){var l=n((i=aE(i)).r,(s=aE(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),d=F5(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=f(m),i.opacity=d(m),i+""}}return r.gamma=t,r})(1);function EJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function xJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function TJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=ef(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function AJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function by(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function SJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ef(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var sE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R1=new RegExp(sE.source,"g");function IJ(t){return function(){return t}}function CJ(t){return function(e){return t(e)+""}}function OJ(t,e){var n=sE.lastIndex=R1.lastIndex=0,r,i,s,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=sE.exec(t))&&(i=R1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:by(r,i)})),n=R1.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?CJ(f[0].x):IJ(e):(e=f.length,function(d){for(var m=0,p;m<e;++m)c[(p=f[m]).i]=p.x(d);return c.join("")})}function ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?pT(e):(n==="number"?by:n==="string"?(r=gd(e))?(e=r,SN):OJ:e instanceof gd?SN:e instanceof Date?AJ:xJ(e)?EJ:Array.isArray(e)?TJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SJ:by)(t,e)}function gT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function RJ(t,e){e===void 0&&(e=t,t=ef);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function PJ(t){return function(){return t}}function _y(t){return+t}var IN=[0,1];function lr(t){return t}function oE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:PJ(isNaN(e)?NaN:.5)}function NJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function DJ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=oE(i,r),s=n(l,s)):(r=oE(r,i),s=n(s,l)),function(c){return s(r(c))}}function MJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=oE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var f=Kd(t,c,1,r)-1;return s[f](i[f](c))}}function Yd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jv(){var t=IN,e=IN,n=ef,r,i,s,l=lr,c,f,d;function m(){var v=Math.min(t.length,e.length);return l!==lr&&(l=NJ(t[0],t[v-1])),c=v>2?MJ:DJ,f=d=null,p}function p(v){return v==null||isNaN(v=+v)?s:(f||(f=c(t.map(r),e,n)))(r(l(v)))}return p.invert=function(v){return l(i((d||(d=c(e,t.map(r),by)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,_y),m()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=gT,m()},p.clamp=function(v){return arguments.length?(l=v?!0:lr,m()):l!==lr},p.interpolate=function(v){return arguments.length?(n=v,m()):n},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,_){return r=v,i=_,m()}}function yT(){return jv()(lr,lr)}function kJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uc(t){return t=wy(Math.abs(t)),t?t[1]:NaN}function jJ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function VJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var LJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yd(t){if(!(e=LJ.exec(t)))throw new Error("invalid format: "+t);var e;return new vT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yd.prototype=vT.prototype;function vT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var H5;function BJ(t,e){var n=wy(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(H5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+wy(t,Math.max(0,e+s-1))[0]}function CN(t,e){var n=wy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ON={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CN(t*100,e),r:CN,s:BJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function RN(t){return t}var PN=Array.prototype.map,NN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function UJ(t){var e=t.grouping===void 0||t.thousands===void 0?RN:jJ(PN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?RN:VJ(PN.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(p){p=yd(p);var v=p.fill,_=p.align,x=p.sign,E=p.symbol,T=p.zero,O=p.width,M=p.comma,P=p.precision,$=p.trim,B=p.type;B==="n"?(M=!0,B="g"):ON[B]||(P===void 0&&(P=12),$=!0,B="g"),(T||v==="0"&&_==="=")&&(T=!0,v="0",_="=");var q=E==="$"?n:E==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",R=E==="$"?r:/[%p]/.test(B)?l:"",N=ON[B],j=/[defgprs%]/.test(B);P=P===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function z(V){var U=q,k=R,ce,we,Q;if(B==="c")k=N(V)+k,V="";else{V=+V;var W=V<0||1/V<0;if(V=isNaN(V)?f:N(Math.abs(V),P),$&&(V=zJ(V)),W&&+V==0&&x!=="+"&&(W=!1),U=(W?x==="("?x:c:x==="-"||x==="("?"":x)+U,k=(B==="s"?NN[8+H5/3]:"")+k+(W&&x==="("?")":""),j){for(ce=-1,we=V.length;++ce<we;)if(Q=V.charCodeAt(ce),48>Q||Q>57){k=(Q===46?i+V.slice(ce+1):V.slice(ce))+k,V=V.slice(0,ce);break}}}M&&!T&&(V=e(V,1/0));var fe=U.length+V.length+k.length,me=fe<O?new Array(O-fe+1).join(v):"";switch(M&&T&&(V=e(me+V,me.length?O-k.length:1/0),me=""),_){case"<":V=U+V+k+me;break;case"=":V=U+me+V+k;break;case"^":V=me.slice(0,fe=me.length>>1)+U+V+k+me.slice(fe);break;default:V=me+U+V+k;break}return s(V)}return z.toString=function(){return p+""},z}function m(p,v){var _=d((p=yd(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Uc(v)/3)))*3,E=Math.pow(10,-x),T=NN[8+x/3];return function(O){return _(E*O)+T}}return{format:d,formatPrefix:m}}var tg,bT,K5;$J({thousands:",",grouping:[3],currency:["$",""]});function $J(t){return tg=UJ(t),bT=tg.format,K5=tg.formatPrefix,tg}function qJ(t){return Math.max(0,-Uc(Math.abs(t)))}function FJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uc(e)/3)))*3-Uc(Math.abs(t)))}function HJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uc(e)-Uc(t))+1}function G5(t,e,n,r){var i=rE(t,e,n),s;switch(r=yd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=FJ(i,l))&&(r.precision=s),K5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=HJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=qJ(i))&&(r.precision=s-(r.type==="%")*2);break}}return bT(r)}function Do(t){var e=t.domain;return t.ticks=function(n){var r=e();return tE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return G5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],f,d,m=10;for(c<l&&(d=l,l=c,c=d,d=i,i=s,s=d);m-- >0;){if(d=nE(l,c,n),d===f)return r[i]=l,r[s]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return t},t}function Y5(){var t=yT();return t.copy=function(){return Yd(t,Y5())},yi.apply(t,arguments),Do(t)}function W5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_y),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return W5(t).unknown(e)},t=arguments.length?Array.from(t,_y):[0,1],Do(n)}function Q5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function DN(t){return Math.log(t)}function MN(t){return Math.exp(t)}function KJ(t){return-Math.log(-t)}function GJ(t){return-Math.exp(-t)}function YJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function WJ(t){return t===10?YJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function QJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kN(t){return(e,n)=>-t(-e,n)}function _T(t){const e=t(DN,MN),n=e.domain;let r=10,i,s;function l(){return i=QJ(r),s=WJ(r),n()[0]<0?(i=kN(i),s=kN(s),t(KJ,GJ)):t(DN,MN),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let d=f[0],m=f[f.length-1];const p=m<d;p&&([d,m]=[m,d]);let v=i(d),_=i(m),x,E;const T=c==null?10:+c;let O=[];if(!(r%1)&&_-v<T){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(x=1;x<r;++x)if(E=v<0?x/s(-v):x*s(v),!(E<d)){if(E>m)break;O.push(E)}}else for(;v<=_;++v)for(x=r-1;x>=1;--x)if(E=v>0?x/s(-v):x*s(v),!(E<d)){if(E>m)break;O.push(E)}O.length*2<T&&(O=tE(d,m,T))}else O=tE(v,_,Math.min(_-v,T)).map(s);return p?O.reverse():O},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=yd(f)).precision==null&&(f.trim=!0),f=bT(f)),c===1/0)return f;const d=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=d?f(m):""}},e.nice=()=>n(Q5(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function X5(){const t=_T(jv()).domain([1,10]);return t.copy=()=>Yd(t,X5()).base(t.base()),yi.apply(t,arguments),t}function jN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wT(t){var e=1,n=t(jN(e),VN(e));return n.constant=function(r){return arguments.length?t(jN(e=+r),VN(e)):e},Do(n)}function Z5(){var t=wT(jv());return t.copy=function(){return Yd(t,Z5()).constant(t.constant())},yi.apply(t,arguments)}function LN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function XJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ZJ(t){return t<0?-t*t:t*t}function ET(t){var e=t(lr,lr),n=1;function r(){return n===1?t(lr,lr):n===.5?t(XJ,ZJ):t(LN(n),LN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Do(e)}function xT(){var t=ET(jv());return t.copy=function(){return Yd(t,xT()).exponent(t.exponent())},yi.apply(t,arguments),t}function JJ(){return xT.apply(null,arguments).exponent(.5)}function zN(t){return Math.sign(t)*t*t}function eee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function J5(){var t=yT(),e=[0,1],n=!1,r;function i(s){var l=eee(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(zN(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,_y)).map(zN)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return J5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},yi.apply(i,arguments),Do(i)}function e6(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=iJ(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Kd(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(_o),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return e6().domain(t).range(e).unknown(r)},yi.apply(s,arguments)}function t6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Kd(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return t6().domain([t,e]).range(i).unknown(s)},yi.apply(Do(l),arguments)}function n6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Kd(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return n6().domain(t).range(e).unknown(n)},yi.apply(i,arguments)}const P1=new Date,N1=new Date;function xn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return f;let d;do f.push(d=new Date(+s)),e(s,c),t(s);while(d<s&&s<l);return f},i.filter=s=>xn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(P1.setTime(+s),N1.setTime(+l),t(P1),t(N1),Math.floor(n(P1,N1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Ey=xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ey.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ey);Ey.range;const Ga=1e3,fi=Ga*60,Ya=fi*60,is=Ya*24,TT=is*7,BN=is*30,D1=is*365,Sl=xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getUTCSeconds());Sl.range;const AT=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ga)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getMinutes());AT.range;const ST=xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCMinutes());ST.range;const IT=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ga-t.getMinutes()*fi)},(t,e)=>{t.setTime(+t+e*Ya)},(t,e)=>(e-t)/Ya,t=>t.getHours());IT.range;const CT=xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ya)},(t,e)=>(e-t)/Ya,t=>t.getUTCHours());CT.range;const Wd=xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fi)/is,t=>t.getDate()-1);Wd.range;const Vv=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/is,t=>t.getUTCDate()-1);Vv.range;const r6=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/is,t=>Math.floor(t/is));r6.range;function uu(t){return xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fi)/TT)}const Lv=uu(0),xy=uu(1),tee=uu(2),nee=uu(3),$c=uu(4),ree=uu(5),iee=uu(6);Lv.range;xy.range;tee.range;nee.range;$c.range;ree.range;iee.range;function cu(t){return xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/TT)}const zv=cu(0),Ty=cu(1),aee=cu(2),see=cu(3),qc=cu(4),oee=cu(5),lee=cu(6);zv.range;Ty.range;aee.range;see.range;qc.range;oee.range;lee.range;const OT=xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OT.range;const RT=xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RT.range;const as=xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());as.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});as.range;const ss=xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ss.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ss.range;function i6(t,e,n,r,i,s){const l=[[Sl,1,Ga],[Sl,5,5*Ga],[Sl,15,15*Ga],[Sl,30,30*Ga],[s,1,fi],[s,5,5*fi],[s,15,15*fi],[s,30,30*fi],[i,1,Ya],[i,3,3*Ya],[i,6,6*Ya],[i,12,12*Ya],[r,1,is],[r,2,2*is],[n,1,TT],[e,1,BN],[e,3,3*BN],[t,1,D1]];function c(d,m,p){const v=m<d;v&&([d,m]=[m,d]);const _=p&&typeof p.range=="function"?p:f(d,m,p),x=_?_.range(d,+m+1):[];return v?x.reverse():x}function f(d,m,p){const v=Math.abs(m-d)/p,_=fT(([,,T])=>T).right(l,v);if(_===l.length)return t.every(rE(d/D1,m/D1,p));if(_===0)return Ey.every(Math.max(rE(d,m,p),1));const[x,E]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return x.every(E)}return[c,f]}const[uee,cee]=i6(ss,RT,zv,r6,CT,ST),[fee,hee]=i6(as,OT,Lv,Wd,IT,AT);function M1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function k1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Th(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,d=Ah(i),m=Sh(i),p=Ah(s),v=Sh(s),_=Ah(l),x=Sh(l),E=Ah(c),T=Sh(c),O=Ah(f),M=Sh(f),P={a:W,A:fe,b:me,B:Se,c:null,d:KN,e:KN,f:jee,g:Kee,G:Yee,H:Dee,I:Mee,j:kee,L:a6,m:Vee,M:Lee,p:H,q:re,Q:WN,s:QN,S:zee,u:Bee,U:Uee,V:$ee,w:qee,W:Fee,x:null,X:null,y:Hee,Y:Gee,Z:Wee,"%":YN},$={a:pe,A:be,b:xe,B:je,c:null,d:GN,e:GN,f:Jee,g:ute,G:fte,H:Qee,I:Xee,j:Zee,L:o6,m:ete,M:tte,p:ge,q:De,Q:WN,s:QN,S:nte,u:rte,U:ite,V:ate,w:ste,W:ote,x:null,X:null,y:lte,Y:cte,Z:hte,"%":YN},B={a:z,A:V,b:U,B:k,c:ce,d:FN,e:FN,f:Oee,g:qN,G:$N,H:HN,I:HN,j:Aee,L:Cee,m:Tee,M:See,p:j,q:xee,Q:Pee,s:Nee,S:Iee,u:vee,U:bee,V:_ee,w:yee,W:wee,x:we,X:Q,y:qN,Y:$N,Z:Eee,"%":Ree};P.x=q(n,P),P.X=q(r,P),P.c=q(e,P),$.x=q(n,$),$.X=q(r,$),$.c=q(e,$);function q(G,Ee){return function(Ve){var he=[],Kt=-1,We=0,pn=G.length,Gt,xr,ys;for(Ve instanceof Date||(Ve=new Date(+Ve));++Kt<pn;)G.charCodeAt(Kt)===37&&(he.push(G.slice(We,Kt)),(xr=UN[Gt=G.charAt(++Kt)])!=null?Gt=G.charAt(++Kt):xr=Gt==="e"?" ":"0",(ys=Ee[Gt])&&(Gt=ys(Ve,xr)),he.push(Gt),We=Kt+1);return he.push(G.slice(We,Kt)),he.join("")}}function R(G,Ee){return function(Ve){var he=Th(1900,void 0,1),Kt=N(he,G,Ve+="",0),We,pn;if(Kt!=Ve.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ee&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(We=k1(Th(he.y,0,1)),pn=We.getUTCDay(),We=pn>4||pn===0?Ty.ceil(We):Ty(We),We=Vv.offset(We,(he.V-1)*7),he.y=We.getUTCFullYear(),he.m=We.getUTCMonth(),he.d=We.getUTCDate()+(he.w+6)%7):(We=M1(Th(he.y,0,1)),pn=We.getDay(),We=pn>4||pn===0?xy.ceil(We):xy(We),We=Wd.offset(We,(he.V-1)*7),he.y=We.getFullYear(),he.m=We.getMonth(),he.d=We.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),pn="Z"in he?k1(Th(he.y,0,1)).getUTCDay():M1(Th(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(pn+5)%7:he.w+he.U*7-(pn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,k1(he)):M1(he)}}function N(G,Ee,Ve,he){for(var Kt=0,We=Ee.length,pn=Ve.length,Gt,xr;Kt<We;){if(he>=pn)return-1;if(Gt=Ee.charCodeAt(Kt++),Gt===37){if(Gt=Ee.charAt(Kt++),xr=B[Gt in UN?Ee.charAt(Kt++):Gt],!xr||(he=xr(G,Ve,he))<0)return-1}else if(Gt!=Ve.charCodeAt(he++))return-1}return he}function j(G,Ee,Ve){var he=d.exec(Ee.slice(Ve));return he?(G.p=m.get(he[0].toLowerCase()),Ve+he[0].length):-1}function z(G,Ee,Ve){var he=_.exec(Ee.slice(Ve));return he?(G.w=x.get(he[0].toLowerCase()),Ve+he[0].length):-1}function V(G,Ee,Ve){var he=p.exec(Ee.slice(Ve));return he?(G.w=v.get(he[0].toLowerCase()),Ve+he[0].length):-1}function U(G,Ee,Ve){var he=O.exec(Ee.slice(Ve));return he?(G.m=M.get(he[0].toLowerCase()),Ve+he[0].length):-1}function k(G,Ee,Ve){var he=E.exec(Ee.slice(Ve));return he?(G.m=T.get(he[0].toLowerCase()),Ve+he[0].length):-1}function ce(G,Ee,Ve){return N(G,e,Ee,Ve)}function we(G,Ee,Ve){return N(G,n,Ee,Ve)}function Q(G,Ee,Ve){return N(G,r,Ee,Ve)}function W(G){return l[G.getDay()]}function fe(G){return s[G.getDay()]}function me(G){return f[G.getMonth()]}function Se(G){return c[G.getMonth()]}function H(G){return i[+(G.getHours()>=12)]}function re(G){return 1+~~(G.getMonth()/3)}function pe(G){return l[G.getUTCDay()]}function be(G){return s[G.getUTCDay()]}function xe(G){return f[G.getUTCMonth()]}function je(G){return c[G.getUTCMonth()]}function ge(G){return i[+(G.getUTCHours()>=12)]}function De(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var Ee=q(G+="",P);return Ee.toString=function(){return G},Ee},parse:function(G){var Ee=R(G+="",!1);return Ee.toString=function(){return G},Ee},utcFormat:function(G){var Ee=q(G+="",$);return Ee.toString=function(){return G},Ee},utcParse:function(G){var Ee=R(G+="",!0);return Ee.toString=function(){return G},Ee}}}var UN={"-":"",_:" ",0:"0"},Dn=/^\s*\d+/,mee=/^%/,pee=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function gee(t){return t.replace(pee,"\\$&")}function Ah(t){return new RegExp("^(?:"+t.map(gee).join("|")+")","i")}function Sh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yee(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bee(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _ee(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function wee(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function $N(t,e,n){var r=Dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qN(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Eee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xee(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Tee(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function FN(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Aee(t,e,n){var r=Dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function HN(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function See(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Iee(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Cee(t,e,n){var r=Dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Oee(t,e,n){var r=Dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ree(t,e,n){var r=mee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pee(t,e,n){var r=Dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nee(t,e,n){var r=Dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function KN(t,e){return ot(t.getDate(),e,2)}function Dee(t,e){return ot(t.getHours(),e,2)}function Mee(t,e){return ot(t.getHours()%12||12,e,2)}function kee(t,e){return ot(1+Wd.count(as(t),t),e,3)}function a6(t,e){return ot(t.getMilliseconds(),e,3)}function jee(t,e){return a6(t,e)+"000"}function Vee(t,e){return ot(t.getMonth()+1,e,2)}function Lee(t,e){return ot(t.getMinutes(),e,2)}function zee(t,e){return ot(t.getSeconds(),e,2)}function Bee(t){var e=t.getDay();return e===0?7:e}function Uee(t,e){return ot(Lv.count(as(t)-1,t),e,2)}function s6(t){var e=t.getDay();return e>=4||e===0?$c(t):$c.ceil(t)}function $ee(t,e){return t=s6(t),ot($c.count(as(t),t)+(as(t).getDay()===4),e,2)}function qee(t){return t.getDay()}function Fee(t,e){return ot(xy.count(as(t)-1,t),e,2)}function Hee(t,e){return ot(t.getFullYear()%100,e,2)}function Kee(t,e){return t=s6(t),ot(t.getFullYear()%100,e,2)}function Gee(t,e){return ot(t.getFullYear()%1e4,e,4)}function Yee(t,e){var n=t.getDay();return t=n>=4||n===0?$c(t):$c.ceil(t),ot(t.getFullYear()%1e4,e,4)}function Wee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function GN(t,e){return ot(t.getUTCDate(),e,2)}function Qee(t,e){return ot(t.getUTCHours(),e,2)}function Xee(t,e){return ot(t.getUTCHours()%12||12,e,2)}function Zee(t,e){return ot(1+Vv.count(ss(t),t),e,3)}function o6(t,e){return ot(t.getUTCMilliseconds(),e,3)}function Jee(t,e){return o6(t,e)+"000"}function ete(t,e){return ot(t.getUTCMonth()+1,e,2)}function tte(t,e){return ot(t.getUTCMinutes(),e,2)}function nte(t,e){return ot(t.getUTCSeconds(),e,2)}function rte(t){var e=t.getUTCDay();return e===0?7:e}function ite(t,e){return ot(zv.count(ss(t)-1,t),e,2)}function l6(t){var e=t.getUTCDay();return e>=4||e===0?qc(t):qc.ceil(t)}function ate(t,e){return t=l6(t),ot(qc.count(ss(t),t)+(ss(t).getUTCDay()===4),e,2)}function ste(t){return t.getUTCDay()}function ote(t,e){return ot(Ty.count(ss(t)-1,t),e,2)}function lte(t,e){return ot(t.getUTCFullYear()%100,e,2)}function ute(t,e){return t=l6(t),ot(t.getUTCFullYear()%100,e,2)}function cte(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function fte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qc(t):qc.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function hte(){return"+0000"}function YN(){return"%"}function WN(t){return+t}function QN(t){return Math.floor(+t/1e3)}var ac,u6,c6;dte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dte(t){return ac=dee(t),u6=ac.format,ac.parse,c6=ac.utcFormat,ac.utcParse,ac}function mte(t){return new Date(t)}function pte(t){return t instanceof Date?+t:+new Date(+t)}function PT(t,e,n,r,i,s,l,c,f,d){var m=yT(),p=m.invert,v=m.domain,_=d(".%L"),x=d(":%S"),E=d("%I:%M"),T=d("%I %p"),O=d("%a %d"),M=d("%b %d"),P=d("%B"),$=d("%Y");function B(q){return(f(q)<q?_:c(q)<q?x:l(q)<q?E:s(q)<q?T:r(q)<q?i(q)<q?O:M:n(q)<q?P:$)(q)}return m.invert=function(q){return new Date(p(q))},m.domain=function(q){return arguments.length?v(Array.from(q,pte)):v().map(mte)},m.ticks=function(q){var R=v();return t(R[0],R[R.length-1],q??10)},m.tickFormat=function(q,R){return R==null?B:d(R)},m.nice=function(q){var R=v();return(!q||typeof q.range!="function")&&(q=e(R[0],R[R.length-1],q??10)),q?v(Q5(R,q)):m},m.copy=function(){return Yd(m,PT(t,e,n,r,i,s,l,c,f,d))},m}function gte(){return yi.apply(PT(fee,hee,as,OT,Lv,Wd,IT,AT,Sl,u6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yte(){return yi.apply(PT(uee,cee,ss,RT,zv,Vv,CT,ST,Sl,c6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bv(){var t=0,e=1,n,r,i,s,l=lr,c=!1,f;function d(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(c=!!p,d):c},d.interpolator=function(p){return arguments.length?(l=p,d):l};function m(p){return function(v){var _,x;return arguments.length?([_,x]=v,l=p(_,x),d):[l(0),l(1)]}}return d.range=m(ef),d.rangeRound=m(gT),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function Mo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function f6(){var t=Do(Bv()(lr));return t.copy=function(){return Mo(t,f6())},ds.apply(t,arguments)}function h6(){var t=_T(Bv()).domain([1,10]);return t.copy=function(){return Mo(t,h6()).base(t.base())},ds.apply(t,arguments)}function d6(){var t=wT(Bv());return t.copy=function(){return Mo(t,d6()).constant(t.constant())},ds.apply(t,arguments)}function NT(){var t=ET(Bv());return t.copy=function(){return Mo(t,NT()).exponent(t.exponent())},ds.apply(t,arguments)}function vte(){return NT.apply(null,arguments).exponent(.5)}function m6(){var t=[],e=lr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_o),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>rJ(t,s/r))},n.copy=function(){return m6(e).domain(t)},ds.apply(n,arguments)}function Uv(){var t=0,e=.5,n=1,r=1,i,s,l,c,f,d=lr,m,p=!1,v;function _(E){return isNaN(E=+E)?v:(E=.5+((E=+m(E))-s)*(r*E<r*s?c:f),d(p?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(p=!!E,_):p},_.interpolator=function(E){return arguments.length?(d=E,_):d};function x(E){return function(T){var O,M,P;return arguments.length?([O,M,P]=T,d=RJ(E,[O,M,P]),_):[d(0),d(.5),d(1)]}}return _.range=x(ef),_.rangeRound=x(gT),_.unknown=function(E){return arguments.length?(v=E,_):v},function(E){return m=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function p6(){var t=Do(Uv()(lr));return t.copy=function(){return Mo(t,p6())},ds.apply(t,arguments)}function g6(){var t=_T(Uv()).domain([.1,1,10]);return t.copy=function(){return Mo(t,g6()).base(t.base())},ds.apply(t,arguments)}function y6(){var t=wT(Uv());return t.copy=function(){return Mo(t,y6()).constant(t.constant())},ds.apply(t,arguments)}function DT(){var t=ET(Uv());return t.copy=function(){return Mo(t,DT()).exponent(t.exponent())},ds.apply(t,arguments)}function bte(){return DT.apply(null,arguments).exponent(.5)}const jh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dT,scaleDiverging:p6,scaleDivergingLog:g6,scaleDivergingPow:DT,scaleDivergingSqrt:bte,scaleDivergingSymlog:y6,scaleIdentity:W5,scaleImplicit:iE,scaleLinear:Y5,scaleLog:X5,scaleOrdinal:hT,scalePoint:sJ,scalePow:xT,scaleQuantile:e6,scaleQuantize:t6,scaleRadial:J5,scaleSequential:f6,scaleSequentialLog:h6,scaleSequentialPow:NT,scaleSequentialQuantile:m6,scaleSequentialSqrt:vte,scaleSequentialSymlog:d6,scaleSqrt:JJ,scaleSymlog:Z5,scaleThreshold:n6,scaleTime:gte,scaleUtc:yte,tickFormat:G5},Symbol.toStringTag,{value:"Module"}));var ko=t=>t.chartData,MT=ne([ko],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),kT=(t,e,n,r)=>r?MT(t):ko(t);function Jl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(tr(e)&&tr(n))return!0}return!1}function XN(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function v6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(tr(n))i=n;else if(typeof n=="function")return;if(tr(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Jl(l))return l}}function _te(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Jl(r))return XN(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Re(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&jP.test(i)){var f=jP.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(Re(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&VP.test(s)){var m=VP.exec(s);if(m==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e?.[1];var v=[l,c];if(Jl(v))return e==null?v:XN(v,e,n)}}}var tf=1e9,wte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VT,Mt=!0,gi="[DecimalError] ",Ll=gi+"Invalid argument: ",jT=gi+"Exponent out of range: ",nf=Math.floor,yl=Math.pow,Ete=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vr,Rn=1e7,Ot=7,b6=9007199254740991,Ay=nf(b6/Ot),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Qa(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return At(Qa(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return hn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vr))throw Error(gi+"NaN");if(n.s<1)throw Error(gi+(n.s?"NaN":"-Infinity"));return n.eq(Vr)?new r(0):(Mt=!1,e=Qa(vd(n,s),vd(t,s),s),Mt=!0,At(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E6(e,t):_6(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gi+"NaN");return n.s?(Mt=!1,e=Qa(n,t,0,1).times(t),Mt=!0,n.minus(e)):At(new r(n),i)};Te.naturalExponential=Te.exp=function(){return w6(this)};Te.naturalLogarithm=Te.ln=function(){return vd(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_6(e,t):E6(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ll+t);if(e=hn(i)+1,r=i.d.length-1,n=r*Ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,s,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(gi+"NaN")}for(t=hn(c),Mt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=la(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(Qa(c,s,l+2)).times(.5),la(s.d).slice(0,l)===(e=la(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(At(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Mt=!0,At(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,s,l,c,f,d,m=this,p=m.constructor,v=m.d,_=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,f=v.length,d=_.length,f<d&&(s=v,v=_,_=s,l=f,f=d,d=l),s=[],l=f+d,r=l;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)c=s[i]+_[r]*v[i-r-1]+e,s[i--]=c%Rn|0,e=c/Rn|0;s[i]=(s[i]+e)%Rn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Mt?At(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ya(t,0,tf),e===void 0?e=r.rounding:ya(e,0,8),At(n,t+hn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=eu(r,!0):(ya(t,0,tf),e===void 0?e=i.rounding:ya(e,0,8),r=At(new i(r),t+1,e),n=eu(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?eu(i):(ya(t,0,tf),e===void 0?e=s.rounding:ya(e,0,8),r=At(new s(i),t+hn(i)+1,e),n=eu(r.abs(),!1,t+hn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return At(new e(t),hn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,s,l,c=this,f=c.constructor,d=12,m=+(t=new f(t));if(!t.s)return new f(Vr);if(c=new f(c),!c.s){if(t.s<1)throw Error(gi+"Infinity");return c}if(c.eq(Vr))return c;if(r=f.precision,t.eq(Vr))return At(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=b6){for(i=new f(Vr),e=Math.ceil(r/Ot+4),Mt=!1;n%2&&(i=i.times(c),JN(i.d,e)),n=nf(n/2),n!==0;)c=c.times(c),JN(c.d,e);return Mt=!0,t.s<0?new f(Vr).div(i):At(i,r)}}else if(s<0)throw Error(gi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Mt=!1,i=t.times(vd(c,r+d)),Mt=!0,i=w6(i),i.s=s,i};Te.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=hn(i),r=eu(i,n<=s.toExpNeg||n>=s.toExpPos)):(ya(t,1,tf),e===void 0?e=s.rounding:ya(e,0,8),i=At(new s(i),t,e),n=hn(i),r=eu(i,t<=n||n<=s.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ya(t,1,tf),e===void 0?e=r.rounding:ya(e,0,8)),At(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=hn(t),n=t.constructor;return eu(t,e<=n.toExpNeg||e>=n.toExpPos)};function _6(t,e){var n,r,i,s,l,c,f,d,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Mt?At(e,p):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,c=d.length):(r=d,i=l,c=f.length),l=Math.ceil(p/Ot),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=d.length,c-s<0&&(s=c,r=d,d=f,f=r),n=0;s;)n=(f[--s]=f[s]+d[s]+n)/Rn|0,f[s]%=Rn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,Mt?At(e,p):e}function ya(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ll+t)}function la(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Ot-r.length,n&&(s+=to(n)),s+=r;l=t[e],r=l+"",n=Ot-r.length,n&&(s+=to(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Qa=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Rn|0,l=s/Rn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,f;if(s!=l)f=s>l?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Rn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,f,d,m,p,v,_,x,E,T,O,M,P,$,B,q,R,N,j=r.constructor,z=r.s==i.s?1:-1,V=r.d,U=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(gi+"Division by zero");for(f=r.e-i.e,R=U.length,B=V.length,_=new j(z),x=_.d=[],d=0;U[d]==(V[d]||0);)++d;if(U[d]>(V[d]||0)&&--f,s==null?M=s=j.precision:l?M=s+(hn(r)-hn(i))+1:M=s,M<0)return new j(0);if(M=M/Ot+2|0,d=0,R==1)for(m=0,U=U[0],M++;(d<B||m)&&M--;d++)P=m*Rn+(V[d]||0),x[d]=P/U|0,m=P%U|0;else{for(m=Rn/(U[0]+1)|0,m>1&&(U=t(U,m),V=t(V,m),R=U.length,B=V.length),$=R,E=V.slice(0,R),T=E.length;T<R;)E[T++]=0;N=U.slice(),N.unshift(0),q=U[0],U[1]>=Rn/2&&++q;do m=0,c=e(U,E,R,T),c<0?(O=E[0],R!=T&&(O=O*Rn+(E[1]||0)),m=O/q|0,m>1?(m>=Rn&&(m=Rn-1),p=t(U,m),v=p.length,T=E.length,c=e(p,E,v,T),c==1&&(m--,n(p,R<v?N:U,v))):(m==0&&(c=m=1),p=U.slice()),v=p.length,v<T&&p.unshift(0),n(E,p,T),c==-1&&(T=E.length,c=e(U,E,R,T),c<1&&(m++,n(E,R<T?N:U,T))),T=E.length):c===0&&(m++,E=[0]),x[d++]=m,c&&E[0]?E[T++]=V[$]||0:(E=[V[$]],T=1);while(($++<B||E[0]!==void 0)&&M--)}return x[0]||x.shift(),_.e=f,At(_,l?s+hn(_)+1:s)}})();function w6(t,e){var n,r,i,s,l,c,f=0,d=0,m=t.constructor,p=m.precision;if(hn(t)>16)throw Error(jT+hn(t));if(!t.s)return new m(Vr);for(Mt=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(yl(2,d))/Math.LN10*2+5|0,c+=r,n=i=s=new m(Vr),m.precision=c;;){if(i=At(i.times(t),c),n=n.times(++f),l=s.plus(Qa(i,n,c)),la(l.d).slice(0,c)===la(s.d).slice(0,c)){for(;d--;)s=At(s.times(s),c);return m.precision=p,e==null?(Mt=!0,At(s,p)):s}s=l}}function hn(t){for(var e=t.e*Ot,n=t.d[0];n>=10;n/=10)e++;return e}function j1(t,e,n){if(e>t.LN10.sd())throw Mt=!0,n&&(t.precision=n),Error(gi+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function to(t){for(var e="";t--;)e+="0";return e}function vd(t,e){var n,r,i,s,l,c,f,d,m,p=1,v=10,_=t,x=_.d,E=_.constructor,T=E.precision;if(_.s<1)throw Error(gi+(_.s?"NaN":"-Infinity"));if(_.eq(Vr))return new E(0);if(e==null?(Mt=!1,d=T):d=e,_.eq(10))return e==null&&(Mt=!0),j1(E,d);if(d+=v,E.precision=d,n=la(x),r=n.charAt(0),s=hn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=la(_.d),r=n.charAt(0),p++;s=hn(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return f=j1(E,d+2,T).times(s+""),_=vd(new E(r+"."+n.slice(1)),d-v).plus(f),E.precision=T,e==null?(Mt=!0,At(_,T)):_;for(c=l=_=Qa(_.minus(Vr),_.plus(Vr),d),m=At(_.times(_),d),i=3;;){if(l=At(l.times(m),d),f=c.plus(Qa(l,new E(i),d)),la(f.d).slice(0,d)===la(c.d).slice(0,d))return c=c.times(2),s!==0&&(c=c.plus(j1(E,d+2,T).times(s+""))),c=Qa(c,new E(p),d),E.precision=T,e==null?(Mt=!0,At(c,T)):c;c=f,i+=2}}function ZN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nf(n/Ot),t.d=[],r=(n+1)%Ot,n<0&&(r+=Ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ot;r<i;)t.d.push(+e.slice(r,r+=Ot));e=e.slice(r),r=Ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Mt&&(t.e>Ay||t.e<-Ay))throw Error(jT+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,s,l,c,f,d,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ot,i=e,d=p[m=0];else{if(m=Math.ceil((r+1)/Ot),s=p.length,m>=s)return t;for(d=s=p[m],l=1;s>=10;s/=10)l++;r%=Ot,i=r-Ot+l}if(n!==void 0&&(s=yl(10,l-i-1),c=d/s%10|0,f=e<0||p[m+1]!==void 0||d%s,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?d/yl(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(s=hn(t),p.length=1,e=e-s-1,p[0]=yl(10,(Ot-e%Ot)%Ot),t.e=nf(-e/Ot)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=yl(10,Ot-r),p[m]=i>0?(d/yl(10,l-i)%yl(10,i)|0)*s:0),f)for(;;)if(m==0){(p[0]+=s)==Rn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=Rn)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Mt&&(t.e>Ay||t.e<-Ay))throw Error(jT+hn(t));return t}function E6(t,e){var n,r,i,s,l,c,f,d,m,p,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Mt?At(e,_):e;if(f=t.d,p=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(m=l<0,m?(n=f,l=-l,c=p.length):(n=p,r=d,c=f.length),i=Math.max(Math.ceil(_/Ot),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}l=0}for(m&&(n=f,f=p,p=n,e.s=-e.s),c=f.length,i=p.length-c;i>0;--i)f[c++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(s=i;s&&f[--s]===0;)f[s]=Rn-1;--f[s],f[i]+=Rn}f[i]-=p[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Mt?At(e,_):e):new v(0)}function eu(t,e,n){var r,i=hn(t),s=la(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+to(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+to(-i-1)+s,n&&(r=n-l)>0&&(s+=to(r))):i>=l?(s+=to(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+to(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=to(r))),t.s<0?"-"+s:s}function JN(t,e){if(t.length>e)return t.length=e,!0}function x6(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ll+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return ZN(l,s.toString())}else if(typeof s!="string")throw Error(Ll+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Ete.test(s))ZN(l,s);else throw Error(Ll+s)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=x6,i.config=i.set=xte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function xte(t){if(!t||typeof t!="object")throw Error(gi+"Object expected");var e,n,r,i=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ll+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ll+n+": "+r);return this}var VT=x6(wte);Vr=new VT(1);const pt=VT;var Tte=t=>t,T6={},A6=t=>t===T6,eD=t=>function e(){return arguments.length===0||arguments.length===1&&A6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},S6=(t,e)=>t===1?e:eD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==T6).length;return s>=t?e(...r):S6(t-s,eD(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=r.map(m=>A6(m)?c.shift():m);return e(...d,...c)}))}),$v=t=>S6(t.length,t),lE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Ate=$v((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Ste=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Tte;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),s(...arguments))}},uE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),I6=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((l,c)=>{var f;return l===((f=e)===null||f===void 0?void 0:f[c])})||(e=i,n=t(...i)),n}};function C6(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function O6(t,e,n){for(var r=new pt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}$v((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});$v((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});$v((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var R6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},P6=(t,e,n)=>{if(t.lte(0))return new pt(0);var r=C6(t.toNumber()),i=new pt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new pt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?new pt(f.toNumber()):new pt(Math.ceil(f.toNumber()))},Ite=(t,e,n)=>{var r=new pt(1),i=new pt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new pt(10).pow(C6(t)-1),i=new pt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):n||(i=new pt(Math.floor(t)));var l=Math.floor((e-1)/2),c=Ste(Ate(f=>i.add(new pt(f-l).mul(r)).toNumber()),lE);return c(0,e)},N6=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var l=P6(new pt(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new pt(0):(c=new pt(e).add(n).div(2),c=c.sub(new pt(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new pt(n).sub(c).div(l).toNumber()),m=f+d+1;return m>r?N6(e,n,r,i,s+1):(m<r&&(d=n>0?d+(r-m):d,f=n>0?f:f+(r-m)),{step:l,tickMin:c.sub(new pt(f).mul(l)),tickMax:c.add(new pt(d).mul(l))})};function Cte(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,c]=R6([e,n]);if(l===-1/0||c===1/0){var f=c===1/0?[l,...lE(0,r-1).map(()=>1/0)]:[...lE(0,r-1).map(()=>-1/0),c];return e>n?uE(f):f}if(l===c)return Ite(l,r,i);var{step:d,tickMin:m,tickMax:p}=N6(l,c,s,i,0),v=O6(m,p.add(new pt(.1).mul(d)),d);return e>n?uE(v):v}function Ote(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=R6([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var c=Math.max(e,2),f=P6(new pt(l).sub(s).div(c-1),i,0),d=[...O6(new pt(s),new pt(l),f),l];return i===!1&&(d=d.map(m=>Math.round(m))),n>r?uE(d):d}var Rte=I6(Cte),Pte=I6(Ote),D6=t=>t.rootProps.maxBarSize,Nte=t=>t.rootProps.barGap,M6=t=>t.rootProps.barCategoryGap,Dte=t=>t.rootProps.barSize,Qd=t=>t.rootProps.stackOffset,LT=t=>t.options.chartName,zT=t=>t.rootProps.syncId,k6=t=>t.rootProps.syncMethod,BT=t=>t.options.eventEmitter,$a={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Mte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$a.angleAxisId,includeHidden:!1,name:void 0,reversed:$a.reversed,scale:$a.scale,tick:$a.tick,tickCount:void 0,ticks:void 0,type:$a.type,unit:void 0},kte={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:jr.type,unit:void 0},jte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$a.scale,tick:$a.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Vte={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:"category",unit:void 0},UT=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?jte:Mte,$T=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Vte:kte,Fv=t=>t.polarOptions,qT=ne([fs,hs,En],f5),j6=ne([Fv,qT],(t,e)=>{if(t!=null)return er(t.innerRadius,e,0)}),V6=ne([Fv,qT],(t,e)=>{if(t!=null)return er(t.outerRadius,e,e*.8)}),Lte=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},L6=ne([Fv],Lte);ne([UT,L6],qv);var z6=ne([qT,j6,V6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([$T,z6],qv);var B6=ne([lt,Fv,j6,V6,fs,hs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=e;return{cx:er(l,i,i/2),cy:er(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),jt=(t,e)=>e,Xd=(t,e,n)=>n;function FT(t){return t?.id}var Tn=t=>{var e=lt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},rf=t=>t.tooltip.settings.axisId,An=t=>{var e=Tn(t),n=rf(t);return Zd(t,e,n)},U6=ne([An],t=>t?.dataKey);function $6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var f,d=(f=c.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var m=FT(c);d.forEach((p,v)=>{var _=s==null||i?v:String(zt(p,s,null)),x=zt(p,c.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[m]:x}),l.set(_,E)})}}),Array.from(l.values())}function Hv(t){return t.stackId!=null&&t.dataKey!=null}var Kv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Gv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return(e=Bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=Ute(t,"string");return typeof e=="symbol"?e:e+""}function Ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cE=[0,"auto"],Dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},q6=(t,e)=>t.cartesianAxis.xAxis[e],ms=(t,e)=>{var n=q6(t,e);return n??Dr},Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Hd},F6=(t,e)=>t.cartesianAxis.yAxis[e],ps=(t,e)=>{var n=F6(t,e);return n??Mr},$te={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},HT=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??$te},Bt=(t,e,n)=>{switch(e){case"xAxis":return ms(t,n);case"yAxis":return ps(t,n);case"zAxis":return HT(t,n);case"angleAxis":return UT(t,n);case"radiusAxis":return $T(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},qte=(t,e,n)=>{switch(e){case"xAxis":return ms(t,n);case"yAxis":return ps(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Zd=(t,e,n)=>{switch(e){case"xAxis":return ms(t,n);case"yAxis":return ps(t,n);case"angleAxis":return UT(t,n);case"radiusAxis":return $T(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},H6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function KT(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var GT=t=>t.graphicalItems.cartesianItems,Fte=ne([jt,Xd],KT),YT=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Jd=ne([GT,Bt,Fte],YT,{memoizeOptions:{resultEqualityCheck:Gv}}),K6=ne([Jd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Hv)),G6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Hte=ne([Jd],G6),WT=t=>t.map(e=>e.data).filter(Boolean).flat(1),Kte=ne([Jd],WT,{memoizeOptions:{resultEqualityCheck:Gv}}),QT=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},XT=ne([Kte,kT],QT),ZT=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:zt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:zt(i,r)}))):t.map(r=>({value:r})),Yv=ne([XT,Bt,Jd],ZT);function Y6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Tg(t){if(ga(t)||t instanceof Date){var e=Number(t);if(tr(e))return e}}function nD(t){if(Array.isArray(t)){var e=[Tg(t[0]),Tg(t[1])];return Jl(e)?e:void 0}var n=Tg(t);if(n!=null)return[n,n]}function af(t){return t.map(Tg).filter(uZ)}function Gte(t,e,n){return!n||typeof e!="number"||mi(e)?[]:n.length?af(n.flatMap(r=>{var i=zt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!tr(s)||!tr(l)))return[e-s,e+l]})):[]}var Yte=ne([K6,kT,An],$6),W6=(t,e,n)=>{var r={},i=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,c]=s,f=c.map(FT);return[l,{stackedData:HQ(t,f,n),graphicalItems:c}]}))},fE=ne([Yte,K6,Qd],W6),Q6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=QQ(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Wte=ne([Bt],t=>t.allowDataOverflow),JT=t=>{var e;if(t==null||!("domain"in t))return cE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=af(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:cE},eA=ne([Bt],JT),tA=ne([eA,Wte],v6),Qte=ne([fE,ko,jt,tA],Q6,{memoizeOptions:{resultEqualityCheck:Kv}}),Wv=t=>t.errorBars,Xte=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Y6(n,r)),Iy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},nA=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var d,m,p=(d=r[f.id])===null||d===void 0?void 0:d.filter(O=>Y6(i,O)),v=zt(c,(m=e.dataKey)!==null&&m!==void 0?m:f.dataKey),_=Gte(c,v,p);if(_.length>=2){var x=Math.min(..._),E=Math.max(..._);(s==null||x<s)&&(s=x),(l==null||E>l)&&(l=E)}var T=nD(v);T!=null&&(s=s==null?T[0]:Math.min(s,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var f=nD(zt(c,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),tr(s)&&tr(l))return[s,l]},Zte=ne([XT,Bt,Hte,Wv,jt],nA,{memoizeOptions:{resultEqualityCheck:Kv}});function Jte(t){var{value:e}=t;if(ga(e)||e instanceof Date)return e}var ene=(t,e,n)=>{var r=t.map(Jte).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&x3(r))?V5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},X6=t=>t.referenceElements.dots,sf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),tne=ne([X6,jt,Xd],sf),Z6=t=>t.referenceElements.areas,nne=ne([Z6,jt,Xd],sf),J6=t=>t.referenceElements.lines,rne=ne([J6,jt,Xd],sf),eV=(t,e)=>{var n=af(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ine=ne(tne,jt,eV),tV=(t,e)=>{var n=af(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ane=ne([nne,jt],tV),nV=(t,e)=>{var n=af(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sne=ne(rne,jt,nV),one=ne(ine,sne,ane,(t,e,n)=>Iy(t,n,e)),rA=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=f?Iy(r,s,i):Iy(s,i);return _te(e,d,t.allowDataOverflow)},lne=ne([Bt,eA,tA,Qte,Zte,one,lt,jt],rA,{memoizeOptions:{resultEqualityCheck:Kv}}),une=[0,1],iA=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,d=ou(e,s);return d&&c==null?V5(0,n.length):f==="category"?ene(r,t,d):i==="expand"?une:l}},aA=ne([Bt,lt,XT,Yv,Qd,jt,lne],iA),rV=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat($d(s));return c in jh?c:"point"}}},of=ne([Bt,lt,H6,LT,jt],rV);function cne(t){if(t!=null){if(t in jh)return jh[t]();var e="scale".concat($d(t));if(e in jh)return jh[e]()}}function sA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=cne(e);if(i!=null){var s=i.domain(n).range(r);return BQ(s),s}}}var oA=(t,e,n)=>{var r=JT(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Jl(t))return Rte(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Jl(t))return Pte(t,e.tickCount,e.allowDecimals)}},lA=ne([aA,Zd,of],oA),uA=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Jl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},fne=ne([Bt,aA,lA,jt],uA),hne=ne(Yv,Bt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(af(t.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),iV=ne(hne,lt,M6,En,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!tr(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=er(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),dne=(t,e)=>{var n=ms(t,e);return n==null||typeof n.padding!="string"?0:iV(t,"xAxis",e,n.padding)},mne=(t,e)=>{var n=ps(t,e);return n==null||typeof n.padding!="string"?0:iV(t,"yAxis",e,n.padding)},pne=ne(ms,dne,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),gne=ne(ps,mne,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),yne=ne([En,pne,Pv,Rv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),vne=ne([En,lt,gne,Pv,Rv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),em=(t,e,n,r)=>{var i;switch(e){case"xAxis":return yne(t,n,r);case"yAxis":return vne(t,n,r);case"zAxis":return(i=HT(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return L6(t);case"radiusAxis":return z6(t,n);default:return}},aV=ne([Bt,em],qv),lf=ne([Bt,of,fne,aV],sA);ne([Jd,Wv,jt],Xte);function sV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Qv=(t,e)=>e,Xv=(t,e,n)=>n,bne=ne(Cv,Qv,Xv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(sV)),_ne=ne(Ov,Qv,Xv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(sV)),oV=(t,e)=>({width:t.width,height:e.height}),wne=(t,e)=>{var n=typeof e.width=="number"?e.width:Hd;return{width:n,height:t.height}},lV=ne(En,ms,oV),Ene=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},xne=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Tne=ne(hs,En,bne,Qv,Xv,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=oV(e,c);l==null&&(l=Ene(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),s}),Ane=ne(fs,En,_ne,Qv,Xv,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=wne(e,c);l==null&&(l=xne(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),s}),Sne=(t,e)=>{var n=ms(t,e);if(n!=null)return Tne(t,n.orientation,n.mirror)},Ine=ne([En,ms,Sne,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Cne=(t,e)=>{var n=ps(t,e);if(n!=null)return Ane(t,n.orientation,n.mirror)},One=ne([En,ps,Cne,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),uV=ne(En,ps,(t,e)=>{var n=typeof e.width=="number"?e.width:Hd;return{width:n,height:t.height}}),rD=(t,e,n)=>{switch(e){case"xAxis":return lV(t,n).width;case"yAxis":return uV(t,n).height;default:return}},cV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=ou(t,r),f=e.map(d=>d.value);if(l&&c&&s==="category"&&i&&x3(f))return f}},cA=ne([lt,Yv,Bt,jt],cV),fV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=ou(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},fA=ne([lt,Yv,Zd,jt],fV),iD=ne([lt,qte,of,lf,cA,fA,em,lA,jt],(t,e,n,r,i,s,l,c,f)=>{if(e==null)return null;var d=ou(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}),Rne=(t,e,n,r,i,s,l,c,f)=>{if(!(e==null||r==null)){var d=ou(t,f),{type:m,ticks:p,tickCount:v}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=m==="category"&&r.bandwidth?r.bandwidth()/_:0;x=f==="angleAxis"&&s!=null&&s.length>=2?Pn(s[0]-s[1])*2*x:x;var E=p||i;if(E){var T=E.map((O,M)=>{var P=l?l.indexOf(O):O;return{index:M,coordinate:r(P)+x,value:O,offset:x}});return T.filter(O=>!mi(O.coordinate))}return d&&c?c.map((O,M)=>({coordinate:r(O)+x,value:O,index:M,offset:x})):r.ticks?r.ticks(v).map(O=>({coordinate:r(O)+x,value:O,offset:x})):r.domain().map((O,M)=>({coordinate:r(O)+x,value:l?l[O]:O,index:M,offset:x}))}},hV=ne([lt,Zd,of,lf,lA,em,cA,fA,jt],Rne),Pne=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=ou(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&r?.length>=2?Pn(r[0]-r[1])*2*d:d,c&&s?s.map((m,p)=>({coordinate:n(m)+d,value:m,index:p,offset:d})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,p)=>({coordinate:n(m)+d,value:i?i[m]:m,index:p,offset:d}))}},Fc=ne([lt,Zd,lf,em,cA,fA,jt],Pne),Hc=ne(Bt,lf,(t,e)=>{if(!(t==null||e==null))return Sy(Sy({},t),{},{scale:e})}),Nne=ne([Bt,of,aA,aV],sA);ne((t,e,n)=>HT(t,n),Nne,(t,e)=>{if(!(t==null||e==null))return Sy(Sy({},t),{},{scale:e})});var Dne=ne([lt,Cv,Ov],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),dV=t=>t.options.defaultTooltipEventType,mV=t=>t.options.validateTooltipEventTypes;function pV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function hA(t,e){var n=dV(t),r=mV(t);return pV(e,n,r)}function Mne(t){return Pe(e=>hA(e,t))}var gV=(t,e)=>{var n,r=Number(e);if(!(mi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},kne=t=>t.tooltip.settings,lo={active:!1,index:null,dataKey:void 0,coordinate:void 0},jne={itemInteraction:{click:lo,hover:lo},axisInteraction:{click:lo,hover:lo},keyboardInteraction:lo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yV=qr({name:"tooltip",initialState:jne,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:ar()},removeTooltipEntrySettings:{reducer(t,e){var n=Wa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:ar()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Vne,removeTooltipEntrySettings:Lne,setTooltipSettingsState:zne,setActiveMouseOverItemIndex:vV,mouseLeaveItem:Bne,mouseLeaveChart:bV,setActiveClickItemIndex:Une,setMouseOverAxisIndex:_V,setMouseClickAxisIndex:$ne,setSyncInteraction:hE,setKeyboardInteraction:dE}=yV.actions,qne=yV.reducer;function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=Kne(t,"string");return typeof e=="symbol"?e:e+""}function Kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gne(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Yne(t){return t.index!=null}var wV=(t,e,n,r)=>{if(e==null)return lo;var i=Gne(t,e,n);if(i==null)return lo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Yne(i)){if(s)return ng(ng({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ng(ng({},lo),{},{coordinate:i.coordinate})},dA=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!tr(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},EV=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var f=l[0],d=f==null?void 0:c(f.positions,s);if(d!=null)return d;var m=i?.[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},xV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},tm=t=>t.options.tooltipPayloadSearcher,uf=t=>t.tooltip;function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zne(t,e){return t??e}var TV=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:m}=n,p=[];return t.reduce((v,_)=>{var x,{dataDefinedOnItem:E,settings:T}=_,O=Zne(E,c),M=Array.isArray(O)?h5(O,d,m):O,P=(x=T?.dataKey)!==null&&x!==void 0?x:r,$=T?.nameKey,B;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?B=TY(M,r,i):B=s(M,e,f,$),Array.isArray(B))B.forEach(R=>{var N=oD(oD({},T),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(LP({tooltipEntrySettings:N,dataKey:R.dataKey,payload:R.payload,value:zt(R.payload,R.dataKey),name:R.name}))});else{var q;v.push(LP({tooltipEntrySettings:T,dataKey:P,payload:B,value:zt(B,P),name:(q=zt(B,$))!==null&&q!==void 0?q:T?.name}))}return v},p)}},mA=ne([An,lt,H6,LT,Tn],rV),Jne=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),ere=ne([Tn,rf],KT),nm=ne([Jne,An,ere],YT,{memoizeOptions:{resultEqualityCheck:Gv}}),tre=ne([nm],t=>t.filter(Hv)),nre=ne([nm],WT,{memoizeOptions:{resultEqualityCheck:Gv}}),cf=ne([nre,ko],QT),rre=ne([tre,ko,An],$6),pA=ne([cf,An,nm],ZT),AV=ne([An],JT),ire=ne([An],t=>t.allowDataOverflow),SV=ne([AV,ire],v6),are=ne([nm],t=>t.filter(Hv)),sre=ne([rre,are,Qd],W6),ore=ne([sre,ko,Tn,SV],Q6),lre=ne([nm],G6),ure=ne([cf,An,lre,Wv,Tn],nA,{memoizeOptions:{resultEqualityCheck:Kv}}),cre=ne([X6,Tn,rf],sf),fre=ne([cre,Tn],eV),hre=ne([Z6,Tn,rf],sf),dre=ne([hre,Tn],tV),mre=ne([J6,Tn,rf],sf),pre=ne([mre,Tn],nV),gre=ne([fre,pre,dre],Iy),yre=ne([An,AV,SV,ore,ure,gre,lt,Tn],rA),IV=ne([An,lt,cf,pA,Qd,Tn,yre],iA),vre=ne([IV,An,mA],oA),bre=ne([An,IV,vre,Tn],uA),CV=t=>{var e=Tn(t),n=rf(t),r=!1;return em(t,e,n,r)},OV=ne([An,CV],qv),RV=ne([An,mA,bre,OV],sA),_re=ne([lt,pA,An,Tn],cV),wre=ne([lt,pA,An,Tn],fV),Ere=(t,e,n,r,i,s,l,c)=>{if(e){var{type:f}=e,d=ou(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?Pn(i[0]-i[1])*2*p:p,d&&l?l.map((v,_)=>({coordinate:r(v)+p,value:v,index:_,offset:p})):r.domain().map((v,_)=>({coordinate:r(v)+p,value:s?s[v]:v,index:_,offset:p}))}}},gs=ne([lt,An,mA,RV,CV,_re,wre,Tn],Ere),gA=ne([dV,mV,kne],(t,e,n)=>pV(n.shared,t,e)),PV=t=>t.tooltip.settings.trigger,yA=t=>t.tooltip.settings.defaultIndex,Zv=ne([uf,gA,PV,yA],wV),tu=ne([Zv,cf],dA),NV=ne([gs,tu],gV),DV=ne([Zv],t=>{if(t)return t.dataKey}),MV=ne([uf,gA,PV,yA],xV),xre=ne([fs,hs,lt,En,gs,yA,MV,tm],EV),Tre=ne([Zv,xre],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Are=ne([Zv],t=>t.active),Sre=ne([MV,tu,ko,U6,NV,tm,gA],TV);ne([Sre],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=Ore(t,"string");return typeof e=="symbol"?e:e+""}function Ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rre=()=>Pe(An),Pre=()=>{var t=Rre(),e=Pe(gs),n=Pe(RV);return oT(uD(uD({},t),{},{scale:n}),e)},Nre=()=>Pe(LT),vA=(t,e)=>e,kV=(t,e,n)=>n,bA=(t,e,n,r)=>r,Dre=ne(gs,t=>wv(t,e=>e.coordinate)),_A=ne([uf,vA,kV,bA],wV),jV=ne([_A,cf],dA),Mre=(t,e,n)=>{if(e!=null){var r=uf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},VV=ne([uf,vA,kV,bA],xV),Cy=ne([fs,hs,lt,En,gs,bA,VV,tm],EV),kre=ne([_A,Cy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),LV=ne(gs,jV,gV),jre=ne([VV,jV,ko,U6,LV,tm,vA],TV),Vre=ne([_A],t=>({isActive:t.active,activeIndex:t.index})),Lre=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s)){var f=XQ(t.chartX,t.chartY,e,n,c);if(f){var d=JQ(f,e),m=LQ(d,l,s,r,i),p=ZQ(e,s,m,f);return{activeIndex:String(m),activeCoordinate:p}}}};function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zre(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=Ure(t,"string");return typeof e=="symbol"?e:e+""}function Ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $re(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:f,chartName:d}=t,m=e,p=n,v=r;if(!c||!m||d!=="ScatterChart"&&f!=="axis")return null;var _,x;if(d==="ScatterChart")_=m,x=nZ;else if(d==="BarChart")_=rZ(l,m,i,s),x=D5;else if(l==="radial"){var{cx:E,cy:T,radius:O,startAngle:M,endAngle:P}=M5(m);_={cx:E,cy:T,startAngle:M,endAngle:P,innerRadius:O,outerRadius:O},x=j5}else _={points:BZ(l,m,i)},x=C5;var $=typeof c=="object"&&"className"in c?c.className:void 0,B=rg(rg(rg(rg({stroke:"#ccc",pointerEvents:"none"},i),_),ud(c)),{},{payload:p,payloadIndex:v,className:xt("recharts-tooltip-cursor",$)});return A.isValidElement(c)?A.cloneElement(c,B):A.createElement(x,B)}function qre(t){var e=Pre(),n=w5(),r=cT(),i=Nre();return A.createElement($re,mE({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var zV=A.createContext(null),Fre=()=>A.useContext(zV),V1={exports:{}},fD;function Hre(){return fD||(fD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function s(f,d,m,p,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,p||f,v),x=n?n+d:d;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],_]:f._events[x].push(_):(f._events[x]=_,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,p;if(this._eventsCount===0)return d;for(p in m=this._events)e.call(m,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d){var m=n?n+d:d,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,_=p.length,x=new Array(_);v<_;v++)x[v]=p[v].fn;return x},c.prototype.listenerCount=function(d){var m=n?n+d:d,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(d,m,p,v,_,x){var E=n?n+d:d;if(!this._events[E])return!1;var T=this._events[E],O=arguments.length,M,P;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),O){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,p),!0;case 4:return T.fn.call(T.context,m,p,v),!0;case 5:return T.fn.call(T.context,m,p,v,_),!0;case 6:return T.fn.call(T.context,m,p,v,_,x),!0}for(P=1,M=new Array(O-1);P<O;P++)M[P-1]=arguments[P];T.fn.apply(T.context,M)}else{var $=T.length,B;for(P=0;P<$;P++)switch(T[P].once&&this.removeListener(d,T[P].fn,void 0,!0),O){case 1:T[P].fn.call(T[P].context);break;case 2:T[P].fn.call(T[P].context,m);break;case 3:T[P].fn.call(T[P].context,m,p);break;case 4:T[P].fn.call(T[P].context,m,p,v);break;default:if(!M)for(B=1,M=new Array(O-1);B<O;B++)M[B-1]=arguments[B];T[P].fn.apply(T[P].context,M)}}return!0},c.prototype.on=function(d,m,p){return s(this,d,m,p,!1)},c.prototype.once=function(d,m,p){return s(this,d,m,p,!0)},c.prototype.removeListener=function(d,m,p,v){var _=n?n+d:d;if(!this._events[_])return this;if(!m)return l(this,_),this;var x=this._events[_];if(x.fn)x.fn===m&&(!v||x.once)&&(!p||x.context===p)&&l(this,_);else{for(var E=0,T=[],O=x.length;E<O;E++)(x[E].fn!==m||v&&!x[E].once||p&&x[E].context!==p)&&T.push(x[E]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(V1)),V1.exports}var Kre=Hre();const Gre=va(Kre);var bd=new Gre,pE="recharts.syncEvent.tooltip",hD="recharts.syncEvent.brush";function BV(t,e){if(e){var n=Number.parseInt(e,10);if(!mi(n))return t?.[n]}}var Yre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},UV=qr({name:"options",initialState:Yre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Wre=UV.reducer,{createEventEmitter:Qre}=UV.actions;function Xre(t){return t.tooltip.syncInteraction}var Zre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$V=qr({name:"chartData",initialState:Zre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:dD,setDataStartEndIndexes:Jre,setComputedData:rfe}=$V.actions,eie=$V.reducer,tie=["x","y"];function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return(e=rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return typeof e=="symbol"?e:e+""}function iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aie(t,e){if(t==null)return{};var n,r,i=sie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qV=()=>{};function oie(){var t=Pe(zT),e=Pe(BT),n=Ht(),r=Pe(k6),i=Pe(gs),s=cT(),l=Nv(),c=Pe(f=>f.rootProps.className);A.useEffect(()=>{if(t==null)return qV;var f=(d,m,p)=>{if(e!==p&&t===d){if(r==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var _=m.payload.coordinate,{x,y:E}=_,T=aie(_,tie),{x:O,y:M,width:P,height:$}=m.payload.sourceViewBox,B=sc(sc({},T),{},{x:l.x+(P?(x-O)/P:0)*l.width,y:l.y+($?(E-M)/$:0)*l.height});n(sc(sc({},m),{},{payload:sc(sc({},m.payload),{},{coordinate:B})}))}else n(m);return}if(i!=null){var q;if(typeof r=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},N=r(i,R);q=i[N]}else r==="value"&&(q=i.find(Q=>String(Q.value)===m.payload.label));var{coordinate:j}=m.payload;if(q==null||m.payload.active===!1||j==null||l==null){n(hE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:V}=j,U=Math.min(z,l.x+l.width),k=Math.min(V,l.y+l.height),ce={x:s==="horizontal"?q.coordinate:U,y:s==="horizontal"?k:q.coordinate},we=hE({active:m.payload.active,coordinate:ce,dataKey:m.payload.dataKey,index:String(q.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});n(we)}}};return bd.on(pE,f),()=>{bd.off(pE,f)}},[c,n,e,t,r,i,s,l])}function lie(){var t=Pe(zT),e=Pe(BT),n=Ht();A.useEffect(()=>{if(t==null)return qV;var r=(i,s,l)=>{e!==l&&t===i&&n(Jre(s))};return bd.on(hD,r),()=>{bd.off(hD,r)}},[n,e,t])}function uie(){var t=Ht();A.useEffect(()=>{t(Qre())},[t]),oie(),lie()}function cie(t,e,n,r,i,s){var l=Pe(_=>Mre(_,t,e)),c=Pe(BT),f=Pe(zT),d=Pe(k6),m=Pe(Xre),p=m?.active,v=Nv();A.useEffect(()=>{if(!p&&f!=null&&c!=null){var _=hE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});bd.emit(pE,f,_,c)}},[p,n,l,i,r,c,f,d,s,v])}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e,n){return(e=hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hie(t){var e=die(t,"string");return typeof e=="symbol"?e:e+""}function die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mie(t){return t.dataKey}function pie(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(MX,e)}var yD=[],gie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!lu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gE(t){var e=cr(t,gie),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:l,filterNull:c,isAnimationActive:f,offset:d,payloadUniqBy:m,position:p,reverseDirection:v,useTranslate3d:_,wrapperStyle:x,cursor:E,shared:T,trigger:O,defaultIndex:M,portal:P,axisId:$}=e,B=Ht(),q=typeof M=="number"?String(M):M;A.useEffect(()=>{B(zne({shared:T,trigger:O,axisId:$,active:n,defaultIndex:q}))},[B,T,O,$,n,q]);var R=Nv(),N=I5(),j=Mne(T),{activeIndex:z,isActive:V}=Pe(xe=>Vre(xe,j,O,q)),U=Pe(xe=>jre(xe,j,O,q)),k=Pe(xe=>LV(xe,j,O,q)),ce=Pe(xe=>kre(xe,j,O,q)),we=U,Q=Fre(),W=n??V,[fe,me]=RW([we,W]),Se=j==="axis"?k:void 0;cie(j,O,ce,Se,z,W);var H=P??Q;if(H==null)return null;var re=we??yD;W||(re=yD),c&&re.length&&(re=nW(we.filter(xe=>xe.value!=null&&(xe.hide!==!0||e.includeHidden)),m,mie));var pe=re.length>0,be=A.createElement(UX,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:f,active:W,coordinate:ce,hasPayload:pe,offset:d,position:p,reverseDirection:v,useTranslate3d:_,viewBox:R,wrapperStyle:x,lastBoundingBox:fe,innerRef:me,hasPortalFromProps:!!P},pie(l,gD(gD({},e),{},{payload:re,label:Se,active:W,coordinate:ce,accessibilityLayer:N})));return A.createElement(A.Fragment,null,LG.createPortal(be,H),W&&A.createElement(qre,{cursor:E,tooltipEventType:j,coordinate:ce,payload:we,index:z}))}var ff=t=>null;ff.displayName="Cell";function yie(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _ie{constructor(e){yie(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aie={cacheSize:2e3,enableCache:!0},FV=wie({},Aie),bD=new _ie(FV.cacheSize),Sie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_D="recharts_measurement_span";function Iie(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var wD=(t,e)=>{try{var n=document.getElementById(_D);n||(n=document.createElement("span"),n.setAttribute("id",_D),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Sie,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lu.isSsr)return{width:0,height:0};if(!FV.enableCache)return wD(e,n);var r=Iie(e,n),i=bD.get(r);if(i)return i;var s=wD(e,n);return bD.set(r,s),s},ED=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Oie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rie=Object.keys(HV),hc="NaN";function Pie(t,e){return t*HV[e]}class vr{static parse(e){var n,[,r,i]=(n=Oie.exec(e))!==null&&n!==void 0?n:[];return new vr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,mi(e)&&(this.unit=""),n!==""&&!Cie.test(n)&&(this.num=NaN,this.unit=""),Rie.includes(n)&&(this.num=Pie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new vr(NaN,""):new vr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new vr(NaN,""):new vr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new vr(NaN,""):new vr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new vr(NaN,""):new vr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mi(this.num)}}function KV(t){if(t.includes(hc))return hc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=ED.exec(e))!==null&&n!==void 0?n:[],l=vr.parse(r??""),c=vr.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return hc;e=e.replace(ED,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,p,v]=(d=xD.exec(e))!==null&&d!==void 0?d:[],_=vr.parse(m??""),x=vr.parse(v??""),E=p==="+"?_.add(x):_.subtract(x);if(E.isNaN())return hc;e=e.replace(xD,E.toString())}return e}var TD=/\(([^()]*)\)/;function Nie(t){for(var e=t,n;(n=TD.exec(e))!=null;){var[,r]=n;e=e.replace(TD,KV(r))}return e}function Die(t){var e=t.replace(/\s+/g,"");return e=Nie(e),e=KV(e),e}function Mie(t){try{return Die(t)}catch{return hc}}function L1(t){var e=Mie(t.slice(5,-1));return e===hc?"":e}var kie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jie=["dx","dy","angle","className","breakAll"];function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(null,arguments)}function AD(t,e){if(t==null)return{};var n,r,i=Vie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GV=/[ \f\n\r\t\v\u2028\u2029]+/,YV=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Nn(e)||(n?i=e.toString().split(""):i=e.toString().split(GV));var s=i.map(c=>({word:c,width:Gh(c,r).width})),l=n?0:Gh(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Lie=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:f}=t,d=Re(s),m=l,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((U,k)=>{var{word:ce,width:we}=k,Q=U[U.length-1];if(Q&&(r==null||i||Q.width+we+n<Number(r)))Q.words.push(ce),Q.width+=we+n;else{var W={words:[ce],width:we};U.push(W)}return U},[])},v=p(e),_=z=>z.reduce((V,U)=>V.width>U.width?V:U);if(!d||i)return v;var x=v.length>s||_(v).width>Number(r);if(!x)return v;for(var E="…",T=z=>{var V=m.slice(0,z),U=YV({breakAll:f,style:c,children:V+E}).wordsWithComputedWidth,k=p(U),ce=k.length>s||_(k).width>Number(r);return[ce,k]},O=0,M=m.length-1,P=0,$;O<=M&&P<=m.length-1;){var B=Math.floor((O+M)/2),q=B-1,[R,N]=T(q),[j]=T(B);if(!R&&!j&&(O=B+1),R&&j&&(M=B-1),!R&&j){$=N;break}P++}return $||v},SD=t=>{var e=Nn(t)?[]:t.toString().split(GV);return[{words:e}]},zie=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!lu.isSsr){var c,f,d=YV({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:m,spaceWidth:p}=d;c=m,f=p}else return SD(r);return Lie({breakAll:s,children:r,maxLines:l,style:i},c,f,e,n)}return SD(r)},ID="#808080",Jv=A.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:f="end",fill:d=ID}=t,m=AD(t,kie),p=A.useMemo(()=>zie({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:v,dy:_,angle:x,className:E,breakAll:T}=m,O=AD(m,jie);if(!ga(n)||!ga(r)||p.length===0)return null;var M=n+(Re(v)?v:0),P=r+(Re(_)?_:0),$;switch(f){case"start":$=L1("calc(".concat(s,")"));break;case"middle":$=L1("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:$=L1("calc(".concat(p.length-1," * -").concat(i,")"));break}var B=[];if(l){var q=p[0].width,{width:R}=m;B.push("scale(".concat(Re(R)?R/q:1,")"))}return x&&B.push("rotate(".concat(x,", ").concat(M,", ").concat(P,")")),B.length&&(O.transform=B.join(" ")),A.createElement("text",yE({},di(O),{ref:e,x:M,y:P,className:xt("recharts-text",E),textAnchor:c,fill:d.includes("url")?ID:d}),p.map((N,j)=>{var z=N.words.join(T?"":" ");return A.createElement("tspan",{x:M,dy:j===0?$:i,key:"".concat(z,"-").concat(j)},z)}))});Jv.displayName="Text";var Bie=["labelRef"];function Uie(t,e){if(t==null)return{};var n,r,i=$ie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=Hie(t,"string");return typeof e=="symbol"?e:e+""}function Hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(null,arguments)}var WV=A.createContext(null),Kie=t=>{var{x:e,y:n,width:r,height:i,children:s}=t,l=A.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return A.createElement(WV.Provider,{value:l},s)},QV=()=>{var t=A.useContext(WV),e=Nv();return t||e},Gie=A.createContext(null),Yie=()=>{var t=A.useContext(Gie),e=Pe(B6);return t||e},Wie=t=>{var{value:e,formatter:n}=t,r=Nn(t.children)?e:t.children;return typeof n=="function"?n(r):r},wA=t=>t!=null&&typeof t=="function",Qie=(t,e)=>{var n=Pn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Xie=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:f,innerRadius:d,outerRadius:m,startAngle:p,endAngle:v,clockWise:_}=i,x=(d+m)/2,E=Qie(p,v),T=E>=0?1:-1,O,M;switch(e){case"insideStart":O=p+T*s,M=_;break;case"insideEnd":O=v-T*s,M=!_;break;case"end":O=v+T*s,M=_;break;default:throw new Error("Unsupported position ".concat(e))}M=E<=0?M:!M;var P=fn(c,f,x,O),$=fn(c,f,x,O+(M?1:-1)*359),B="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(M?0:1,`,
    `).concat($.x,",").concat($.y),q=Nn(t.id)?cd("recharts-radial-line-"):t.id;return A.createElement("text",qa({},r,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:q,d:B})),A.createElement("textPath",{xlinkHref:"#".concat(q)},n))},Zie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:f}=t,d=(c+f)/2;if(n==="outside"){var{x:m,y:p}=fn(r,i,l+e,d);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:_,y:x}=fn(r,i,v,d);return{x:_,y:x,textAnchor:"middle",verticalAnchor:"middle"}},XV=t=>"cx"in t&&Re(t.cx),Jie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!XV(n)&&(s=n);var{x:l,y:c,width:f,height:d}=e,m=d>=0?1:-1,p=m*r,v=m>0?"end":"start",_=m>0?"start":"end",x=f>=0?1:-1,E=x*r,T=x>0?"end":"start",O=x>0?"start":"end";if(i==="top"){var M={x:l+f/2,y:c-m*r,textAnchor:"middle",verticalAnchor:v};return Zt(Zt({},M),s?{height:Math.max(c-s.y,0),width:f}:{})}if(i==="bottom"){var P={x:l+f/2,y:c+d+p,textAnchor:"middle",verticalAnchor:_};return Zt(Zt({},P),s?{height:Math.max(s.y+s.height-(c+d),0),width:f}:{})}if(i==="left"){var $={x:l-E,y:c+d/2,textAnchor:T,verticalAnchor:"middle"};return Zt(Zt({},$),s?{width:Math.max($.x-s.x,0),height:d}:{})}if(i==="right"){var B={x:l+f+E,y:c+d/2,textAnchor:O,verticalAnchor:"middle"};return Zt(Zt({},B),s?{width:Math.max(s.x+s.width-B.x,0),height:d}:{})}var q=s?{width:f,height:d}:{};return i==="insideLeft"?Zt({x:l+E,y:c+d/2,textAnchor:O,verticalAnchor:"middle"},q):i==="insideRight"?Zt({x:l+f-E,y:c+d/2,textAnchor:T,verticalAnchor:"middle"},q):i==="insideTop"?Zt({x:l+f/2,y:c+p,textAnchor:"middle",verticalAnchor:_},q):i==="insideBottom"?Zt({x:l+f/2,y:c+d-p,textAnchor:"middle",verticalAnchor:v},q):i==="insideTopLeft"?Zt({x:l+E,y:c+p,textAnchor:O,verticalAnchor:_},q):i==="insideTopRight"?Zt({x:l+f-E,y:c+p,textAnchor:T,verticalAnchor:_},q):i==="insideBottomLeft"?Zt({x:l+E,y:c+d-p,textAnchor:O,verticalAnchor:v},q):i==="insideBottomRight"?Zt({x:l+f-E,y:c+d-p,textAnchor:T,verticalAnchor:v},q):i&&typeof i=="object"&&(Re(i.x)||ns(i.x))&&(Re(i.y)||ns(i.y))?Zt({x:l+er(i.x,f),y:c+er(i.y,d),textAnchor:"end",verticalAnchor:"end"},q):Zt({x:l+f/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},q)},eae={offset:5};function no(t){var e=cr(t,eae),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:f,labelRef:d}=e,m=Yie(),p=QV(),v=r==="center"?p:m??p,_=n||v;if(!_||Nn(i)&&Nn(s)&&!A.isValidElement(l)&&typeof l!="function")return null;var x=Zt(Zt({},e),{},{viewBox:_});if(A.isValidElement(l)){var{labelRef:E}=x,T=Uie(x,Bie);return A.cloneElement(l,T)}var O;if(typeof l=="function"){if(O=A.createElement(l,x),A.isValidElement(O))return O}else O=Wie(e);var M=XV(_),P=di(e);if(M&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Xie(e,r,O,P,_);var $=M?Zie(_,e.offset,e.position):Jie(e,_);return A.createElement(Jv,qa({ref:d,className:xt("recharts-label",c)},P,$,{breakAll:f}),O)}no.displayName="Label";var tae=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(no,qa({key:"label-implicit"},r)):ga(t)?A.createElement(no,qa({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===no?A.cloneElement(t,Zt({key:"label-implicit"},r)):A.createElement(no,qa({key:"label-implicit",content:t},r)):wA(t)?A.createElement(no,qa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(no,qa({},t,{key:"label-implicit"},r)):null};function nae(t){var{label:e,labelRef:n}=t,r=QV();return tae(e,r,n)||null}var z1={},B1={},OD;function rae(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(B1)),B1}var U1={},RD;function iae(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(U1)),U1}var PD;function aae(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rae(),n=iae(),r=eT();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(z1)),z1}var $1,ND;function sae(){return ND||(ND=1,$1=aae().last),$1}var oae=sae();const lae=va(oae);var uae=["valueAccessor"],cae=["dataKey","clockWise","id","textBreakAll"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(null,arguments)}function DD(t,e){if(t==null)return{};var n,r,i=fae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hae=t=>Array.isArray(t.value)?lae(t.value):t.value,ZV=A.createContext(void 0),dae=ZV.Provider,JV=A.createContext(void 0),mae=JV.Provider;function pae(){return A.useContext(ZV)}function gae(){return A.useContext(JV)}function Ag(t){var{valueAccessor:e=hae}=t,n=DD(t,uae),{dataKey:r,clockWise:i,id:s,textBreakAll:l}=n,c=DD(n,cae),f=pae(),d=gae(),m=f||d;return!m||!m.length?null:A.createElement(Er,{className:"recharts-label-list"},m.map((p,v)=>{var _,x=Nn(r)?e(p,v):zt(p&&p.payload,r),E=Nn(s)?{}:{id:"".concat(s,"-").concat(v)};return A.createElement(no,Oy({key:"label-".concat(v)},di(p),c,E,{fill:(_=n.fill)!==null&&_!==void 0?_:p.fill,parentViewBox:p.parentViewBox,value:x,textBreakAll:l,viewBox:p.viewBox,index:v}))}))}Ag.displayName="LabelList";function eL(t){var{label:e}=t;return e?e===!0?A.createElement(Ag,{key:"labelList-implicit"}):A.isValidElement(e)||wA(e)?A.createElement(Ag,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(Ag,Oy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var tL=t=>t.graphicalItems.polarItems,yae=ne([jt,Xd],KT),e0=ne([tL,Bt,yae],YT),vae=ne([e0],WT),t0=ne([vae,MT],QT),bae=ne([t0,Bt,e0],ZT);ne([t0,Bt,e0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=zt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:zt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var MD=()=>{},_ae=ne([t0,Bt,e0,Wv,jt],nA),wae=ne([Bt,eA,tA,MD,_ae,MD,lt,jt],rA),nL=ne([Bt,lt,t0,bae,Qd,jt,wae],iA),Eae=ne([nL,Bt,of],oA);ne([Bt,nL,Eae,jt],uA);var xae={radiusAxis:{},angleAxis:{}},rL=qr({name:"polarAxis",initialState:xae,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ife,removeRadiusAxis:afe,addAngleAxis:sfe,removeAngleAxis:ofe}=rL.actions,Tae=rL.reducer;function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){Aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aae(t,e,n){return(e=Sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cae=(t,e)=>e,EA=ne([tL,Cae],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Oae=[],xA=(t,e,n)=>n?.length===0?Oae:n,iL=ne([MT,EA,xA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>jD(jD({},e.presentationProps),s.props))),i!=null)return i}}),Rae=ne([iL,EA,xA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=zt(r,e.nameKey,e.name),c;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:Iv(l,e.dataKey),color:c,payload:r,type:e.legendType}})}),Pae=ne([iL,EA,xA,En],(t,e,n,r)=>{if(!(e==null||t==null))return Dse({offset:r,pieSettings:e,displayedData:t,cells:n})}),q1={exports:{}},Et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function Nae(){if(VD)return Et;VD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function x(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case t:switch(E=E.type,E){case n:case i:case r:case f:case d:case v:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case p:case m:return E;case s:return E;default:return T}}case e:return T}}}return Et.ContextConsumer=s,Et.ContextProvider=l,Et.Element=t,Et.ForwardRef=c,Et.Fragment=n,Et.Lazy=p,Et.Memo=m,Et.Portal=e,Et.Profiler=i,Et.StrictMode=r,Et.Suspense=f,Et.SuspenseList=d,Et.isContextConsumer=function(E){return x(E)===s},Et.isContextProvider=function(E){return x(E)===l},Et.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Et.isForwardRef=function(E){return x(E)===c},Et.isFragment=function(E){return x(E)===n},Et.isLazy=function(E){return x(E)===p},Et.isMemo=function(E){return x(E)===m},Et.isPortal=function(E){return x(E)===e},Et.isProfiler=function(E){return x(E)===i},Et.isStrictMode=function(E){return x(E)===r},Et.isSuspense=function(E){return x(E)===f},Et.isSuspenseList=function(E){return x(E)===d},Et.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===m||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===_||E.getModuleId!==void 0)},Et.typeOf=x,Et}var LD;function Dae(){return LD||(LD=1,q1.exports=Nae()),q1.exports}var Mae=Dae(),zD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",BD=null,F1=null,aL=t=>{if(t===BD&&Array.isArray(F1))return F1;var e=[];return A.Children.forEach(t,n=>{Nn(n)||(Mae.isFragment(n)?e=e.concat(aL(n.props.children)):e.push(n))}),F1=e,BD=t,e};function TA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>zD(i)):r=[zD(e)],aL(t).forEach(i=>{var s=Ql(i,"type.displayName")||Ql(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var H1={},UD;function kae(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(H1)),H1}var K1,$D;function jae(){return $D||($D=1,K1=kae().isPlainObject),K1}var Vae=jae();const Lae=va(Vae);function qD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return(e=Bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bae(t){var e=Uae(t,"string");return typeof e=="symbol"?e:e+""}function Uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(null,arguments)}var HD=(t,e,n,r,i)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+i),l+="L ".concat(t+n-s/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},$ae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qae=t=>{var e=cr(t,$ae),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:f,animationDuration:d,animationBegin:m,isUpdateAnimationActive:p}=e,v=A.useRef(null),[_,x]=A.useState(-1),E=A.useRef(i),T=A.useRef(s),O=A.useRef(l),M=A.useRef(n),P=A.useRef(r),$=kv(t,"trapezoid-");if(A.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ce=v.current.getTotalLength();ce&&x(ce)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var B=xt("recharts-trapezoid",c);if(!p)return A.createElement("g",null,A.createElement("path",Ry({},di(e),{className:B,d:HD(n,r,i,s,l)})));var q=E.current,R=T.current,N=O.current,j=M.current,z=P.current,V="0px ".concat(_===-1?1:_,"px"),U="".concat(_,"px 0px"),k=O5(["strokeDasharray"],d,f);return A.createElement(Mv,{animationId:$,key:$,canBegin:_>0,duration:d,easing:f,isActive:p,begin:m},ce=>{var we=Fn(q,i,ce),Q=Fn(R,s,ce),W=Fn(N,l,ce),fe=Fn(j,n,ce),me=Fn(z,r,ce);v.current&&(E.current=we,T.current=Q,O.current=W,M.current=fe,P.current=me);var Se=ce>0?{transition:k,strokeDasharray:U}:{strokeDasharray:V};return A.createElement("path",Ry({},di(e),{className:B,d:HD(fe,me,we,Q,W),ref:v,style:FD(FD({},Se),e.style)}))})},Fae=["option","shapeType","propTransformer","activeClassName","isActive"];function Hae(t,e){if(t==null)return{};var n,r,i=Kae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){Gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e,n){return(e=Yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qae(t,e){return Py(Py({},e),t)}function Xae(t,e){return t==="symbols"}function GD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(D5,n);case"trapezoid":return A.createElement(qae,n);case"sector":return A.createElement(j5,n);case"symbols":if(Xae(e))return A.createElement(A3,n);break;default:return null}}function Zae(t){return A.isValidElement(t)?t.props:t}function sL(t){var{option:e,shapeType:n,propTransformer:r=Qae,activeClassName:i="recharts-active-shape",isActive:s}=t,l=Hae(t,Fae),c;if(A.isValidElement(e))c=A.cloneElement(e,Py(Py({},l),Zae(e)));else if(typeof e=="function")c=e(l);else if(Lae(e)&&typeof e!="boolean"){var f=r(e,l);c=A.createElement(GD,{shapeType:n,elementProps:f})}else{var d=l;c=A.createElement(GD,{shapeType:n,elementProps:d})}return s?A.createElement(Er,{className:i},c):c}var AA=(t,e)=>{var n=Ht();return(r,i)=>s=>{t?.(r,i,s),n(vV({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},SA=t=>{var e=Ht();return(n,r)=>i=>{t?.(n,r,i),e(Bne())}},IA=(t,e)=>{var n=Ht();return(r,i)=>s=>{t?.(r,i,s),n(Une({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function oL(t){var{fn:e,args:n}=t,r=Ht(),i=Fr();return A.useLayoutEffect(()=>{if(!i){var s=e(n);return r(Vne(s)),()=>{r(Lne(s))}}},[e,n,r,i]),null}var lL=()=>{};function Jae(t){var{legendPayload:e}=t,n=Ht(),r=Fr();return A.useLayoutEffect(()=>r?lL:(n(A5(e)),()=>{n(S5(e))}),[n,r,e]),null}function ese(t){var{legendPayload:e}=t,n=Ht(),r=Pe(lt);return A.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?lL:(n(A5(e)),()=>{n(S5(e))}),[n,r,e]),null}var G1,tse=()=>{var[t]=A.useState(()=>cd("uid-"));return t},nse=(G1=vz.useId)!==null&&G1!==void 0?G1:tse;function rse(t,e){var n=nse();return e||(t?"".concat(t,"-").concat(n):n)}var ise=A.createContext(void 0),uL=t=>{var{id:e,type:n,children:r}=t,i=rse("recharts-".concat(n),e);return A.createElement(ise.Provider,{value:i},r(i))},ase={cartesianItems:[],polarItems:[]},cL=qr({name:"graphicalItems",initialState:ase,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:ar()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Wa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:ar()},removeCartesianGraphicalItem:{reducer(t,e){var n=Wa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:ar()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:ar()},removePolarGraphicalItem:{reducer(t,e){var n=Wa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:ar()}}}),{addCartesianGraphicalItem:sse,replaceCartesianGraphicalItem:ose,removeCartesianGraphicalItem:lse,addPolarGraphicalItem:use,removePolarGraphicalItem:cse}=cL.actions,fse=cL.reducer;function hse(t){var e=Ht(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(sse(t)):n.current!==t&&e(ose({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(lse(n.current)),n.current=null)},[e]),null}function dse(t){var e=Ht();return A.useLayoutEffect(()=>(e(use(t)),()=>{e(cse(t))}),[e,t]),null}var mse=["onMouseEnter","onClick","onMouseLeave"],pse=["id"],gse=["id"];function CA(t,e){if(t==null)return{};var n,r,i=yse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return(e=bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=_se(t,"string");return typeof e=="symbol"?e:e+""}function _se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Co.apply(null,arguments)}function wse(t){var e=A.useMemo(()=>TA(t.children,ff),[t.children]),n=Pe(r=>Rae(r,t.id,e));return n==null?null:A.createElement(ese,{legendPayload:n})}function Ese(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:c,hide:f,tooltipType:d}=t;return{dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:Iv(c,e),hide:f,type:d,color:l,unit:""}}}var xse=(t,e)=>t>e?"start":t<e?"end":"middle",Tse=(t,e,n)=>er(typeof e=="function"?e(t):e,n,n*.8),Ase=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,c=f5(s,l),f=i+er(t.cx,s,s/2),d=r+er(t.cy,l,l/2),m=er(t.innerRadius,c,0),p=Tse(n,t.outerRadius,c),v=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:d,innerRadius:m,outerRadius:p,maxRadius:v}},Sse=(t,e)=>{var n=Pn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Ise(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Cse=(t,e)=>{if(A.isValidElement(t))return A.cloneElement(t,e);if(typeof t=="function")return t(e);var n=xt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return A.createElement(C5,Co({},e,{type:"linear",className:n}))},Ose=(t,e,n)=>{if(A.isValidElement(t))return A.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),A.isValidElement(r)))return r;var i=xt("recharts-pie-label-text",Ise(t));return A.createElement(Jv,Co({},e,{alignmentBaseline:"middle",className:i}),r)};function Rse(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var c=ki(n),f=ud(i),d=ud(s),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,_)=>{var x=(v.startAngle+v.endAngle)/2,E=fn(v.cx,v.cy,v.outerRadius+m,x),T=Dt(Dt(Dt(Dt({},c),v),{},{stroke:"none"},f),{},{index:_,textAnchor:xse(E.x,v.cx)},E),O=Dt(Dt(Dt(Dt({},c),v),{},{fill:"none",stroke:v.fill},d),{},{index:_,points:[fn(v.cx,v.cy,v.outerRadius,x),E],key:"line"});return A.createElement(Er,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(_)},s&&Cse(s,O),Ose(i,T,zt(v,l)))});return A.createElement(Er,{className:"recharts-pie-labels"},p)}function Pse(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?A.createElement(eL,{label:i}):A.createElement(Rse,{sectors:e,props:n,showLabels:r})}function Nse(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,s=Pe(tu),{onMouseEnter:l,onClick:c,onMouseLeave:f}=i,d=CA(i,mse),m=AA(l,i.dataKey),p=SA(f),v=IA(c,i.dataKey);return e==null||e.length===0?null:A.createElement(A.Fragment,null,e.map((_,x)=>{if(_?.startAngle===0&&_?.endAngle===0&&e.length!==1)return null;var E=n&&String(x)===s,T=s?r:null,O=E?n:T,M=Dt(Dt({},_),{},{stroke:_.stroke,tabIndex:-1,[g5]:x,[y5]:i.dataKey});return A.createElement(Er,Co({key:"sector-".concat(_?.startAngle,"-").concat(_?.endAngle,"-").concat(_.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},_v(d,_,x),{onMouseEnter:m(_,x),onMouseLeave:p(_,x),onClick:v(_,x)}),A.createElement(sL,Co({option:O,isActive:E,shapeType:"sector"},M)))}))}function Dse(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:c,endAngle:f,dataKey:d,nameKey:m,tooltipType:p}=n,v=Math.abs(n.minAngle),_=Sse(c,f),x=Math.abs(_),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,T=r.filter(q=>zt(q,d,0)!==0).length,O=(x>=360?T:T-1)*E,M=x-T*v-O,P=r.reduce((q,R)=>{var N=zt(R,d,0);return q+(Re(N)?N:0)},0),$;if(P>0){var B;$=r.map((q,R)=>{var N=zt(q,d,0),j=zt(q,m,R),z=Ase(n,s,q),V=(Re(N)?N:0)/P,U,k=Dt(Dt({},q),i&&i[R]&&i[R].props);R?U=B.endAngle+Pn(_)*E*(N!==0?1:0):U=c;var ce=U+Pn(_)*((N!==0?v:0)+V*M),we=(U+ce)/2,Q=(z.innerRadius+z.outerRadius)/2,W=[{name:j,value:N,payload:k,dataKey:d,type:p}],fe=fn(z.cx,z.cy,Q,we);return B=Dt(Dt(Dt(Dt({},n.presentationProps),{},{percent:V,cornerRadius:l,name:j,tooltipPayload:W,midAngle:we,middleRadius:Q,tooltipPosition:fe},k),z),{},{value:N,startAngle:U,endAngle:ce,payload:k,paddingAngle:Pn(_)*E}),B})}return $}function Mse(t){var{showLabels:e,sectors:n,children:r}=t,i=A.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return A.createElement(mae,{value:e?i:void 0},r)}function kse(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:c,activeShape:f,inactiveShape:d,onAnimationStart:m,onAnimationEnd:p}=e,v=kv(e,"recharts-pie-"),_=n.current,[x,E]=A.useState(!1),T=A.useCallback(()=>{typeof p=="function"&&p(),E(!1)},[p]),O=A.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return A.createElement(Mse,{showLabels:!x,sectors:r},A.createElement(Mv,{animationId:v,begin:s,duration:l,isActive:i,easing:c,onAnimationStart:O,onAnimationEnd:T,key:v},M=>{var P=[],$=r&&r[0],B=$?.startAngle;return r?.forEach((q,R)=>{var N=_&&_[R],j=R>0?Ql(q,"paddingAngle",0):0;if(N){var z=Fn(N.endAngle-N.startAngle,q.endAngle-q.startAngle,M),V=Dt(Dt({},q),{},{startAngle:B+j,endAngle:B+z+j});P.push(V),B=V.endAngle}else{var{endAngle:U,startAngle:k}=q,ce=Fn(0,U-k,M),we=Dt(Dt({},q),{},{startAngle:B+j,endAngle:B+ce+j});P.push(we),B=we.endAngle}}),n.current=P,A.createElement(Er,null,A.createElement(Nse,{sectors:P,activeShape:f,inactiveShape:d,allOtherPieProps:e}))}),A.createElement(Pse,{showLabels:!x,sectors:r,props:e}),e.children)}var jse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!lu.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Vse(t){var{id:e}=t,n=CA(t,pse),{hide:r,className:i,rootTabIndex:s}=t,l=A.useMemo(()=>TA(t.children,ff),[t.children]),c=Pe(m=>Pae(m,e,l)),f=A.useRef(null),d=xt("recharts-pie",i);return r||c==null?(f.current=null,A.createElement(Er,{tabIndex:s,className:d})):A.createElement(A.Fragment,null,A.createElement(oL,{fn:Ese,args:Dt(Dt({},t),{},{sectors:c})}),A.createElement(Er,{tabIndex:s,className:d},A.createElement(kse,{props:Dt(Dt({},n),{},{sectors:c}),previousSectorsRef:f})))}function fL(t){var e=cr(t,jse),{id:n}=e,r=CA(e,gse),i=ki(r);return A.createElement(uL,{id:n,type:"pie"},s=>A.createElement(A.Fragment,null,A.createElement(dse,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),A.createElement(wse,Co({},r,{id:s})),A.createElement(Vse,Co({},r,{id:s}))))}fL.displayName="Pie";function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lse(t,e,n){return(e=zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Use={xAxis:{},yAxis:{},zAxis:{}},hL=qr({name:"cartesianAxis",initialState:Use,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:ar()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:ar()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:ar()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:ar()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:ar()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:ar()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=QD(QD({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:$se,removeXAxis:qse,addYAxis:Fse,removeYAxis:Hse,addZAxis:lfe,removeZAxis:ufe,updateYAxisWidth:Kse}=hL.actions,Gse=hL.reducer,Yse=ne([En],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Wse=ne([Yse,fs,hs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),dL=()=>Pe(Wse),Qse="Invariant failed";function Xse(t,e){throw new Error(Qse)}var Zse=["x","y"];function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return(e=eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eoe(t){var e=toe(t,"string");return typeof e=="symbol"?e:e+""}function toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function noe(t,e){if(t==null)return{};var n,r,i=roe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function roe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ioe(t,e){var{x:n,y:r}=t,i=noe(t,Zse),s="".concat(n),l=parseInt(s,10),c="".concat(r),f=parseInt(c,10),d="".concat(e.height||i.height),m=parseInt(d,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Ih(Ih(Ih(Ih(Ih({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:m,width:v,name:e.name,radius:e.radius})}function OA(t){return A.createElement(sL,vE({shapeType:"rectangle",propTransformer:ioe,activeClassName:"recharts-active-bar"},t))}var aoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Re(e))return e;var s=Re(r)||Nn(r);return s?e(r,i):(s||Xse(),n)}},soe={},mL=qr({name:"errorBars",initialState:soe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:cfe,replaceErrorBar:ffe,removeErrorBar:hfe}=mL.actions,ooe=mL.reducer,loe=["children"];function uoe(t,e){if(t==null)return{};var n,r,i=coe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function coe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var foe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hoe=A.createContext(foe);function doe(t){var{children:e}=t,n=uoe(t,loe);return A.createElement(hoe.Provider,{value:n},e)}function pL(t,e){var n,r,i=Pe(d=>ms(d,t)),s=Pe(d=>ps(d,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Dr.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Mr.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function moe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=dL(),{needClipX:s,needClipY:l,needClip:c}=pL(e,n);if(!c)return null;var{x:f,y:d,width:m,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:s?f:f-m/2,y:l?d:d-p/2,width:s?m:m*2,height:l?p:p*2}))}var poe=["onMouseEnter","onMouseLeave","onClick"],goe=["value","background","tooltipPosition"],yoe=["id"],voe=["onMouseEnter","onClick","onMouseLeave"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oo.apply(null,arguments)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return(e=_oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _oe(t){var e=woe(t,"string");return typeof e=="symbol"?e:e+""}function woe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ny(t,e){if(t==null)return{};var n,r,i=Eoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xoe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Iv(n,e),payload:t}]};function Toe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Iv(s,e),hide:l,type:t.tooltipType,color:t.fill,unit:c}}}function Aoe(t){var e=Pe(tu),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:f}=s,d=Ny(s,poe),m=AA(l,r),p=SA(c),v=IA(f,r);if(!i||n==null)return null;var _=ud(i);return A.createElement(A.Fragment,null,n.map((x,E)=>{var{value:T,background:O,tooltipPosition:M}=x,P=Ny(x,goe);if(!O)return null;var $=m(x,E),B=p(x,E),q=v(x,E),R=sr(sr(sr(sr(sr({option:i,isActive:String(E)===e},P),{},{fill:"#eee"},O),_),_v(d,x,E)),{},{onMouseEnter:$,onMouseLeave:B,onClick:q,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return A.createElement(OA,Oo({key:"background-bar-".concat(E)},R))}))}function Soe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,height:s.height};return sr(sr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return A.createElement(dae,{value:e?i:void 0},n)}function Ioe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=Pe(tu),f=Pe(DV),d=n&&String(s)===c&&(f==null||l===f),m=d?n:e;return A.createElement(OA,Oo({},r,{name:String(r.name)},i,{isActive:d,option:m,index:s,dataKey:l}))}function Coe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return A.createElement(OA,Oo({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Ooe(t){var{data:e,props:n}=t,r=ki(n),{id:i}=r,s=Ny(r,yoe),{shape:l,dataKey:c,activeBar:f}=n,{onMouseEnter:d,onClick:m,onMouseLeave:p}=n,v=Ny(n,voe),_=AA(d,c),x=SA(p),E=IA(m,c);return e?A.createElement(A.Fragment,null,e.map((T,O)=>A.createElement(Er,Oo({key:"rectangle-".concat(T?.x,"-").concat(T?.y,"-").concat(T?.value,"-").concat(O),className:"recharts-bar-rectangle"},_v(v,T,O),{onMouseEnter:_(T,O),onMouseLeave:x(T,O),onClick:E(T,O)}),f?A.createElement(Ioe,{shape:l,activeBar:f,baseProps:s,entry:T,index:O,dataKey:c}):A.createElement(Coe,{shape:l,baseProps:s,entry:T,index:O,dataKey:c})))):null}function Roe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:f,onAnimationEnd:d,onAnimationStart:m}=e,p=n.current,v=kv(e,"recharts-bar-"),[_,x]=A.useState(!1),E=!_,T=A.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),O=A.useCallback(()=>{typeof m=="function"&&m(),x(!0)},[m]);return A.createElement(Soe,{showLabels:E,rects:r},A.createElement(Mv,{animationId:v,begin:l,duration:c,isActive:s,easing:f,onAnimationEnd:T,onAnimationStart:O,key:v},M=>{var P=M===1?r:r?.map(($,B)=>{var q=p&&p[B];if(q)return sr(sr({},$),{},{x:Fn(q.x,$.x,M),y:Fn(q.y,$.y,M),width:Fn(q.width,$.width,M),height:Fn(q.height,$.height,M)});if(i==="horizontal"){var R=Fn(0,$.height,M);return sr(sr({},$),{},{y:$.y+$.height-R,height:R})}var N=Fn(0,$.width,M);return sr(sr({},$),{},{width:N})});return M>0&&(n.current=P??null),P==null?null:A.createElement(Er,null,A.createElement(Ooe,{props:e,data:P}))}),A.createElement(eL,{label:e.label}),e.children)}function Poe(t){var e=A.useRef(null);return A.createElement(Roe,{previousRectanglesRef:e,props:t})}var gL=0,Noe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:zt(t,e)}};class Doe extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:f,id:d}=this.props;if(e||n==null)return null;var m=xt("recharts-bar",i),p=d;return A.createElement(Er,{className:m,id:d},c&&A.createElement("defs",null,A.createElement(moe,{clipPathId:p,xAxisId:s,yAxisId:l})),A.createElement(Er,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},A.createElement(Aoe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),A.createElement(Poe,this.props)))}}var Moe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!lu.isSsr,legendType:"rect",minPointSize:gL,xAxisId:0,yAxisId:0};function koe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:d,isAnimationActive:m}=t,{needClip:p}=pL(e,n),v=cT(),_=Fr(),x=TA(t.children,ff),E=Pe(M=>ule(M,e,n,_,t.id,x));if(v!=="vertical"&&v!=="horizontal")return null;var T,O=E?.[0];return O==null||O.height==null||O.width==null?T=0:T=v==="vertical"?O.height/2:O.width/2,A.createElement(doe,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Noe,errorBarOffset:T},A.createElement(Doe,Oo({},t,{layout:v,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:d,isAnimationActive:m})))}function joe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:f,yAxisTicks:d,stackedData:m,displayedData:p,offset:v,cells:_,parentViewBox:x}=t,E=e==="horizontal"?c:l,T=m?E.scale.domain():null,O=GQ({numericAxis:E});return p.map((M,P)=>{var $,B,q,R,N,j;m?$=UQ(m[P],T):($=zt(M,n),Array.isArray($)||($=[O,$]));var z=aoe(r,gL)($[1],P);if(e==="horizontal"){var V,[U,k]=[c.scale($[0]),c.scale($[1])];B=kP({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:M,index:P}),q=(V=k??U)!==null&&V!==void 0?V:void 0,R=i.size;var ce=U-k;if(N=mi(ce)?0:ce,j={x:B,y:v.top,width:R,height:v.height},Math.abs(z)>0&&Math.abs(N)<Math.abs(z)){var we=Pn(N||z)*(Math.abs(z)-Math.abs(N));q-=we,N+=we}}else{var[Q,W]=[l.scale($[0]),l.scale($[1])];if(B=Q,q=kP({axis:c,ticks:d,bandSize:s,offset:i.offset,entry:M,index:P}),R=W-Q,N=i.size,j={x:v.left,y:q,width:v.width,height:N},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var fe=Pn(R||z)*(Math.abs(z)-Math.abs(R));R+=fe}}if(B==null||q==null||R==null||N==null)return null;var me=sr(sr({},M),{},{x:B,y:q,width:R,height:N,value:m?$:$[1],payload:M,background:j,tooltipPosition:{x:B+R/2,y:q+N/2},parentViewBox:x},_&&_[P]&&_[P].props);return me}).filter(Boolean)}function Voe(t){var e=cr(t,Moe),n=Fr();return A.createElement(uL,{id:e.id,type:"bar"},r=>A.createElement(A.Fragment,null,A.createElement(Jae,{legendPayload:xoe(e)}),A.createElement(oL,{fn:Toe,args:e}),A.createElement(hse,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:KQ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),A.createElement(koe,Oo({},e,{id:r}))))}var bE=A.memo(Voe);bE.displayName="Bar";function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Loe(t,e,n){return(e=zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zoe(t){var e=Boe(t,"string");return typeof e=="symbol"?e:e+""}function Boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uoe=(t,e)=>e,$oe=(t,e,n)=>n,qoe=(t,e,n,r)=>r,Foe=(t,e,n,r,i)=>i,rm=ne([GT,Foe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Hoe=ne([rm],t=>t?.maxBarSize),Koe=(t,e,n,r,i,s)=>s,eM=(t,e,n)=>{var r=n??t;if(!Nn(r))return er(r,e,0)},Goe=ne([lt,GT,Uoe,$oe,qoe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Yoe=(t,e,n,r)=>{var i=lt(t);return i==="horizontal"?fE(t,"yAxis",n,r):fE(t,"xAxis",e,r)},Woe=(t,e,n)=>{var r=lt(t);return r==="horizontal"?rD(t,"xAxis",e):rD(t,"yAxis",n)},Qoe=(t,e,n)=>{var r={},i=t.filter(Hv),s=t.filter(d=>d.stackId==null),l=i.reduce((d,m)=>(d[m.stackId]||(d[m.stackId]=[]),d[m.stackId].push(m),d),r),c=Object.entries(l).map(d=>{var[m,p]=d,v=p.map(x=>x.dataKey),_=eM(e,n,p[0].barSize);return{stackId:m,dataKeys:v,barSize:_}}),f=s.map(d=>{var m=[d.dataKey].filter(v=>v!=null),p=eM(e,n,d.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...f]},Xoe=ne([Goe,Dte,Woe],Qoe),Zoe=(t,e,n,r,i)=>{var s,l,c=rm(t,e,n,r,i);if(c!=null){var f=lt(t),d=D6(t),{maxBarSize:m}=c,p=Nn(m)?d:m,v,_;return f==="horizontal"?(v=Hc(t,"xAxis",e,r),_=Fc(t,"xAxis",e,r)):(v=Hc(t,"yAxis",n,r),_=Fc(t,"yAxis",n,r)),(s=(l=oT(v,_,!0))!==null&&l!==void 0?l:p)!==null&&s!==void 0?s:0}},yL=(t,e,n,r)=>{var i=lt(t),s,l;return i==="horizontal"?(s=Hc(t,"xAxis",e,r),l=Fc(t,"xAxis",e,r)):(s=Hc(t,"yAxis",n,r),l=Fc(t,"yAxis",n,r)),oT(s,l)};function Joe(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=er(t,n,0,!0),c,f=[];if(tr(r[0].barSize)){var d=!1,m=n/s,p=r.reduce((O,M)=>O+(M.barSize||0),0);p+=(s-1)*l,p>=n&&(p-=(s-1)*l,l=0),p>=n&&m>0&&(d=!0,m*=.9,p=s*m);var v=(n-p)/2>>0,_={offset:v-l,size:0};c=r.reduce((O,M)=>{var P,$={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:_.offset+_.size+l,size:d?m:(P=M.barSize)!==null&&P!==void 0?P:0}},B=[...O,$];return _=B[B.length-1].position,B},f)}else{var x=er(e,n,0,!0);n-2*x-(s-1)*l<=0&&(l=0);var E=(n-2*x-(s-1)*l)/s;E>1&&(E>>=0);var T=tr(i)?Math.min(E,i):E;c=r.reduce((O,M,P)=>[...O,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:x+(E+l)*P+(E-T)/2,size:T}}],f)}return c}}var ele=(t,e,n,r,i,s,l)=>{var c=Nn(l)?e:l,f=Joe(n,r,i!==s?i:s,t,c);return i!==s&&f!=null&&(f=f.map(d=>ig(ig({},d),{},{position:ig(ig({},d.position),{},{offset:d.position.offset-i/2})}))),f},tle=ne([Xoe,D6,Nte,M6,Zoe,yL,Hoe],ele),nle=(t,e,n,r)=>Hc(t,"xAxis",e,r),rle=(t,e,n,r)=>Hc(t,"yAxis",n,r),ile=(t,e,n,r)=>Fc(t,"xAxis",e,r),ale=(t,e,n,r)=>Fc(t,"yAxis",n,r),sle=ne([tle,rm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ole=(t,e)=>{var n=FT(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}},lle=ne([Yoe,rm],ole),ule=ne([En,lT,nle,rle,ile,ale,sle,lt,kT,yL,lle,rm,Koe],(t,e,n,r,i,s,l,c,f,d,m,p,v)=>{var{chartData:_,dataStartIndex:x,dataEndIndex:E}=f;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||d==null)){var{data:T}=p,O;if(T!=null&&T.length>0?O=T:O=_?.slice(x,E+1),O!=null)return joe({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:m,displayedData:O,offset:t,cells:v})}}),vL=t=>{var{chartData:e}=t,n=Ht(),r=Fr();return A.useEffect(()=>r?()=>{}:(n(dD(e)),()=>{n(dD(void 0))}),[e,n,r]),null},tM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bL=qr({name:"brush",initialState:tM,reducers:{setBrushSettings(t,e){return e.payload==null?tM:e.payload}}}),{setBrushSettings:dfe}=bL.actions,cle=bL.reducer;function fle(t,e,n){return(e=hle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t){var e=dle(t,"string");return typeof e=="symbol"?e:e+""}function dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RA{static create(e){return new RA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}fle(RA,"EPS",1e-4);function mle(t){return(t%180+180)%180}var ple=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=mle(i),l=s*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},gle={dots:[],areas:[],lines:[]},_L=qr({name:"referenceElements",initialState:gle,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Wa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Wa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Wa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:mfe,removeDot:pfe,addArea:gfe,removeArea:yfe,addLine:vfe,removeLine:bfe}=_L.actions,yle=_L.reducer,vle=A.createContext(void 0),ble=t=>{var{children:e}=t,[n]=A.useState("".concat(cd("recharts"),"-clip")),r=dL();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return A.createElement(vle.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function Kc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function wL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function _le(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ple(r,n)}function wle(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function Dy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Ele(t,e){return wL(t,e+1)}function xle(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,f=0,d=1,m=l,p=function(){var x=r?.[f];if(x===void 0)return{v:wL(r,d)};var E=f,T,O=()=>(T===void 0&&(T=n(x,E)),T),M=x.coordinate,P=f===0||Dy(t,M,O,m,c);P||(f=0,m=l,d+=1),P&&(m=M+t*(O()/2+i),f+=d)},v;d<=s.length;)if(v=p(),v)return v.v;return[]}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){Tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tle(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Sle(t,"string");return typeof e=="symbol"?e:e+""}function Sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ile(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:f}=e,d=function(v){var _=s[v],x,E=()=>(x===void 0&&(x=n(_,v)),x);if(v===l-1){var T=t*(_.coordinate+t*E()/2-f);s[v]=_=Yn(Yn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else s[v]=_=Yn(Yn({},_),{},{tickCoord:_.coordinate});var O=Dy(t,_.tickCoord,E,c,f);O&&(f=_.tickCoord-t*(E()/2+i),s[v]=Yn(Yn({},_),{},{isShow:!0}))},m=l-1;m>=0;m--)d(m);return s}function Cle(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:f,end:d}=e;if(s){var m=r[c-1],p=n(m,c-1),v=t*(m.coordinate+t*p/2-d);l[c-1]=m=Yn(Yn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var _=Dy(t,m.tickCoord,()=>p,f,d);_&&(d=m.tickCoord-t*(p/2+i),l[c-1]=Yn(Yn({},m),{},{isShow:!0}))}for(var x=s?c-1:c,E=function(M){var P=l[M],$,B=()=>($===void 0&&($=n(P,M)),$);if(M===0){var q=t*(P.coordinate-t*B()/2-f);l[M]=P=Yn(Yn({},P),{},{tickCoord:q<0?P.coordinate-q*t:P.coordinate})}else l[M]=P=Yn(Yn({},P),{},{tickCoord:P.coordinate});var R=Dy(t,P.tickCoord,B,f,d);R&&(f=P.tickCoord+t*(B()/2+i),l[M]=Yn(Yn({},P),{},{isShow:!0}))},T=0;T<x;T++)E(T);return l}function PA(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:f,tickFormatter:d,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Re(f)||lu.isSsr){var v;return(v=Ele(i,Re(f)?f:0))!==null&&v!==void 0?v:[]}var _=[],x=c==="top"||c==="bottom"?"width":"height",E=m&&x==="width"?Gh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(P,$)=>{var B=typeof d=="function"?d(P.value,$):P.value;return x==="width"?_le(Gh(B,{fontSize:e,letterSpacing:n}),E,p):Gh(B,{fontSize:e,letterSpacing:n})[x]},O=i.length>=2?Pn(i[1].coordinate-i[0].coordinate):1,M=wle(s,O,x);return f==="equidistantPreserveStart"?xle(O,M,T,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=Cle(O,M,T,i,l,f==="preserveStartEnd"):_=Ile(O,M,T,i,l),_.filter(P=>P.isShow))}var Ole=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,f=i+s,d=l+f+c+(n?r:0);return Math.round(d)}return 0},Rle=["axisLine","width","height","className","hide","ticks"],Ple=["viewBox"],Nle=["viewBox"];function _E(t,e){if(t==null)return{};var n,r,i=Dle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(null,arguments)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return(e=kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t){var e=jle(t,"string");return typeof e=="symbol"?e:e+""}function jle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Vle(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:f}=t;if(!c)return null;var d=vn(vn(vn({},f),ki(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);d=vn(vn({},d),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);d=vn(vn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",nu({},d,{className:xt("recharts-cartesian-axis-line",Ql(c,"className"))}))}function Lle(t,e,n,r,i,s,l,c,f){var d,m,p,v,_,x,E=c?-1:1,T=t.tickSize||l,O=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=m=t.coordinate,v=n+ +!c*i,p=v-E*T,x=p-E*f,_=O;break;case"left":p=v=t.coordinate,m=e+ +!c*r,d=m-E*T,_=d-E*f,x=O;break;case"right":p=v=t.coordinate,m=e+ +c*r,d=m+E*T,_=d+E*f,x=O;break;default:d=m=t.coordinate,v=n+ +c*i,p=v+E*T,x=p+E*f,_=O;break}return{line:{x1:d,y1:p,x2:m,y2:v},tick:{x:_,y:x}}}function zle(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Ble(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ule(t){var{option:e,tickProps:n,value:r}=t,i,s=xt(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,vn(vn({},n),{},{className:s}));else if(typeof e=="function")i=e(vn(vn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=xt(l,e?.className)),i=A.createElement(Jv,nu({},n,{className:l}),r)}return i}function $le(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:s,unit:l,padding:c,tickTextProps:f,orientation:d,mirror:m,x:p,y:v,width:_,height:x,tickSize:E,tickMargin:T,fontSize:O,letterSpacing:M,getTicksConfig:P,events:$}=t,B=PA(vn(vn({},P),{},{ticks:e}),O,M),q=zle(d,m),R=Ble(d,m),N=ki(P),j=ud(n),z={};typeof r=="object"&&(z=r);var V=vn(vn({},N),{},{fill:"none"},z),U=B.map((k,ce)=>{var{line:we,tick:Q}=Lle(k,p,v,_,x,d,E,m,T),W=vn(vn(vn(vn({textAnchor:q,verticalAnchor:R},N),{},{stroke:"none",fill:i},j),Q),{},{index:ce,payload:k,visibleTicksCount:B.length,tickFormatter:s,padding:c},f);return A.createElement(Er,nu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},_v($,k,ce)),r&&A.createElement("line",nu({},V,we,{className:xt("recharts-cartesian-axis-tick-line",Ql(r,"className"))})),n&&A.createElement(Ule,{option:n,tickProps:W,value:"".concat(typeof s=="function"?s(k.value,ce):k.value).concat(l||"")}))});return U.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var qle=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c}=t,f=_E(t,Rle),[d,m]=A.useState(""),[p,v]=A.useState(""),_=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return Ole({ticks:_.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=A.useCallback(E=>{if(E){var T=E.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=T;var O=T[0];if(O){var M=window.getComputedStyle(O),P=M.fontSize,$=M.letterSpacing;(P!==d||$!==p)&&(m(P),v($))}}},[d,p]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Er,{className:xt("recharts-cartesian-axis",s),ref:x},A.createElement(Vle,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ki(t)}),A.createElement($le,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:d,letterSpacing:p,getTicksConfig:t,events:f}),A.createElement(Kie,{x:t.x,y:t.y,width:t.width,height:t.height},A.createElement(nae,{label:t.label,labelRef:t.labelRef}),t.children))}),Fle=A.memo(qle,(t,e)=>{var{viewBox:n}=t,r=_E(t,Ple),{viewBox:i}=e,s=_E(e,Nle);return Kc(n,i)&&Kc(r,s)}),DA=A.forwardRef((t,e)=>{var n=cr(t,NA);return A.createElement(Fle,nu({},n,{ref:e}))});DA.displayName="CartesianAxis";var Hle=["x1","y1","x2","y2","key"],Kle=["offset"],Gle=["xAxisId","yAxisId"],Yle=["xAxisId","yAxisId"];function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e,n){return(e=Qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qle(t){var e=Xle(t,"string");return typeof e=="symbol"?e:e+""}function Xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Il.apply(null,arguments)}function My(t,e){if(t==null)return{};var n,r,i=Zle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jle=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:c}=t;return A.createElement("rect",{x:r,y:i,ry:c,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EL(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:l,key:c}=e,f=My(e,Hle),d=ki(f),{offset:m}=d,p=My(d,Kle);n=A.createElement("line",Il({},p,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:c}))}return n}function eue(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=My(t,Gle),f=i.map((d,m)=>{var p=Xn(Xn({},c),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(m),index:m});return EL(r,p)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function tue(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=My(t,Yle),f=i.map((d,m)=>{var p=Xn(Xn({},c),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(m),index:m});return EL(r,p)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function nue(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:c,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==d[0]&&d.unshift(0);var m=d.map((p,v)=>{var _=!d[v+1],x=_?i+l-p:d[v+1]-p;if(x<=0)return null;var E=v%e.length;return A.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:x,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function rue(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:c,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==d[0]&&d.unshift(0);var m=d.map((p,v)=>{var _=!d[v+1],x=_?i+l-p:d[v+1]-p;if(x<=0)return null;var E=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:x,height:c,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var iue=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return d5(PA(Xn(Xn(Xn({},NA),n),{},{ticks:m5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},aue=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return d5(PA(Xn(Xn(Xn({},NA),n),{},{ticks:m5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},sue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function wE(t){var e=E5(),n=x5(),r=w5(),i=Xn(Xn({},cr(t,sue)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:c,y:f,width:d,height:m,syncWithTicks:p,horizontalValues:v,verticalValues:_}=i,x=Fr(),E=Pe(j=>iD(j,"xAxis",s,x)),T=Pe(j=>iD(j,"yAxis",l,x));if(!Re(d)||d<=0||!Re(m)||m<=0||!Re(c)||c!==+c||!Re(f)||f!==+f)return null;var O=i.verticalCoordinatesGenerator||iue,M=i.horizontalCoordinatesGenerator||aue,{horizontalPoints:P,verticalPoints:$}=i;if((!P||!P.length)&&typeof M=="function"){var B=v&&v.length,q=M({yAxis:T?Xn(Xn({},T),{},{ticks:B?v:T.ticks}):void 0,width:e,height:n,offset:r},B?!0:p);hy(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(P=q)}if((!$||!$.length)&&typeof O=="function"){var R=_&&_.length,N=O({xAxis:E?Xn(Xn({},E),{},{ticks:R?_:E.ticks}):void 0,width:e,height:n,offset:r},R?!0:p);hy(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&($=N)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Jle,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(nue,Il({},i,{horizontalPoints:P})),A.createElement(rue,Il({},i,{verticalPoints:$})),A.createElement(eue,Il({},i,{offset:r,horizontalPoints:P,xAxis:E,yAxis:T})),A.createElement(tue,Il({},i,{offset:r,verticalPoints:$,xAxis:E,yAxis:T})))}wE.displayName="CartesianGrid";var oue=["dangerouslySetInnerHTML","ticks"],lue=["id"],uue=["domain"],cue=["domain"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function ky(t,e){if(t==null)return{};var n,r,i=fue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hue(t){var e=Ht();return A.useLayoutEffect(()=>(e($se(t)),()=>{e(qse(t))}),[t,e]),null}var due=t=>{var{xAxisId:e,className:n}=t,r=Pe(lT),i=Fr(),s="xAxis",l=Pe(T=>lf(T,s,e,i)),c=Pe(T=>hV(T,s,e,i)),f=Pe(T=>lV(T,e)),d=Pe(T=>Ine(T,e)),m=Pe(T=>q6(T,e));if(f==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,_=ky(t,oue),{id:x}=m,E=ky(m,lue);return A.createElement(DA,EE({},_,E,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:xt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c}))},mue={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:Dr.allowDecimals,allowDuplicatedCategory:Dr.allowDuplicatedCategory,height:Dr.height,hide:!1,mirror:Dr.mirror,orientation:Dr.orientation,padding:Dr.padding,reversed:Dr.reversed,scale:Dr.scale,tickCount:Dr.tickCount,type:Dr.type,xAxisId:0},pue=t=>{var e,n,r,i,s,l=cr(t,mue);return A.createElement(A.Fragment,null,A.createElement(hue,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),A.createElement(due,l))},gue=(t,e)=>{var{domain:n}=t,r=ky(t,uue),{domain:i}=e,s=ky(e,cue);return Kc(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Kc({domain:n},{domain:i}):!1},xE=A.memo(pue,gue);xE.displayName="XAxis";var yue=["dangerouslySetInnerHTML","ticks"],vue=["id"],bue=["domain"],_ue=["domain"];function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}function jy(t,e){if(t==null)return{};var n,r,i=wue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Eue(t){var e=Ht();return A.useLayoutEffect(()=>(e(Fse(t)),()=>{e(Hse(t))}),[t,e]),null}var xue=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=A.useRef(null),l=A.useRef(null),c=Pe(lT),f=Fr(),d=Ht(),m="yAxis",p=Pe(B=>lf(B,m,e,f)),v=Pe(B=>uV(B,e)),_=Pe(B=>One(B,e)),x=Pe(B=>hV(B,m,e,f)),E=Pe(B=>F6(B,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!v||wA(i)||A.isValidElement(i)||E==null)){var B=s.current;if(B){var q=B.getCalculatedWidth();Math.round(v.width)!==Math.round(q)&&d(Kse({id:e,width:q}))}}},[x,v,d,i,e,r,E]),v==null||_==null||E==null)return null;var{dangerouslySetInnerHTML:T,ticks:O}=t,M=jy(t,yue),{id:P}=E,$=jy(E,vue);return A.createElement(DA,TE({},M,$,{ref:s,labelRef:l,scale:p,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:xt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:x}))},Tue={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,hide:!1,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tickCount:Mr.tickCount,type:Mr.type,width:Mr.width,yAxisId:0},Aue=t=>{var e,n,r,i,s,l=cr(t,Tue);return A.createElement(A.Fragment,null,A.createElement(Eue,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),A.createElement(xue,l))},Sue=(t,e)=>{var{domain:n}=t,r=jy(t,bue),{domain:i}=e,s=jy(e,_ue);return Kc(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Kc({domain:n},{domain:i}):!1},AE=A.memo(Aue,Sue);AE.displayName="YAxis";var Y1={exports:{}},W1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aM;function Iue(){if(aM)return W1;aM=1;var t=Gc();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return W1.useSyncExternalStoreWithSelector=function(f,d,m,p,v){var _=i(null);if(_.current===null){var x={hasValue:!1,value:null};_.current=x}else x=_.current;_=l(function(){function T(B){if(!O){if(O=!0,M=B,B=p(B),v!==void 0&&x.hasValue){var q=x.value;if(v(q,B))return P=q}return P=B}if(q=P,n(M,B))return q;var R=p(B);return v!==void 0&&v(q,R)?(M=B,q):(M=B,P=R)}var O=!1,M,P,$=m===void 0?null:m;return[function(){return T(d())},$===null?void 0:function(){return T($())}]},[d,m,p,v]);var E=r(f,_[0],_[1]);return s(function(){x.hasValue=!0,x.value=E},[E]),c(E),E},W1}var sM;function Cue(){return sM||(sM=1,Y1.exports=Iue()),Y1.exports}Cue();function Oue(t){t()}function Rue(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Oue(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oM={notify(){},get:()=>[]};function Pue(t,e){let n,r=oM,i=0,s=!1;function l(E){m();const T=r.subscribe(E);let O=!1;return()=>{O||(O=!0,T(),p())}}function c(){r.notify()}function f(){x.onStateChange&&x.onStateChange()}function d(){return s}function m(){i++,n||(n=t.subscribe(f),r=Rue())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oM)}function v(){s||(s=!0,m())}function _(){s&&(s=!1,p())}const x={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return x}var Nue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Due=Nue(),Mue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kue=Mue(),jue=()=>Due||kue?A.useLayoutEffect:A.useEffect,Vue=jue(),Lue=Symbol.for("react-redux-context"),zue=typeof globalThis<"u"?globalThis:{};function Bue(){if(!A.createContext)return{};const t=zue[Lue]??=new Map;let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var Uue=Bue();function $ue(t){const{children:e,context:n,serverState:r,store:i}=t,s=A.useMemo(()=>{const f=Pue(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);Vue(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const c=n||Uue;return A.createElement(c.Provider,{value:s},e)}var que=$ue,Fue=(t,e)=>e,MA=ne([Fue,lt,B6,Tn,OV,gs,Dre,En],Lre),kA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},xL=pi("mouseClick"),TL=Fd();TL.startListening({actionCreator:xL,effect:(t,e)=>{var n=t.payload,r=MA(e.getState(),kA(n));r?.activeIndex!=null&&e.dispatch($ne({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var SE=pi("mouseMove"),AL=Fd();AL.startListening({actionCreator:SE,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=hA(r,r.tooltip.settings.shared),s=MA(r,kA(n));i==="axis"&&(s?.activeIndex!=null?e.dispatch(_V({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(bV()))}});var lM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},SL=qr({name:"rootProps",initialState:lM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:lM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Hue=SL.reducer,{updateOptions:Kue}=SL.actions,IL=qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Gue}=IL.actions,Yue=IL.reducer,CL=pi("keyDown"),OL=pi("focus"),jA=Fd();jA.startListening({actionCreator:CL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(dA(i,cf(n))),c=gs(n);if(s==="Enter"){var f=Cy(n,"axis","hover",String(i.index));e.dispatch(dE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=Dne(n),m=d==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=l+p*m;if(!(c==null||v>=c.length||v<0)){var _=Cy(n,"axis","hover",String(v));e.dispatch(dE({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});jA.startListening({actionCreator:OL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Cy(n,"axis","hover",String(s));e.dispatch(dE({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var si=pi("externalEvent"),RL=Fd();RL.startListening({actionCreator:si,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Tre(n),activeDataKey:DV(n),activeIndex:tu(n),activeLabel:NV(n),activeTooltipIndex:tu(n),isTooltipActive:Are(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Wue=ne([uf],t=>t.tooltipItemPayloads),Que=ne([Wue,tm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),PL=pi("touchMove"),NL=Fd();NL.startListening({actionCreator:PL,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=hA(r,r.tooltip.settings.shared);if(i==="axis"){var s=MA(r,kA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(_V({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0],f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(g5),m=(l=f.getAttribute(y5))!==null&&l!==void 0?l:void 0,p=Que(e.getState(),d,m);e.dispatch(vV({activeDataKey:m,activeIndex:d,activeCoordinate:p}))}}});var Xue=B3({brush:cle,cartesianAxis:Gse,chartData:eie,errorBars:ooe,graphicalItems:fse,layout:AQ,legend:OX,options:Wre,polarAxis:Tae,polarOptions:Yue,referenceElements:yle,rootProps:Hue,tooltip:qne}),Zue=function(e){return QW({reducer:Xue,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([TL.middleware,AL.middleware,jA.middleware,RL.middleware,NL.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Z3({type:"raf"}))},devTools:lu.devToolsEnabled})};function DL(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Fr(),s=A.useRef(null);if(i)return n;s.current==null&&(s.current=Zue(e));var l=tT;return A.createElement(que,{context:l,store:s.current},n)}function ML(t){var{layout:e,margin:n}=t,r=Ht(),i=Fr();return A.useEffect(()=>{i||(r(EQ(e)),r(wQ(n)))},[r,i,e,n]),null}function kL(t){var e=Ht();return A.useEffect(()=>{e(Kue(t))},[e,t]),null}var Jue=["children"];function ece(t,e){if(t==null)return{};var n,r,i=tce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(null,arguments)}var nce={width:"100%",height:"100%",display:"block"},rce=A.forwardRef((t,e)=>{var n=E5(),r=x5(),i=I5();if(!Bc(n)||!Bc(r))return null;var{children:s,otherAttributes:l,title:c,desc:f}=t,d,m;return typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0,A.createElement(a3,Vy({},l,{title:c,desc:f,role:m,tabIndex:d,width:n,height:r,style:nce,ref:e}),s)}),ice=t=>{var{children:e}=t,n=Pe(Pv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return A.createElement(a3,{width:r,height:i,x:l,y:s},e)},uM=A.forwardRef((t,e)=>{var{children:n}=t,r=ece(t,Jue),i=Fr();return i?A.createElement(ice,null,n):A.createElement(rce,Vy({ref:e},r),n)});function ace(){var t=Ht(),[e,n]=A.useState(null),r=Pe(eX);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;tr(s)&&s!==r&&t(TQ(s))}},[e,t,r]),n}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return(e=lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(null,arguments)}var cce=()=>(uie(),null);function Ly(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var fce=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[s,l]=A.useState({containerWidth:Ly((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Ly((r=t.style)===null||r===void 0?void 0:r.height)}),c=A.useCallback((d,m)=>{l(p=>{var v=Math.round(d),_=Math.round(m);return p.containerWidth===v&&p.containerHeight===_?p:{containerWidth:v,containerHeight:_}})},[]),f=A.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:m,height:p}=d.getBoundingClientRect();c(m,p);var v=x=>{var{width:E,height:T}=x[0].contentRect;c(E,T)},_=new ResizeObserver(v);_.observe(d),i.current=_}},[e,c]);return A.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[c]),A.createElement(A.Fragment,null,A.createElement(Dv,{width:s.containerWidth,height:s.containerHeight}),A.createElement("div",ru({ref:f},t)))}),hce=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=A.useState({containerWidth:Ly(n),containerHeight:Ly(r)}),l=A.useCallback((f,d)=>{s(m=>{var p=Math.round(f),v=Math.round(d);return m.containerWidth===p&&m.containerHeight===v?m:{containerWidth:p,containerHeight:v}})},[]),c=A.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:m}=f.getBoundingClientRect();l(d,m)}},[e,l]);return A.createElement(A.Fragment,null,A.createElement(Dv,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",ru({ref:c},t)))}),dce=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(Dv,{width:n,height:r}),A.createElement("div",ru({ref:e},t)))}),mce=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return ns(n)||ns(r)?A.createElement(hce,ru({},t,{ref:e})):A.createElement(dce,ru({},t,{ref:e}))});function pce(t){return t===!0?fce:mce}var gce=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:m,onMouseMove:p,onMouseUp:v,onTouchEnd:_,onTouchMove:x,onTouchStart:E,style:T,width:O,responsive:M,dispatchTouchEvents:P=!0}=t,$=A.useRef(null),B=Ht(),[q,R]=A.useState(null),[N,j]=A.useState(null),z=ace(),V=uT(),U=V?.width>0?V.width:O,k=V?.height>0?V.height:i,ce=A.useCallback(G=>{z(G),typeof e=="function"&&e(G),R(G),j(G),G!=null&&($.current=G)},[z,e,R,j]),we=A.useCallback(G=>{B(xL(G)),B(si({handler:s,reactEvent:G}))},[B,s]),Q=A.useCallback(G=>{B(SE(G)),B(si({handler:d,reactEvent:G}))},[B,d]),W=A.useCallback(G=>{B(bV()),B(si({handler:m,reactEvent:G}))},[B,m]),fe=A.useCallback(G=>{B(SE(G)),B(si({handler:p,reactEvent:G}))},[B,p]),me=A.useCallback(()=>{B(OL())},[B]),Se=A.useCallback(G=>{B(CL(G.key))},[B]),H=A.useCallback(G=>{B(si({handler:l,reactEvent:G}))},[B,l]),re=A.useCallback(G=>{B(si({handler:c,reactEvent:G}))},[B,c]),pe=A.useCallback(G=>{B(si({handler:f,reactEvent:G}))},[B,f]),be=A.useCallback(G=>{B(si({handler:v,reactEvent:G}))},[B,v]),xe=A.useCallback(G=>{B(si({handler:E,reactEvent:G}))},[B,E]),je=A.useCallback(G=>{P&&B(PL(G)),B(si({handler:x,reactEvent:G}))},[B,P,x]),ge=A.useCallback(G=>{B(si({handler:_,reactEvent:G}))},[B,_]),De=pce(M);return A.createElement(zV.Provider,{value:q},A.createElement(zG.Provider,{value:N},A.createElement(De,{width:U??T?.width,height:k??T?.height,className:xt("recharts-wrapper",r),style:sce({position:"relative",cursor:"default",width:U,height:k},T),onClick:we,onContextMenu:H,onDoubleClick:re,onFocus:me,onKeyDown:Se,onMouseDown:pe,onMouseEnter:Q,onMouseLeave:W,onMouseMove:fe,onMouseUp:be,onTouchEnd:ge,onTouchMove:je,onTouchStart:xe,ref:ce},A.createElement(cce,null),n)))}),yce=["width","height","responsive","children","className","style","compact","title","desc"];function vce(t,e){if(t==null)return{};var n,r,i=bce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jL=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:f,title:d,desc:m}=t,p=vce(t,yce),v=ki(p);return f?A.createElement(A.Fragment,null,A.createElement(Dv,{width:n,height:r}),A.createElement(uM,{otherAttributes:v,title:d,desc:m},s)):A.createElement(gce,{className:l,style:c,width:n,height:r,responsive:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(uM,{otherAttributes:v,title:d,desc:m,ref:e},A.createElement(ble,null,s)))});function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(null,arguments)}var _ce={top:5,right:5,bottom:5,left:5},wce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_ce,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Ece=A.forwardRef(function(e,n){var r,i=cr(e.categoricalChartProps,wce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return A.createElement(DL,{preloadedState:{options:m},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},A.createElement(vL,{chartData:d.data}),A.createElement(ML,{layout:i.layout,margin:i.margin}),A.createElement(kL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(jL,IE({},i,{ref:n})))}),xce=["axis","item"],fM=A.forwardRef((t,e)=>A.createElement(Ece,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xce,tooltipPayloadSearcher:BV,categoricalChartProps:t,ref:e}));function Tce(t){var e=Ht();return A.useEffect(()=>{e(Gue(t))},[e,t]),null}var Ace=["layout"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function Sce(t,e){if(t==null)return{};var n,r,i=Ice(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cce={top:5,right:5,bottom:5,left:5},Oce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Rce=A.forwardRef(function(e,n){var r,i=cr(e.categoricalChartProps,Oce),{layout:s}=i,l=Sce(i,Ace),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:m}=e,p={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return A.createElement(DL,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},A.createElement(vL,{chartData:i.data}),A.createElement(ML,{layout:s,margin:i.margin}),A.createElement(kL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(Tce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(jL,CE({},l,{ref:n})))}),Pce=["item"],Nce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Dce=A.forwardRef((t,e)=>{var n=cr(t,Nce);return A.createElement(Rce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Pce,tooltipPayloadSearcher:BV,categoricalChartProps:n,ref:e})});const Mce=()=>{const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},hM=({message:t})=>I.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-text-secondary py-10",children:[I.jsx(Bx,{size:32,className:"mb-2 opacity-50"}),I.jsx("p",{children:t})]}),dM=()=>I.jsx("div",{className:"flex justify-center items-center py-10",children:I.jsx(_r,{size:24,className:"animate-spin text-icon opacity-70"})}),kce=({openAddItemsToBill:t})=>{const{theme:e}=_a(),{userId:n,appId:r}=ba(),i=A.useMemo(Mce,[]),[s,l]=A.useState(!1),[c,f]=A.useState(null),[d,m]=A.useState(!1),[p,v]=A.useState(null),[_,x]=A.useState(!1),[E,T]=A.useState(null),[O,M]=A.useState("All"),[P,$]=A.useState(["All"]),B=ge=>{f(ge),l(!0)},q=()=>{l(!1),f(null)},R=ge=>{v(ge),m(!0)},N=()=>{m(!1),v(null)},j=ge=>{T(ge),x(!0)},z=()=>{x(!1),T(null)},V=async()=>{if(!E)return;const ge=E.id;z();try{await vG(ge,n,r),st.success("Bill and associated items deleted.")}catch(De){console.error("Failed to delete bill:",De),st.error(`Error deleting bill: ${De.message}`)}},{data:U,isLoading:k,error:ce}=bo(n&&r?`artifacts/${r}/users/${n}/purchases`:null,{whereClauses:[["purchaseDate",">=",i]]}),{data:we,isLoading:Q}=bo(n&&r?`artifacts/${r}/users/${n}/bills`:null,{orderByClauses:[["purchaseDate","desc"]]});A.useEffect(()=>{if(we){const ge=new Set(["All"]);we.forEach(De=>{De.purchaseDate?.toDate&&ge.add(De.purchaseDate.toDate().getFullYear())}),$([...ge].sort((De,G)=>De==="All"?-1:G==="All"?1:G-De))}},[we]);const{data:W,isLoading:fe,error:me}=bo(n&&r?`artifacts/${r}/users/${n}/bills`:null,A.useMemo(()=>{const ge={orderByClauses:[["purchaseDate","desc"]]};if(O==="All")ge.docLimit=5;else{const De=Number(O);if(!isNaN(De)){const G=Ke.fromDate(new Date(De,0,1)),Ee=Ke.fromDate(new Date(De+1,0,1));ge.whereClauses=[["purchaseDate",">=",G],["purchaseDate","<",Ee]]}}return ge},[n,r,O])),{data:Se,isLoading:H}=zx(n&&r?`artifacts/${r}/users/${n}/profile`:null,n),re=Se?.monthlyBudget,pe=A.useMemo(()=>U?U.reduce((ge,De)=>ge+(De.price||0),0):0,[U]),be=A.useMemo(()=>re==null||re<=0?null:pe/re*100,[pe,re]),xe=A.useMemo(()=>{if(!U)return[];const ge=U.reduce((De,G)=>{const Ee=G.category||"Other",Ve=G.price||0;return De[Ee]=(De[Ee]||0)+Ve,De},{});return Object.entries(ge).map(([De,G])=>({name:De,value:parseFloat(G.toFixed(2))}))},[U]),je=["#9C27B0","#3F51B5","#2196F3","#4CAF50","#FFEB3B","#FF9800","#F44336","#00BCD4","#E91E63","#8BC34A","#FFC107","#009688"];return H||Q?I.jsx("div",{className:"flex justify-center items-center h-64",children:I.jsx(_r,{size:32,className:"animate-spin text-icon"})}):ce||me?(console.error("Dashboard Data Error:",{purchasesError:ce,billsError:me}),I.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mt-4",children:[I.jsx("strong",{children:"Error:"})," Failed to load some dashboard data. Please try refreshing the page.",ce&&I.jsxs("p",{className:"text-sm",children:["- Purchases: ",ce.message]}),me&&I.jsxs("p",{className:"text-sm",children:["- Bills: ",me.message]})]})):I.jsxs("div",{className:"space-y-6",children:[I.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[I.jsxs("div",{className:"p-6 rounded-2xl bg-glass border border-border shadow-lg md:col-span-1 flex flex-col justify-between",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Total Spend This Month"}),k?I.jsx("div",{className:"h-10 my-1 flex items-center",children:I.jsx(_r,{size:24,className:"animate-spin text-icon opacity-50"})}):I.jsx("p",{className:"text-4xl font-bold mb-4",children:Qn(pe)})]}),re!=null&&re>0&&I.jsxs("div",{children:[I.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mb-1",children:[I.jsxs("span",{children:["Budget: ",Qn(re)]}),I.jsxs("span",{children:[k?"...":Math.max(0,be||0).toFixed(0),"% Used"]})]}),I.jsxs("div",{className:"w-full bg-input rounded-full h-2.5 overflow-hidden",children:[" ",I.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${k?0:Math.min(100,Math.max(0,be||0))}%`}})]}),(be||0)>100&&!k&&I.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:"Budget exceeded!"})]}),(re==null||re<=0)&&!H&&I.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Set a budget in Settings to track progress."})]}),I.jsxs("div",{className:"p-6 rounded-2xl bg-glass border border-border shadow-lg md:col-span-2 min-h-[300px] flex flex-col",children:[I.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Category Breakdown (This Month)"}),k?I.jsx(dM,{}):U&&U.length>0?I.jsx("div",{className:"flex-grow min-h-[250px] w-full h-full",children:I.jsx(Yw,{width:"100%",height:"100%",children:I.jsxs(Dce,{children:[I.jsx(fL,{data:xe,cx:"50%",cy:"50%",outerRadius:"80%",innerRadius:"50%",fill:"#8884d8",dataKey:"value",nameKey:"name",labelLine:!1,label:({name:ge,percent:De,value:G})=>`${ge} (${(De*100).toFixed(0)}%)`,children:xe.map((ge,De)=>I.jsx(ff,{fill:je[De%je.length]},`cell-${De}`))}),I.jsx(gE,{formatter:ge=>Qn(ge||0)})]})})}):I.jsx(hM,{message:"No spending data for this month yet."})]}),I.jsxs("div",{className:"p-6 rounded-2xl bg-glass border border-border shadow-lg md:col-span-3",children:[I.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[I.jsx("h2",{className:"text-lg font-semibold",children:"Recent Bills"}),I.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[I.jsx(V4,{size:16,className:"text-text-secondary"}),I.jsx("label",{htmlFor:"year-filter",className:"font-medium",children:"Year:"}),I.jsx("select",{id:"year-filter",value:O,onChange:ge=>M(ge.target.value),disabled:Q,className:"p-1 rounded-md bg-input border border-border focus:ring-1 focus:ring-primary focus:outline-none text-sm",children:P.map(ge=>I.jsx("option",{value:ge,children:ge},ge))})]})]}),fe?I.jsx(dM,{}):W&&W.length>0?I.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:[" ",W.map(ge=>{const De=Ml(ge.purchaseDate),G=ge.totalBill!==null&&ge.totalBill!==void 0?Qn(ge.totalBill):"";return I.jsxs("div",{className:"flex justify-between items-center p-3 bg-input rounded-lg border border-border group transition-shadow hover:shadow-md",children:[I.jsxs("div",{className:"flex items-center gap-3 flex-grow cursor-pointer overflow-hidden mr-2",onClick:()=>B(ge),title:`View details for ${ge.shopName}`,children:[I.jsx(XH,{size:20,className:"text-icon opacity-80 flex-shrink-0"}),I.jsxs("div",{className:"flex-grow overflow-hidden",children:[I.jsx("p",{className:"font-medium group-hover:text-primary transition-colors truncate",title:ge.shopName,children:ge.shopName}),I.jsxs("p",{className:"text-xs text-text-secondary truncate",title:`${De} - ${ge.itemCount||0} items ${G&&`- ${G}`}`,children:[De," - ",ge.itemCount||0," items ",G&&`- ${G}`]})]})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[I.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),t(ge.id,ge.purchaseDate)},title:"Add More Items",className:"p-1.5 text-text-secondary hover:text-green-500 transition-colors rounded hover:bg-green-500/10 focus:outline-none focus:ring-1 focus:ring-green-500",children:I.jsx(iK,{size:16})}),I.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),R(ge)},title:"Edit Bill Info",className:"p-1.5 text-text-secondary hover:text-primary transition-colors rounded hover:bg-primary/10 focus:outline-none focus:ring-1 focus:ring-primary",children:I.jsx(U4,{size:16})}),I.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),j(ge)},title:"Delete Bill",className:"p-1.5 text-text-secondary hover:text-red-500 transition-colors rounded hover:bg-red-500/10 focus:outline-none focus:ring-1 focus:ring-red-500",children:I.jsx(qx,{size:16})}),I.jsx("button",{onClick:()=>B(ge),title:"View Details",className:"p-1.5 text-text-secondary hover:text-blue-500 transition-colors rounded hover:bg-blue-500/10 focus:outline-none focus:ring-1 focus:ring-blue-500",children:I.jsx(TH,{size:16})})]})]},ge.id)})]}):I.jsx(hM,{message:O==="All"?"No bills logged yet.":`No bills found for ${O}.`})]})]}),I.jsx(OG,{isOpen:s,onClose:q,bill:c}),I.jsx(e3,{isOpen:d,onClose:N,onSuccess:N,initialData:p}),I.jsx(t3,{isOpen:_,onClose:z,onConfirm:V,title:"Delete Bill?",message:`Are you sure you want to delete the bill from "${E?.shopName}" on ${Ml(E?.purchaseDate)}? This will also delete all ${E?.itemCount||0} associated items. This action cannot be undone.`,confirmText:"Yes, Delete Bill"})]})},jce=({message:t})=>I.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-text-secondary py-10",children:[I.jsx(Bx,{size:32,className:"mb-2 opacity-50"}),I.jsx("p",{children:t})]}),Vce=()=>I.jsx("div",{className:"flex justify-center items-center py-10",children:I.jsx(_r,{size:24,className:"animate-spin text-icon opacity-70"})}),Lce=()=>{const{theme:t}=_a(),{userId:e,appId:n}=ba(),[r,i]=A.useState(""),[s,l]=A.useState(!1),{data:c,isLoading:f,error:d}=bo(e&&n?`artifacts/${n}/users/${e}/unique_items`:null,{}),m=A.useMemo(()=>c?c.filter(v=>v.purchaseCount>0).filter(v=>v.displayName.toLowerCase().includes(r.toLowerCase())).filter(v=>s?v.isMarkedForShopping===!0:!0).sort((v,_)=>{const x=v.isMarkedForShopping||!1,E=_.isMarkedForShopping||!1;return x&&!E?-1:!x&&E?1:v.displayName.localeCompare(_.displayName)}):[],[c,r,s]),p=A.useCallback(async(v,_)=>{try{await EG(v,!_,e,n)}catch{}},[e,n]);return I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[I.jsx("h1",{className:"text-3xl font-bold",children:"Smart List"}),I.jsxs("button",{onClick:()=>l(!s),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors border ${s?"bg-primary/10 text-primary border-primary":"bg-input border-border text-text-secondary hover:border-primary/50 hover:text-primary"}`,children:[I.jsx(VH,{size:18}),s?"Show All Items":"Show Shopping List"]})]}),I.jsx("p",{className:"text-text-secondary",children:s?"Showing items marked as needed.":"All items you've purchased, sorted alphabetically."}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"text",placeholder:"Search items...",value:r,onChange:v=>i(v.target.value),className:"w-full p-3 pl-10 rounded-lg bg-input border border-border focus:ring-2 focus:ring-primary focus:outline-none"}),I.jsx($4,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary"})]}),I.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl bg-glass border border-border shadow-lg space-y-4",children:[f&&I.jsx(Vce,{}),d&&I.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[I.jsx("strong",{children:"Error:"})," Failed to load smart list. ",d.message]}),!f&&!d&&I.jsx(I.Fragment,{children:m.length>0?I.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:m.map(v=>I.jsx(Bce,{item:v,onToggleMark:p},v.id))}):I.jsx(jce,{message:s?"Your shopping list is empty.":"No items found. Start logging purchases!"})})]})]})},zce=({history:t})=>{if(!t||t.length<2)return I.jsx(pR,{size:14,className:"text-text-secondary"});const e=t[0].price,n=t[1].price;return e>n?I.jsx(sH,{size:14,className:"text-red-500"}):e<n?I.jsx(iH,{size:14,className:"text-green-500"}):I.jsx(pR,{size:14,className:"text-text-secondary"})},Bce=({item:t,onToggleMark:e})=>{const n=Kx(t.category),r=t.isMarkedForShopping||!1,i=t.priceHistory&&t.priceHistory.length>0?t.priceHistory[0].price:t.lastPrice;return I.jsxs("div",{className:`p-3 sm:p-4 bg-background rounded-lg border ${r?"border-primary":"border-border"} flex justify-between items-center gap-2 group transition-colors`,children:[I.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-grow",children:[I.jsx(n,{size:20,className:"text-icon flex-shrink-0"}),I.jsx("div",{className:"overflow-hidden",children:I.jsx("p",{className:`text-base sm:text-lg font-semibold truncate ${r?"text-text-secondary":"text-text"}`,title:t.displayName,children:t.displayName})})]}),I.jsxs("div",{className:"flex-shrink-0 text-right",children:[I.jsxs("p",{className:"text-xs text-text-secondary whitespace-nowrap hidden sm:block",children:[" ","Last bought: ",hG(t.lastPurchaseDate)]}),I.jsxs("div",{className:"flex items-center justify-end gap-1",children:[I.jsx(zce,{history:t.priceHistory}),I.jsx("p",{className:"text-sm sm:text-base font-medium whitespace-nowrap",children:Qn(i)})]})]}),I.jsx("div",{className:"flex-shrink-0 ml-2",children:I.jsx("button",{onClick:()=>e(t.id,r),title:r?"Mark as Purchased / Not Needed":"Mark as Needed / Used",className:`p-2 rounded-full transition-colors ${r?"bg-primary/10 text-primary hover:bg-primary/20":"bg-input text-text-secondary hover:bg-border group-hover:opacity-100 sm:opacity-0"}`,children:I.jsx(zd,{size:18,strokeWidth:r?3:2})})})]})},Q1=({message:t})=>I.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-text-secondary py-10",children:[I.jsx(Bx,{size:32,className:"mb-2 opacity-50"}),I.jsx("p",{children:t})]}),mM=()=>I.jsx("div",{className:"flex justify-center items-center py-10",children:I.jsx(_r,{size:24,className:"animate-spin text-icon opacity-70"})}),Uce=()=>{const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0),r=i=>i.toISOString().split("T")[0];return{start:r(e),end:r(n)}},$ce=t=>{const e=new Date;return e.setDate(1),e.setHours(0,0,0,0),e.setMonth(e.getMonth()-t),Ke.fromDate(e)},pM=["#9C27B0","#3F51B5","#2196F3","#4CAF50","#FFEB3B","#FF9800","#F44336","#00BCD4","#E91E63","#8BC34A","#FFC107","#009688"],qce=()=>{const{theme:t}=_a(),{userId:e,appId:n}=ba(),r=Uce(),[i,s]=A.useState(r.start),[l,c]=A.useState(r.end),[f,d]=A.useState([]),[m,p]=A.useState(""),[v,_]=A.useState(!1),x=A.useRef(null);A.useEffect(()=>{const W=fe=>{x.current&&!x.current.contains(fe.target)&&_(!1)};return v?document.addEventListener("mousedown",W):document.removeEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[v]);const{startTimestamp:E,endTimestamp:T,dateRangeString:O}=A.useMemo(()=>{try{const W=new Date(i+"T00:00:00"),fe=Ke.fromDate(W),me=new Date(l+"T23:59:59"),Se=Ke.fromDate(me),H=!isNaN(W)&&!isNaN(me)?`${Ml(W)} - ${Ml(me)}`:"Invalid Date Range";return{startTimestamp:fe,endTimestamp:Se,dateRangeString:H}}catch(W){return console.error("Error parsing date range:",W),{startTimestamp:null,endTimestamp:null,dateRangeString:"Invalid Date Range"}}},[i,l]),{data:M,isLoading:P,error:$}=bo(e&&n&&E?.seconds&&T?.seconds?`artifacts/${n}/users/${e}/purchases`:null,{whereClauses:[["purchaseDate",">=",E],["purchaseDate","<=",T]],orderByClauses:[["purchaseDate","desc"]]}),B=A.useMemo(()=>$ce(12),[]),{data:q,isLoading:R,error:N}=bo(e&&n?`artifacts/${n}/users/${e}/purchases`:null,{whereClauses:[["purchaseDate",">=",B]]}),j=A.useMemo(()=>M?M.filter(W=>f.length===0||f.includes(W.category)).filter(W=>!m||W.displayName.toLowerCase().includes(m.toLowerCase())):[],[M,f,m]),z=A.useMemo(()=>{if(!j)return[];const W=j.reduce((fe,me)=>{const Se=me.category||"Other",H=me.price||0;return fe[Se]=(fe[Se]||0)+H,fe},{});return Object.entries(W).map(([fe,me])=>({name:fe,value:parseFloat(me.toFixed(2))})).sort((fe,me)=>me.value-fe.value)},[j]),V=A.useMemo(()=>{if(!q)return[];const W={},fe=new Date;for(let me=0;me<12;me++){const Se=new Date(fe.getFullYear(),fe.getMonth()-me,1),H=`${Se.getFullYear()}-${String(Se.getMonth()+1).padStart(2,"0")}`;W[H]={name:Se.toLocaleDateString("en-US",{month:"short",year:"numeric"}),value:0}}return q.forEach(me=>{if(me.purchaseDate?.toDate&&me.price>0){const Se=me.purchaseDate.toDate(),H=`${Se.getFullYear()}-${String(Se.getMonth()+1).padStart(2,"0")}`;W[H]&&(W[H].value+=me.price)}}),Object.entries(W).sort(([me],[Se])=>me.localeCompare(Se)).map(([me,Se])=>({name:Se.name,value:parseFloat(Se.value.toFixed(2))}))},[q]),U=A.useMemo(()=>j?j.reduce((W,fe)=>W+(fe.price||0),0):0,[j]),k=W=>{d(fe=>fe.includes(W)?fe.filter(me=>me!==W):[...fe,W])},ce=()=>{wG(j,`${i}_to_${l}`)},we=P||R,Q=[$?.message,N?.message].filter(Boolean).join("; ");return I.jsxs("div",{className:"space-y-6",children:[I.jsx("h1",{className:"text-3xl font-bold",children:"Reports"}),I.jsxs("div",{className:"p-4 rounded-2xl bg-glass border border-border shadow-lg space-y-4",children:[I.jsx("h2",{className:"font-semibold text-lg mb-2",children:"Filters"}),I.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium mb-1",children:"Start Date"}),I.jsx("input",{type:"date",id:"start-date",value:i,onChange:W=>s(W.target.value),className:"w-full p-2 rounded-md bg-input border border-border focus:ring-1 focus:ring-primary focus:outline-none text-sm"})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium mb-1",children:"End Date"}),I.jsx("input",{type:"date",id:"end-date",value:l,onChange:W=>c(W.target.value),min:i,className:"w-full p-2 rounded-md bg-input border border-border focus:ring-1 focus:ring-primary focus:outline-none text-sm"})]}),I.jsxs("div",{className:"relative",ref:x,children:[" ",I.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),I.jsxs("button",{onClick:()=>_(!v),className:"w-full flex justify-between items-center p-2 rounded-md bg-input border border-border text-sm text-left",children:[I.jsx("span",{children:f.length===0?"All Categories":`${f.length} Selected`}),I.jsx(V4,{size:16,className:"text-text-secondary"})]}),v&&I.jsxs("div",{className:"absolute top-full left-0 mt-1 w-full max-h-60 overflow-y-auto bg-glass border border-border rounded-md shadow-lg z-10 p-2 space-y-1",children:[I.jsx("button",{onClick:()=>{d([]),_(!1)},className:"w-full text-left text-sm px-2 py-1 rounded hover:bg-primary/10 text-primary font-medium",children:"Clear All"}),Tl.map(W=>I.jsxs("div",{className:"flex items-center gap-2 cursor-pointer p-1 rounded hover:bg-input",onClick:()=>k(W.name),children:[f.includes(W.name)?I.jsx(nK,{size:16,className:"text-primary"}):I.jsx(sK,{size:16,className:"text-text-secondary"}),I.jsx("span",{className:"text-sm",children:W.name})]},W.name))]})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"item-name-filter",className:"block text-sm font-medium mb-1",children:"Item Name"}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"text",id:"item-name-filter",placeholder:"Search item...",value:m,onChange:W=>p(W.target.value),className:"w-full p-2 pl-8 rounded-md bg-input border border-border focus:ring-1 focus:ring-primary focus:outline-none text-sm"}),I.jsx($4,{size:16,className:"absolute left-2 top-1/2 -translate-y-1/2 text-text-secondary"})]})]})]})]}),I.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl bg-glass border border-border shadow-lg min-h-[300px]",children:[I.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Yearly Spending Trend (Last 12 Months)"}),R?I.jsx(mM,{}):N?I.jsxs("p",{className:"text-red-500",children:["Error loading yearly data: ",N.message]}):V&&V.length>0?I.jsx(Yw,{width:"100%",height:250,children:I.jsxs(fM,{data:V,margin:{top:5,right:10,left:10,bottom:5},children:[I.jsx(wE,{strokeDasharray:"3 3",stroke:"var(--color-border)",opacity:.5}),I.jsx(xE,{dataKey:"name",fontSize:12,stroke:"var(--color-text-secondary)"}),I.jsx(AE,{fontSize:12,stroke:"var(--color-text-secondary)",tickFormatter:W=>Qn(W)}),I.jsx(gE,{cursor:{fill:"var(--color-input)"},contentStyle:{backgroundColor:"var(--color-glass)",borderColor:"var(--color-border)",borderRadius:"8px",fontSize:"12px",color:"var(--color-text)"},formatter:W=>[Qn(W),"Spend"]}),I.jsx(bE,{dataKey:"value",fill:"var(--color-primary)",radius:[4,4,0,0]})]})}):!R&&!N?I.jsx(Q1,{message:"Not enough data for yearly trend."}):null]}),I.jsxs("div",{className:"rounded-2xl bg-glass border border-border shadow-lg overflow-hidden",children:[I.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center flex-wrap gap-2",children:[I.jsxs("div",{children:[I.jsxs("h2",{className:"text-lg font-semibold",children:["Purchases (",O,")"]}),!P&&!$&&j&&I.jsxs("p",{className:"text-sm text-text-secondary",children:["Total: ",Qn(U)," (",j.length," items)"]})]}),I.jsxs("button",{onClick:ce,disabled:P||!j||j.length===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium bg-primary text-primary-text primary-hover transition-colors disabled:opacity-50 text-sm",children:[I.jsx(j4,{size:16}),"Export CSV"]})]}),P&&I.jsx(mM,{}),$&&I.jsx("div",{className:"p-4",children:I.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[I.jsx("strong",{children:"Error loading purchases for date range:"})," ",$.message]})}),!P&&!$&&I.jsx(I.Fragment,{children:j&&j.length>0?I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-4",children:[I.jsx("div",{className:"lg:col-span-2 max-h-[60vh] overflow-y-auto border border-border rounded-lg",children:I.jsxs("table",{className:"w-full text-left",children:[I.jsx("thead",{className:"sticky top-0 bg-glass border-b border-border",children:I.jsxs("tr",{children:[I.jsx("th",{className:"p-3 text-xs sm:text-sm font-semibold",children:"Date"}),I.jsx("th",{className:"p-3 text-xs sm:text-sm font-semibold",children:"Item"}),I.jsx("th",{className:"p-3 text-xs sm:text-sm font-semibold hidden md:table-cell",children:"Category"}),I.jsx("th",{className:"p-3 text-xs sm:text-sm font-semibold",children:"Qty"}),I.jsx("th",{className:"p-3 text-xs sm:text-sm font-semibold text-right",children:"Price"})]})}),I.jsx("tbody",{className:"divide-y divide-border",children:j.map(W=>I.jsxs("tr",{className:"hover:bg-black/5 dark:hover:bg-white/5",children:[I.jsx("td",{className:"p-3 text-xs sm:text-sm whitespace-nowrap",children:Ml(W.purchaseDate)}),I.jsx("td",{className:"p-3 font-medium text-xs sm:text-sm",children:W.displayName}),I.jsx("td",{className:"p-3 text-xs sm:text-sm hidden md:table-cell",children:W.category}),I.jsxs("td",{className:"p-3 text-xs sm:text-sm whitespace-nowrap",children:[W.quantity," ",W.unit]}),I.jsx("td",{className:"p-3 text-xs sm:text-sm font-medium text-right whitespace-nowrap",children:Qn(W.price)})]},W.id))})]})}),I.jsxs("div",{className:"lg:col-span-1 min-h-[250px]",children:[I.jsx("h3",{className:"font-semibold mb-2 text-center text-sm",children:"Spending by Category"}),z.length>0?I.jsxs(Yw,{width:"100%",height:Math.max(250,z.length*25),children:[" ",I.jsxs(fM,{data:z,layout:"vertical",margin:{top:5,right:20,left:30,bottom:5},children:[I.jsx(wE,{strokeDasharray:"3 3",stroke:"var(--color-border)",opacity:.3}),I.jsx(xE,{type:"number",fontSize:10,stroke:"var(--color-text-secondary)",tickFormatter:W=>Qn(W)}),I.jsx(AE,{dataKey:"name",type:"category",width:80,fontSize:10,stroke:"var(--color-text-secondary)",interval:0}),I.jsx(gE,{cursor:{fill:"var(--color-input)"},contentStyle:{backgroundColor:"var(--color-glass)",borderColor:"var(--color-border)",borderRadius:"8px",fontSize:"12px",color:"var(--color-text)"},formatter:W=>[Qn(W),"Spend"]}),I.jsx(bE,{dataKey:"value",barSize:15,radius:[0,4,4,0],children:z.map((W,fe)=>I.jsx(ff,{fill:pM[fe%pM.length]},`cell-${fe}`))})]})]}):I.jsx(Q1,{message:"No category data for selected filters."})]})]}):Q?null:I.jsx(Q1,{message:"No purchases found for the selected filters."})}),!we&&Q&&I.jsxs("div",{className:"p-4 text-center text-red-500",children:["Could not load all report data. Error(s): ",Q]})]})]})},Fce=()=>{const{setCurrentTheme:t,themes:e,themeName:n}=_a();return I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Select Theme"}),I.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.values(e).map(r=>I.jsxs("button",{onClick:()=>t(r.name.toLowerCase()),className:`p-4 rounded-lg border-2
              ${n===r.name.toLowerCase()?"border-primary":"border-border"}
              bg-background text-text shadow-sm hover:shadow-md transition-all`,children:[I.jsxs("div",{className:"flex justify-between items-center mb-3",children:[I.jsx("span",{className:"font-semibold",children:r.name}),n===r.name.toLowerCase()&&I.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:I.jsx(k4,{size:14,className:"text-primary-text"})})]}),I.jsxs("div",{className:"flex gap-1",children:[I.jsx("div",{className:"w-1/2 h-5 rounded",style:{backgroundColor:r.css["--color-primary"]}}),I.jsx("div",{className:"w-1/2 h-5 rounded border",style:{backgroundColor:r.css["--color-glass"],borderColor:r.css["--color-border"]}})]})]},r.name))})]})},Hce=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?I.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:e,children:I.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl bg-glass border border-border shadow-xl z-50",onClick:s=>s.stopPropagation(),children:[I.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[I.jsx("div",{className:"p-2 bg-red-500/20 rounded-full",children:I.jsx(H4,{size:24,className:"text-red-500"})}),I.jsx("h2",{className:"text-xl font-bold",children:r})]}),I.jsx("p",{className:"text-sm text-text-secondary mb-6",children:i}),I.jsxs("div",{className:"flex justify-end gap-3",children:[I.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 rounded-lg font-medium hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:"Cancel"}),I.jsx("button",{type:"button",onClick:n,className:"flex items-center justify-center gap-2 px-5 py-2 rounded-lg font-medium bg-red-600 text-white hover:bg-red-700 transition-colors",children:"Confirm"})]})]})}):null,Kce=()=>{const{userId:t,appId:e}=ba(),{data:n,isLoading:r,updateDocument:i}=zx(t&&e?`artifacts/${e}/users/${t}/profile`:null,t),[s,l]=A.useState(""),[c,f]=A.useState(!1),[d,m]=A.useState(!1),[p,v]=A.useState(!1),[_,x]=A.useState(!1),[E,T]=A.useState(null),[O,M]=A.useState(!1),P=A.useRef(null);A.useEffect(()=>{n&&n.monthlyBudget!==void 0&&n.monthlyBudget!==null?l(String(n.monthlyBudget)):r||l("")},[n,r]);const $=async()=>{f(!0);const k=parseFloat(s);if(isNaN(k)||k<0){st.error("Please enter a valid positive number for the budget."),f(!1);return}try{await i({monthlyBudget:k},{merge:!0}),st.success("Monthly budget updated!")}catch(ce){console.error("Error saving budget:",ce),st.error("Failed to save budget.")}finally{f(!1)}},B=k=>{navigator.clipboard.writeText(k).then(()=>st.success("User ID copied!")).catch(()=>st.error("Failed to copy User ID."))},q=async()=>{if(!t||!e){st.error("User not authenticated.");return}m(!0);const k=st.loading("Starting backup...");try{await bG(t,e),st.success("Data backup successful! Check your downloads.",{id:k})}catch(ce){console.error("Backup failed:",ce),st.error(`Backup failed: ${ce.message}`,{id:k})}finally{m(!1)}},R=()=>{P.current?.click()},N=k=>{const ce=k.target.files?.[0];ce&&ce.type==="application/json"?(T(ce),x(!0)):ce&&st.error("Invalid file type. Please select a .json backup file."),P.current&&(P.current.value="")},j=async()=>{if(x(!1),!E||!t||!e)return;v(!0);const k=st.loading("Restoring data... This may take a moment.");try{await _G(E,t,e),st.success("Data restored successfully!",{id:k,duration:4e3})}catch(ce){console.error("Restore failed:",ce),st.error(`Restore failed: ${ce.message}`,{id:k,duration:5e3})}finally{v(!1),T(null)}},z=()=>{x(!1),T(null)},V=async()=>{M(!0);try{await GF(),st.success("Logged out successfully.")}catch(k){console.error("Logout failed:",k),st.error(`Logout failed: ${k.message}`),M(!1)}},U=n?.monthlyBudget;return I.jsxs("div",{className:"space-y-6 max-w-lg",children:[I.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),I.jsxs("div",{className:"p-6 rounded-2xl bg-glass border border-border shadow-lg space-y-6",children:[I.jsx(Fce,{}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Monthly Budget"}),I.jsxs("p",{className:"text-xs text-text-secondary mb-2",children:["Set a monthly budget to track your spending progress on the dashboard. Current: ",r?"Loading...":U?Qn(U):"Not Set"]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("input",{type:"number",step:"10",min:"0",placeholder:"5000",value:s,onChange:k=>l(k.target.value),disabled:c||r,className:"flex-grow p-2 rounded-md bg-input border border-border focus:ring-1 focus:ring-primary focus:outline-none disabled:opacity-50"}),I.jsxs("button",{onClick:$,disabled:c||r,className:"flex items-center justify-center gap-1 px-4 py-2 rounded-lg font-medium bg-primary text-primary-text primary-hover transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:[c?I.jsx(_r,{size:18,className:"animate-spin"}):I.jsx($x,{size:18}),c?"Saving...":"Save"]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Account"}),I.jsxs("div",{className:"p-4 rounded-lg bg-input border border-border",children:[I.jsx("p",{className:"text-sm font-medium",children:"App ID:"}),I.jsx("p",{className:"text-xs truncate mb-2",children:e}),I.jsx("p",{className:"text-sm font-medium",children:"User ID:"}),I.jsxs("div",{className:"flex justify-between items-center gap-2",children:[I.jsx("p",{className:"text-xs truncate",children:t}),I.jsx(bH,{size:16,className:"cursor-pointer hover:text-primary",onClick:()=>B(t)})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Data Management"}),I.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[I.jsx("input",{type:"file",accept:".json",ref:P,onChange:N,style:{display:"none"}}),I.jsxs("button",{onClick:q,disabled:d||p,className:"flex w-full sm:w-auto items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:[d?I.jsx(_r,{size:16,className:"animate-spin"}):I.jsx(j4,{size:16}),d?"Backing up...":"Backup My Data"]}),I.jsxs("button",{onClick:R,disabled:p||d,className:"flex w-full sm:w-auto items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium bg-orange-600 text-white hover:bg-orange-700 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:[p?I.jsx(_r,{size:16,className:"animate-spin"}):I.jsx(fK,{size:16}),p?"Restoring...":"Restore from Backup"]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sign Out"}),I.jsxs("button",{onClick:V,disabled:O||d||p,className:"flex w-full sm:w-auto items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium bg-red-600 text-white hover:bg-red-700 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:[O?I.jsx(_r,{size:16,className:"animate-spin"}):I.jsx(BH,{size:16}),O?"Logging out...":"Log Out"]})]})]}),I.jsx(Hce,{isOpen:_,onClose:z,onConfirm:j,title:"Confirm Data Restore",message:`Restoring from "${E?.name||"backup"}" will OVERWRITE all current data in your account. This action cannot be undone. Are you sure you want to proceed?`})]})},Gce=()=>{const t=async()=>{try{await KF()}catch(e){alert(`Login Failed: ${e.message}`)}};return I.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-cyan-50 to-blue-100",children:[I.jsx(z4,{size:48,className:"text-primary mb-4"}),I.jsx("h1",{className:"text-3xl font-bold mb-2 text-slate-800",children:"Welcome to PantryPal"}),I.jsx("p",{className:"text-slate-600 mb-6",children:"Sign in to track your pantry across devices."}),I.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-white border border-border rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[I.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",children:[I.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),I.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.53-4.18 7.09-10.36 7.09-17.65z"}),I.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),I.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),I.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Sign in with Google"]})]})},VL=zy.createContext(),Yce=({children:t})=>{const e=ba();return I.jsx(VL.Provider,{value:e,children:t})},Wce=()=>zy.useContext(VL);function Qce(){return I.jsx(Yce,{children:I.jsx(Xce,{})})}function Xce(){const[t,e]=A.useState("dashboard"),{user:n,isAuthReady:r}=Wce(),[i,s]=A.useState(!1),[l,c]=A.useState(!1),[f,d]=A.useState(null),[m,p]=A.useState(null),v=()=>{s(!0)},_=(T,O)=>{s(!1),d(T),p(O?.purchaseDate),c(!0)},x=(T,O)=>{if(!T||!O){console.error("Missing billId or billDate");return}let M;if(O instanceof Ke){const P=O.toDate(),$=P.getFullYear(),B=String(P.getMonth()+1).padStart(2,"0"),q=String(P.getDate()).padStart(2,"0");M=`${$}-${B}-${q}`}else if(typeof O=="string"&&O.match(/^\d{4}-\d{2}-\d{2}$/))M=O;else if(O instanceof Date){const P=O.getFullYear(),$=String(O.getMonth()+1).padStart(2,"0"),B=String(O.getDate()).padStart(2,"0");M=`${P}-${$}-${B}`}else{console.error("Invalid date format provided:",O);return}d(T),p(M),c(!0)},E=()=>{c(!1),d(null),p(null)};return r?n?I.jsxs(hR,{children:[I.jsx(fG,{position:"top-center",reverseOrder:!1,toastOptions:{duration:3e3}}),I.jsxs(wK,{currentPage:t,setCurrentPage:e,setIsModalOpen:v,children:[t==="dashboard"&&I.jsx(kce,{openAddItemsToBill:x}),t==="smart-list"&&I.jsx(Lce,{}),t==="reports"&&I.jsx(qce,{openAddItemsToBill:x}),t==="settings"&&I.jsx(Kce,{})]}),I.jsx(e3,{isOpen:i,onClose:()=>s(!1),onSuccess:_}),I.jsx(TG,{isOpen:l,onClose:E,billId:f,billDate:m})]}):I.jsxs(hR,{children:[" ",I.jsx(Gce,{})]}):I.jsx(AG,{})}Az.createRoot(document.getElementById("root")).render(I.jsx(zy.StrictMode,{children:I.jsx(Qce,{})}));
